{"version":3,"sources":["webpack:///bundle.js","webpack:///webpack/bootstrap 61f222ba9b19011ad1ea","webpack:///./index.js","webpack:///../~/css-loader/lib/css-base.js","webpack:///../~/style-loader/addStyles.js","webpack:///external \"angular\"","webpack:///../~/angular-jwt/dist/angular-jwt.js","webpack:///../~/angular-jwt/index.js","webpack:///./components/login-form/style.scss","webpack:///./components/logout-button/style.scss","webpack:///./components/post-create/style.scss","webpack:///./components/post-delete-button/style.scss","webpack:///./components/post-list/style.scss","webpack:///./components/user-menu/style.scss","webpack:///./index.scss","webpack:///./components/index.js","webpack:///./components/login-form/controller.js","webpack:///./components/login-form/index.js","webpack:///./components/logout-button/controller.js","webpack:///./components/logout-button/index.js","webpack:///./components/post-create/controller.js","webpack:///./components/post-create/index.js","webpack:///./components/post-delete-button/controller.js","webpack:///./components/post-delete-button/index.js","webpack:///./components/post-list/controller.js","webpack:///./components/post-list/index.js","webpack:///./components/user-auth/controller.js","webpack:///./components/user-auth/index.js","webpack:///./components/user-menu/controller.js","webpack:///./components/user-menu/index.js","webpack:///./config/index.js","webpack:///./config/production.js","webpack:///./filters/index.js","webpack:///./services/authentication.js","webpack:///./services/file-post.js","webpack:///./services/index.js","webpack:///./services/post.js","webpack:///./services/user.js","webpack:///../~/ng-file-upload/dist/ng-file-upload-all.js","webpack:///../~/ng-file-upload/index.js","webpack:///../~/ngstorage/ngStorage.js","webpack:///./components/login-form/template.html","webpack:///./components/logout-button/template.html","webpack:///./components/post-create/dialog.html","webpack:///./components/post-create/template.html","webpack:///./components/post-delete-button/template.html","webpack:///./components/post-list/template.html","webpack:///./components/user-menu/template.html","webpack:///./components/login-form/style.scss?8d2a","webpack:///./components/logout-button/style.scss?e923","webpack:///./components/post-create/style.scss?1b54","webpack:///./components/post-delete-button/style.scss?b1f4","webpack:///./components/post-list/style.scss?6b1b","webpack:///./components/user-menu/style.scss?8064","webpack:///./index.scss?f049","webpack:///external \"\\\"ngAnimate\\\"\"","webpack:///external \"\\\"ngAria\\\"\"","webpack:///external \"\\\"ngCookies\\\"\"","webpack:///external \"\\\"ngMaterial\\\"\"","webpack:///external \"\\\"ngMessages\\\"\"","webpack:///external \"\\\"ngResource\\\"\"","webpack:///external \"\\\"ngRoute\\\"\""],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","angular","config","app","constant","env","loginSuccess","loginFailed","logoutSuccess","sessionTimeout","notAuthenticated","notAuthorized","$logProvider","ENV","debugEnabled","$locationProvider","$resourceProvider","html5Mode","hashPrefix","defaults","stripTrailingSlashes","$httpProvider","jwtInterceptorProvider","tokenGetter","$localStorage","token","interceptors","push","element","document","ready","bootstrap","name","strictDi","list","toString","result","i","this","length","item","join","mediaQuery","alreadyImportedModules","addStylesToDom","styles","options","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","Error","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","type","createLinkElement","linkElement","rel","obj","update","remove","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","bind","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","setAttribute","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","memoize","fn","memo","apply","arguments","isOldIE","test","window","navigator","userAgent","toLowerCase","getElementsByTagName","newList","mayRemove","textStore","replacement","filter","Boolean","provider","urlParam","authHeader","authPrefix","$get","$q","$injector","$rootScope","request","skipAuthorization","params","headers","tokenPromise","when","invoke","then","responseError","response","status","$broadcast","reject","service","urlBase64Decode","str","output","replace","decodeURIComponent","escape","atob","decodeToken","split","decoded","parse","getTokenExpirationDate","exp","d","Date","setUTCSeconds","isTokenExpired","offsetSeconds","valueOf","directive","Authentication","ctrl","login","credentials","scope","bindToController","controller","controllerAs","template","logout","$log","$mdDialog","FilePost","postCreateSuccess","loading","uploadPercentage","post","createdPost","data","show","dialog","submit","$update","onUpdate","hide","cancel","$promise","onDelete","err","console","error","onCreate","postCreateError","postUploadEvent","evt","parseInt","total","createPost","upload","postDeleteSuccess","postDeleteError","deletePost","User","AUTH_EVENTS","posts","query","user","$on","onPostCreate","newPost","debug","onPostDelete","deletedPost","forEach","onPostUpdate","updatedPost","auth","restrict","backendUrl","$http","$timeout","jwtHelper","init","getToken","_this","authSuccess","setToken","expiryDate","setExpiryTimeout","refreshToken","REFRESH_URL","clearToken","refreshTimeout","REFRESH_LEEWAY","set","AUTH_URL","current","clear","isAuthenticated","$resource","Upload","method","url","resp","file","progressPercentage","factory","currentUser","newUser","patchXHR","fnName","newFn","XMLHttpRequest","prototype","redefineProp","xhr","prop","Object","defineProperty","get","e","FileAPI","shouldLoad","FormData","forceLoad","initializeUploadListener","__listeners","origAddEventListener","addEventListener","t","orig","b","__url","message","__origError","h","__fileApiXHR","getResponseHeader","getAllResponseHeaders","abort","header","value","val","Function","__requestHeaders","__isFileAPIShim","formData","jsonp","cache","complete","fileApiXHR","isString","__completed","load","__loaded","__total","target","lengthComputable","loadend","undefined","statusText","responseText","onreadystatechange","onload","progress","setTimeout","noContentTimeout","files","size","key","hasFlash","append","__isFileAPIBlobShim","isInputTypeFile","elem","tagName","attr","fo","ActiveXObject","mimeTypes","getOffset","left","top","jQuery","offset","offsetParent","offsetLeft","scrollLeft","offsetTop","scrollTop","html5","jsUrl","basePath","src","script","allScripts","jsPath","search","substring","staticPath","ngfFixIE","fileElem","changeFn","fixInputStyle","label","parent","removeClass","unbind","fileApiChangeFn","addClass","offsetWidth","offsetHeight","getFiles","__files_","disableFileInput","disable","FileReader","loadStarted","listeners","removeEventListener","dispatchEvent","onabort","onerror","onloadstart","onloadend","onprogress","constructEvent","listener","readAsDataURL","readAsText","setRequestHeader","ngFileUpload","version","sendHttp","notifyProgress","deferred","notify","promise","progressFunc","getNotifyEvent","n","_start","resumeSupported","_file","uploadWithAngular","r","_chunkSize","_finished","_end","resolve","_deferred","defer","disableProgress","__setXHR_","__XHR","xhrFn","resumeSizeUrl","resumeSizeResponseReader","resumeSize","success","pause","origXhrFn","promisesCount","copy","clone","hasOwnProperty","isResumeSupported","slice","isUploadInProgress","rename","ngfName","jsonBlob","_ngfBlob","json","toJson","isFile","flashId","internal","toResumeFile","Math","floor","addFieldToFormData","isDate","toISOString","_fileKey","isObject","$$ngfCircularDetection","k","objectKey","arrayKey","digestConfig","translateScalars","resumeChunkSize","transformRequest","isArray","fields","formDataAppender","_isDigested","http","ArrayBuffer","parseFloat","urlToBlob","responseType","arrayBufferView","Uint8Array","setDefaults","$parse","$compile","UploadExif","applyExifRotations","promises","emptyPromise","f","attrGetter","$file","happyPromise","applyExifRotation","fixedFile","all","resize","param","isResizeSupported","pattern","validatePattern","width","height","quality","ratio","centerCrop","$width","$height","restoreExif","resizedFile","$error","$errorParam","handleKeep","prevFiles","dupFiles","keep","hasNew","len","concat","getAttrWithDefaults","def","attrVal","shouldUpdateOn","modelOptions","updateOn","args","rejectPromise","updateModel","ngModel","fileChange","noDelay","invalidFiles","newFiles","isSingleModel","applyModelValidation","$setViewValue","$files","$newFiles","$duplicateFiles","$invalidFiles","$event","invalidModel","assign","separateInvalids","valids","invalids","$modelValue","$$ngfPrevFiles","keepResult","validateAfterResize","validate","allowInvalid","fixOrientation","isExifSupported","debounce","change","l","prevFile","blobUrl","isDelayedClickSupported","ua","match","v","androidFixMinorVersion","linkFileSelect","fileChangeAttr","fileList","bindAttrToFileInput","attributes","attribute","createFileInput","generatedElems","el","ref","body","clickHandler","handleTouch","resetModel","contains","click","touches","changedTouches","originalEvent","initialTouchStartY","clientY","stopPropagation","preventDefault","currentLocation","abs","ie10SameFileSelectFix","replaceWith","removeAttr","registerModelChangeValidator","unwatches","$watch","$observe","$$observers","accept","appVersion","$formatters","unwatch","g","require","link","getTagType","linkFileDirective","directiveName","resizeParams","isBackground","constructDataUrl","disallowObjectUrl","dataUrl","$ngfDataUrl","$ngfBlobUrl","clientWidth","clientHeight","getComputedStyle","style","UploadBase","base64DataUrl","count","urls","ff","$$ngfDataUrlPromise","$$ngfBlobUrlPromise","webkitURL","fileReader","$compileProvider","imgSrcSanitizationWhitelist","aHrefSanitizationWhitelist","UploadDataUrl","$sce","trustedUrl","trustAsResourceUrl","$ngfDataUrlFilterInProgress","globStringToRegex","regexp","excludes","RegExp","markModelAsDirty","$dirty","$setDirty","valid","exclude","ratioToFloat","xIndex","$ngfValidations","validation","$setValidity","getValidationAttr","validationName","dName","toUpperCase","substr","validateSync","validateAsync","asyncFn","resolveResult","imageDimensions","mediaDuration","$duration","filesLength","totalSize","deffer","$ngfWidth","$ngfHeight","$ngfDimensionPromise","img","checkLoadError","on","$ngfDuration","$ngfDurationPromise","duration","UploadValidate","calculateAspectRatioFit","srcWidth","srcHeight","maxWidth","maxHeight","max","min","marginX","marginY","imagen","resizeIf","canvasElement","imageElement","ratioFloat","imgRatio","dimensions","context","getContext","drawImage","toDataURL","dataUrltoBlob","dataurl","arr","mime","bstr","u8arr","charCodeAt","$ngfName","configurable","linkDrop","$location","isDisabled","extractFilesFromHtml","html","getData","calculateDragOverClass","callback","dClass","delay","dragOverDelay","items","dataTransfer","extractFiles","allowDir","multiple","traverseFileTree","entry","path","isDirectory","includeDir","dirReader","createReader","entries","readEntries","results","Array","maxFiles","maxTotalSize","Number","MAX_VALUE","protocol","webkitGetAsEntry","getAsFile","available","dropAvailable","actualDragOverClass","leaveTimeout","effectAllowed","dropEffect","clazz","$isDragging","$class","clipboard","clipboardData","metaKey","ctrlKey","div","model","UploadResize","applyTransform","ctx","orientation","transform","arrayBufferToBase64","buffer","binary","bytes","byteLength","String","fromCharCode","readAsArrayBuffer","readOrientation","reader","slicedFile","view","DataView","getUint16","marker","getUint32","little","tags","setUint16","fixedArrayBuffer","canvas","resized","ExifRestorer","KEY_STR","encode64","input","chr1","chr2","enc1","enc2","enc3","chr3","enc4","isNaN","charAt","restore","origFileBase64","resizedFileBase64","rawImage","decode64","segments","slice2Segments","image","exifManipulation","exifArray","getExifArray","newImageArray","insertExif","seg","x","imageData","buf","separatePoint","mae","ato","array","rawImageArray","endPoint","base64test","exec","log","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","root","_storageProvider","storageType","storageKeyPrefix","setKeyPrefix","prefix","TypeError","serializer","deserializer","fromJson","setSerializer","s","setDeserializer","getItem","setItem","$window","$document","isStorageSupported","supported","round","random","localStorage","removeItem","_last$storage","_debounce","prefixLength","webStorage","warn","noop","$storage","$default","isDefined","$sync","$reset","$apply","temp$storage","equals","event","doc","hasFocus","newValue","content","locals"],"mappings":"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","file":"bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  __webpack_require__(52);\n\t\n\t  var angular = __webpack_require__(3);\n\t  var config = __webpack_require__(28);\n\t\n\t  var app = angular.module('postal', [\n\t    /* 3rd party */\n\t    __webpack_require__(53),\n\t    __webpack_require__(54),\n\t    __webpack_require__(55),\n\t    __webpack_require__(5),\n\t    __webpack_require__(57),\n\t    __webpack_require__(56),\n\t    __webpack_require__(58),\n\t    __webpack_require__(59),\n\t\n\t    /* modules */\n\t    __webpack_require__(13),\n\t    __webpack_require__(33),\n\t    __webpack_require__(30)\n\t  ]);\n\t\n\t  app.constant('ENV', config.env);\n\t\n\t  app.constant('AUTH_EVENTS', {\n\t    loginSuccess: 'auth-login-success',\n\t    loginFailed: 'auth-login-failed',\n\t    logoutSuccess: 'auth-logout-success',\n\t    sessionTimeout: 'auth-session-timeout',\n\t    notAuthenticated: 'auth-not-authenticated',\n\t    notAuthorized: 'auth-not-authorized'\n\t  });\n\t\n\t  app.config([\"$logProvider\", \"ENV\", function ($logProvider, ENV){\n\t    $logProvider.debugEnabled(ENV.debugEnabled);\n\t  }]);\n\t\n\t  app.config([\"$locationProvider\", \"$resourceProvider\", function ($locationProvider, $resourceProvider){\n\t    $locationProvider.html5Mode(true).hashPrefix('!');\n\t\n\t    // Don't strip trailing slashes from calculated URLs\n\t    $resourceProvider.defaults.stripTrailingSlashes = false;\n\t  }]);\n\t\n\t  app.config([\"$httpProvider\", \"jwtInterceptorProvider\", function($httpProvider, jwtInterceptorProvider) {\n\t    jwtInterceptorProvider.tokenGetter = /*@ngInject*/ [\"$localStorage\", function ($localStorage) {\n\t      return $localStorage.token;\n\t    }];\n\t\n\t    $httpProvider.interceptors.push('jwtInterceptor');\n\t  }]);\n\t\n\t  angular.element(document).ready(function () {\n\t    angular.bootstrap(document, [app.name], {\n\t      strictDi: true\n\t    });\n\t  });\n\t\n\t}());\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = angular;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t(function() {\n\t\n\t\n\t// Create all modules and define dependencies to make sure they exist\n\t// and are loaded in the correct order to satisfy dependency injection\n\t// before all nested files are concatenated by Grunt\n\t\n\t// Modules\n\tangular.module('angular-jwt',\n\t    [\n\t        'angular-jwt.interceptor',\n\t        'angular-jwt.jwt'\n\t    ]);\n\t\n\t angular.module('angular-jwt.interceptor', [])\n\t  .provider('jwtInterceptor', function() {\n\t\n\t    this.urlParam = null;\n\t    this.authHeader = 'Authorization';\n\t    this.authPrefix = 'Bearer ';\n\t    this.tokenGetter = function() {\n\t      return null;\n\t    }\n\t\n\t    var config = this;\n\t\n\t    this.$get = [\"$q\", \"$injector\", \"$rootScope\", function ($q, $injector, $rootScope) {\n\t      return {\n\t        request: function (request) {\n\t          if (request.skipAuthorization) {\n\t            return request;\n\t          }\n\t\n\t          if (config.urlParam) {\n\t            request.params = request.params || {};\n\t            // Already has the token in the url itself\n\t            if (request.params[config.urlParam]) {\n\t              return request;\n\t            }\n\t          } else {\n\t            request.headers = request.headers || {};\n\t            // Already has an Authorization header\n\t            if (request.headers[config.authHeader]) {\n\t              return request;\n\t            }\n\t          }\n\t\n\t          var tokenPromise = $q.when($injector.invoke(config.tokenGetter, this, {\n\t            config: request\n\t          }));\n\t\n\t          return tokenPromise.then(function(token) {\n\t            if (token) {\n\t              if (config.urlParam) {\n\t                request.params[config.urlParam] = token;\n\t              } else {\n\t                request.headers[config.authHeader] = config.authPrefix + token;\n\t              }\n\t            }\n\t            return request;\n\t          });\n\t        },\n\t        responseError: function (response) {\n\t          // handle the case where the user is not authenticated\n\t          if (response.status === 401) {\n\t            $rootScope.$broadcast('unauthenticated', response);\n\t          }\n\t          return $q.reject(response);\n\t        }\n\t      };\n\t    }];\n\t  });\n\t\n\t angular.module('angular-jwt.jwt', [])\n\t  .service('jwtHelper', function() {\n\t\n\t    this.urlBase64Decode = function(str) {\n\t      var output = str.replace(/-/g, '+').replace(/_/g, '/');\n\t      switch (output.length % 4) {\n\t        case 0: { break; }\n\t        case 2: { output += '=='; break; }\n\t        case 3: { output += '='; break; }\n\t        default: {\n\t          throw 'Illegal base64url string!';\n\t        }\n\t      }\n\t      return decodeURIComponent(escape(window.atob(output))); //polifyll https://github.com/davidchambers/Base64.js\n\t    }\n\t\n\t\n\t    this.decodeToken = function(token) {\n\t      var parts = token.split('.');\n\t\n\t      if (parts.length !== 3) {\n\t        throw new Error('JWT must have 3 parts');\n\t      }\n\t\n\t      var decoded = this.urlBase64Decode(parts[1]);\n\t      if (!decoded) {\n\t        throw new Error('Cannot decode the token');\n\t      }\n\t\n\t      return JSON.parse(decoded);\n\t    }\n\t\n\t    this.getTokenExpirationDate = function(token) {\n\t      var decoded;\n\t      decoded = this.decodeToken(token);\n\t\n\t      if(typeof decoded.exp === \"undefined\") {\n\t        return null;\n\t      }\n\t\n\t      var d = new Date(0); // The 0 here is the key, which sets the date to the epoch\n\t      d.setUTCSeconds(decoded.exp);\n\t\n\t      return d;\n\t    };\n\t\n\t    this.isTokenExpired = function(token, offsetSeconds) {\n\t      var d = this.getTokenExpirationDate(token);\n\t      offsetSeconds = offsetSeconds || 0;\n\t      if (d === null) {\n\t        return false;\n\t      }\n\t\n\t      // Token expired?\n\t      return !(d.valueOf() > (new Date().valueOf() + (offsetSeconds * 1000)));\n\t    };\n\t  });\n\t\n\t}());\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(4);\n\tmodule.exports = 'angular-jwt';\n\t\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(1)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(1)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(1)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"md-input-container.move-down{margin-top:36px}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(1)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(1)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"md-list-item .md-avatar-icon.md-avatar-square,md-list-item .md-avatar.md-avatar-square{border-radius:0}md-list-item .md-avatar-icon.md-avatar-big,md-list-item .md-avatar.md-avatar-big{width:64px;height:64px}md-list-item .md-avatar-icon.md-avatar-big{width:48px;height:48px;font-size:48px}a.post-file{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(1)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(1)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function () {\n\t   'use strict';\n\t\n\t   __webpack_require__(3).module('postal.components', [])\n\t     .directive('userAuth', __webpack_require__(25))\n\t     .directive('userMenu', __webpack_require__(27))\n\t     .directive('postCreate', __webpack_require__(19))\n\t     .directive('postDeleteButton', __webpack_require__(21))\n\t     .directive('postList', __webpack_require__(23))\n\t     .directive('logoutButton', __webpack_require__(17))\n\t     .directive('loginForm', __webpack_require__(15));\n\t\n\t   module.exports = 'postal.components';\n\t}());\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ [\"Authentication\", function (Authentication) {\n\t    var ctrl = this;\n\t\n\t    ctrl.login = function (credentials) {\n\t      Authentication.login(credentials);\n\t    };\n\t  }];\n\t}());\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ function () {\n\t    __webpack_require__(46);\n\t    return {\n\t      scope: {},\n\t      bindToController: {},\n\t      controller: __webpack_require__(14),\n\t      controllerAs: 'ctrl',\n\t      template: __webpack_require__(39)\n\t    };\n\t  };\n\t}());\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ [\"Authentication\", function (Authentication) {\n\t    var ctrl = this;\n\t    ctrl.logout = Authentication.logout;\n\t  }];\n\t}());\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ function () {\n\t    __webpack_require__(47);\n\t    return {\n\t      scope: {},\n\t      bindToController: {},\n\t      controller: __webpack_require__(16),\n\t      controllerAs: 'ctrl',\n\t      template: __webpack_require__(40)\n\t    };\n\t  };\n\t}());\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ [\"$log\", \"$mdDialog\", \"FilePost\", function ($log, $mdDialog, FilePost) {\n\t    var ctrl = this;\n\t    ctrl.post = new FilePost();\n\t    ctrl.loading = false;\n\t    ctrl.uploadPercentage = 0;\n\t\n\t    function postCreateSuccess(response) {\n\t      ctrl.loading = false;\n\t      ctrl.uploadPercentage = 0;\n\t\n\t      ctrl.post = new FilePost();\n\t\n\t      // ctrl.postCreateForm.$setPristine();\n\t      // ctrl.postCreateForm.$setUntouched();\n\t\n\t      var createdPost = new FilePost({id: response.data.id});\n\t\n\t      $mdDialog.show({\n\t        controller: [\"$mdDialog\", function ($mdDialog) {\n\t          var dialog = this;\n\t          dialog.post = createdPost;\n\t          dialog.submit = function () {\n\t            dialog.post.$update()\n\t              .then(function (response) {\n\t                ctrl.onUpdate({post: new FilePost(response)});\n\t              });\n\t            $mdDialog.hide();\n\t          };\n\t          dialog.cancel = function () {\n\t            FilePost.delete({id: createdPost.id}).$promise\n\t              .then(\n\t                function (response) {\n\t                  ctrl.onDelete({post: createdPost});\n\t                },\n\t                function (err) {\n\t                  console.error(err);\n\t                }\n\t              );\n\t            $mdDialog.cancel();\n\t          };\n\t        }],\n\t        controllerAs: 'dialog',\n\t        template: __webpack_require__(41)\n\t      });\n\t\n\t      ctrl.onCreate({post: new FilePost(response.data)});\n\t    }\n\t\n\t    function postCreateError(err) {\n\t      ctrl.loading = false;\n\t      ctrl.uploadPercentage = 0;\n\t\n\t      console.error(err);\n\t    }\n\t\n\t    function postUploadEvent(evt) {\n\t      ctrl.uploadPercentage = parseInt(100.0 * evt.loaded / evt.total);\n\t    }\n\t\n\t    ctrl.createPost = function (post) {\n\t      ctrl.loading = true;\n\t      FilePost.upload(post)\n\t        .then(postCreateSuccess, postCreateError, postUploadEvent);\n\t    };\n\t  }];\n\t}());\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ function () {\n\t    __webpack_require__(48);\n\t    return {\n\t      scope: {},\n\t      bindToController: {\n\t        onCreate: '&',\n\t        onUpdate: '&',\n\t        onDelete: '&'\n\t      },\n\t      controller: __webpack_require__(18),\n\t      controllerAs: 'ctrl',\n\t      template: __webpack_require__(42)\n\t    };\n\t  };\n\t}());\n\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ [\"$log\", \"FilePost\", function ($log, FilePost) {\n\t    var ctrl = this;\n\t\n\t    function postDeleteSuccess(response) {\n\t      ctrl.onDelete({post: ctrl.post});\n\t    }\n\t\n\t    function postDeleteError(err) {\n\t      console.error(err);\n\t    }\n\t\n\t    ctrl.deletePost = function (post) {\n\t\n\t      FilePost.delete({id: post.id}).$promise\n\t        .then(\n\t          postDeleteSuccess,\n\t          postDeleteError\n\t        );\n\t    };\n\t  }];\n\t}());\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ function () {\n\t    __webpack_require__(49);\n\t    return {\n\t      scope: {},\n\t      bindToController: {\n\t        post: '=',\n\t        onDelete: '&'\n\t      },\n\t      controller: __webpack_require__(20),\n\t      controllerAs: 'ctrl',\n\t      template: __webpack_require__(43)\n\t    };\n\t  };\n\t}());\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ [\"$log\", \"$rootScope\", \"User\", \"FilePost\", \"AUTH_EVENTS\", function ($log, $rootScope, User, FilePost, AUTH_EVENTS) {\n\t    var ctrl = this;\n\t    ctrl.posts = FilePost.query();\n\t    ctrl.user = User;\n\t\n\t    $rootScope.$on(AUTH_EVENTS.loginSuccess, function () {\n\t      ctrl.posts = FilePost.query();\n\t    });\n\t    $rootScope.$on(AUTH_EVENTS.logoutSuccess, function () {\n\t      ctrl.posts = FilePost.query();\n\t    });\n\t\n\t    ctrl.onPostCreate = function (newPost) {\n\t      $log.debug('PostList.onPostCreate', newPost);\n\t      ctrl.posts.push(newPost);\n\t    };\n\t\n\t    ctrl.onPostDelete = function (deletedPost) {\n\t      $log.debug('PostList.onPostDelete', deletedPost);\n\t      ctrl.posts.forEach(function(post, index) {\n\t        if (deletedPost.id === post.id) {\n\t          ctrl.posts.splice(index, 1);\n\t        }\n\t      });\n\t    };\n\t\n\t    ctrl.onPostUpdate = function (updatedPost) {\n\t      $log.debug('PostList.onPostUpdate', updatedPost);\n\t      ctrl.posts.forEach(function(post, index) {\n\t        if (updatedPost.id === post.id) {\n\t          ctrl.posts[index] = updatedPost;\n\t        }\n\t      });\n\t    };\n\t  }];\n\t}());\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ function () {\n\t    __webpack_require__(50);\n\t    return {\n\t      scope: {},\n\t      bindToController: {},\n\t      controller: __webpack_require__(22),\n\t      controllerAs: 'ctrl',\n\t      template: __webpack_require__(44)\n\t    };\n\t  };\n\t}());\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ [\"Authentication\", \"User\", function (Authentication, User) {\n\t    var ctrl = this;\n\t    ctrl.auth = Authentication;\n\t    ctrl.user = User;\n\t  }];\n\t}());\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ function () {\n\t    return {\n\t      scope: true,\n\t      bindToController: {},\n\t      restrict: 'A',\n\t      controller: __webpack_require__(24),\n\t      controllerAs: 'userAuth',\n\t    };\n\t  };\n\t}());\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ [\"Authentication\", \"User\", function (Authentication, User) {\n\t    var ctrl = this;\n\t    ctrl.auth = Authentication;\n\t    ctrl.user = User;\n\t  }];\n\t}());\n\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ function () {\n\t    __webpack_require__(51);\n\t    return {\n\t      scope: {},\n\t      bindToController: {},\n\t      controller: __webpack_require__(26),\n\t      controllerAs: 'ctrl',\n\t      template: __webpack_require__(45)\n\t    };\n\t  };\n\t}());\n\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function () {\n\t   'use strict';\n\t   module.exports = __webpack_require__(29);\n\t}());\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\t(function () {\n\t   'use strict';\n\t\n\t   module.exports = {\n\t     env: {\n\t       name: 'production',\n\t       backendUrl: 'http://localhost:8000',\n\t       debugEnabled: false\n\t     }\n\t   };\n\t}());\n\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function () {\n\t   'use strict';\n\t\n\t   __webpack_require__(3).module('postal.filters', []);\n\t\n\t   module.exports = 'postal.filters';\n\t}());\n\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\t(function () {\n\t   'use strict';\n\t\n\t   module.exports = /*@ngInject*/ [\"ENV\", \"AUTH_EVENTS\", \"$rootScope\", \"$log\", \"$http\", \"$localStorage\", \"$timeout\", \"jwtHelper\", \"User\", function (ENV, AUTH_EVENTS, $rootScope, $log, $http, $localStorage, $timeout, jwtHelper, User) {\n\t     var _this = {};\n\t     var AUTH_URL = '/api-token-auth/';\n\t     var REFRESH_URL = '/api-token-refresh/';\n\t     var REFRESH_LEEWAY = 12 * 60 * 60 * 1000;  // 24 hours\n\t     var refreshTimeout;\n\t\n\t     _this.login = function (credentials) {\n\t       var token;\n\t       return $http.post(ENV.backendUrl + AUTH_URL, credentials)\n\t         .then(function (response) {\n\t           token = response.data.token;\n\t           authSuccess(token);\n\t           return User.current();\n\t         })\n\t         .then(null, function (err) {\n\t           _this.logout();\n\t           return err;\n\t         });\n\t     };\n\t\n\t     _this.logout = function () {\n\t       if (refreshTimeout) $timeout.cancel(refreshTimeout);\n\t       clearToken();\n\t       User.clear();\n\t       $rootScope.$broadcast(AUTH_EVENTS.logoutSuccess);\n\t     };\n\t\n\t     _this.isAuthenticated = function () {\n\t       return !!User.current();\n\t     };\n\t\n\t     function init() {\n\t       var token = getToken();\n\t       if (token){\n\t         if (jwtHelper.isTokenExpired(token)){\n\t           $log.debug(\"Auth token has expired.\");\n\t           _this.logout();\n\t         } else {\n\t           authSuccess(token);\n\t         }\n\t       }\n\t     }\n\t\n\t     function getToken() {\n\t       return $localStorage.token;\n\t     }\n\t\n\t     function setToken(token) {\n\t       var expiryDate;\n\t       $log.debug(\"New auth token received.\");\n\t       $localStorage.token = token;\n\t       expiryDate = jwtHelper.getTokenExpirationDate(token);\n\t       setExpiryTimeout(expiryDate);\n\t       $log.debug(\"Auth token will expire\", expiryDate);\n\t     }\n\t\n\t     function refreshToken() {\n\t       var token;\n\t       $log.debug(\"Refreshing auth token...\");\n\t       $http.post(ENV.backendUrl + REFRESH_URL, {token: getToken()})\n\t        .then(function (response) {\n\t          setToken(response.data.token);\n\t        })\n\t        .then(null, _this.logout);\n\t     }\n\t\n\t     function clearToken() {\n\t       delete $localStorage.token;\n\t     }\n\t\n\t     function setExpiryTimeout(expiryDate) {\n\t       if (refreshTimeout) $timeout.cancel(refreshTimeout);\n\t       refreshTimeout = $timeout(refreshToken, expiryDate - new Date() - REFRESH_LEEWAY);\n\t     }\n\t\n\t     function authSuccess(token) {\n\t       setToken(token);\n\t       User.set(jwtHelper.decodeToken(token));\n\t       $rootScope.$broadcast(AUTH_EVENTS.loginSuccess);\n\t     }\n\t\n\t     init();\n\t\n\t     return _this;\n\t   }];\n\t}());\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ [\"$log\", \"ENV\", \"$resource\", \"Upload\", function ($log, ENV, $resource, Upload) {\n\t    var _this = $resource(ENV.backendUrl + '/fileposts/:id/', {id: '@id'},\n\t    {\n\t      'update': { method:'PUT' }\n\t    });\n\t\n\t    _this.upload = function (data) {\n\t      return Upload.upload({\n\t        url: ENV.backendUrl + '/fileposts/',\n\t        data: data\n\t      })\n\t      .then(function (resp) {\n\t        $log.debug('Success ' + resp.config.data.file.name + 'uploaded. Response: ' + resp.data);\n\t        return resp;\n\t      }, function (resp) {\n\t        $log.debug('Error status: ' + resp.status);\n\t        return resp;\n\t      }, function (evt) {\n\t        var progressPercentage = parseInt(100.0 * evt.loaded / evt.total);\n\t        $log.debug('progress: ' + progressPercentage + '% ' + evt.config.data.file.name);\n\t        return evt;\n\t      });\n\t    };\n\t\n\t    return _this;\n\t  }];\n\t}());\n\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function () {\n\t   'use strict';\n\t\n\t   __webpack_require__(3).module('postal.services', [\n\t     __webpack_require__(38).name,\n\t     __webpack_require__(37),\n\t   ])\n\t     .factory('FilePost',            __webpack_require__(32))\n\t     .factory('Post',            __webpack_require__(34))\n\t     .factory('User',            __webpack_require__(35))\n\t     .factory('Authentication',  __webpack_require__(31));\n\t\n\t   module.exports = 'postal.services';\n\t}());\n\n\n/***/ },\n/* 34 */\n/***/ function(module, exports) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ [\"ENV\", \"$resource\", function (ENV, $resource) {\n\t    return $resource(ENV.backendUrl + '/posts/:id/', {id:'@id'});\n\t  }];\n\t}());\n\n\n/***/ },\n/* 35 */\n/***/ function(module, exports) {\n\n\t(function () {\n\t  'use strict';\n\t\n\t  module.exports = /*@ngInject*/ function () {\n\t    var _this = {};\n\t\n\t    var currentUser = null;\n\t\n\t    _this.current = function () {\n\t      return currentUser;\n\t    };\n\t\n\t    _this.set = function (newUser) {\n\t      currentUser = newUser;\n\t    };\n\t\n\t    _this.clear = function () {\n\t      currentUser = null;\n\t    };\n\t\n\t    return _this;\n\t  };\n\t}());\n\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\t/**!\n\t * AngularJS file upload directives and services. Supoorts: file upload/drop/paste, resume, cancel/abort,\n\t * progress, resize, thumbnail, preview, validation and CORS\n\t * FileAPI Flash shim for old browsers not supporting FormData\n\t * @author  Danial  <danial.farid@gmail.com>\n\t * @version 11.2.3\n\t */\n\t\n\t(function () {\n\t  /** @namespace FileAPI.noContentTimeout */\n\t\n\t  function patchXHR(fnName, newFn) {\n\t    window.XMLHttpRequest.prototype[fnName] = newFn(window.XMLHttpRequest.prototype[fnName]);\n\t  }\n\t\n\t  function redefineProp(xhr, prop, fn) {\n\t    try {\n\t      Object.defineProperty(xhr, prop, {get: fn});\n\t    } catch (e) {/*ignore*/\n\t    }\n\t  }\n\t\n\t  if (!window.FileAPI) {\n\t    window.FileAPI = {};\n\t  }\n\t\n\t  if (!window.XMLHttpRequest) {\n\t    throw 'AJAX is not supported. XMLHttpRequest is not defined.';\n\t  }\n\t\n\t  FileAPI.shouldLoad = !window.FormData || FileAPI.forceLoad;\n\t  if (FileAPI.shouldLoad) {\n\t    var initializeUploadListener = function (xhr) {\n\t      if (!xhr.__listeners) {\n\t        if (!xhr.upload) xhr.upload = {};\n\t        xhr.__listeners = [];\n\t        var origAddEventListener = xhr.upload.addEventListener;\n\t        xhr.upload.addEventListener = function (t, fn) {\n\t          xhr.__listeners[t] = fn;\n\t          if (origAddEventListener) origAddEventListener.apply(this, arguments);\n\t        };\n\t      }\n\t    };\n\t\n\t    patchXHR('open', function (orig) {\n\t      return function (m, url, b) {\n\t        initializeUploadListener(this);\n\t        this.__url = url;\n\t        try {\n\t          orig.apply(this, [m, url, b]);\n\t        } catch (e) {\n\t          if (e.message.indexOf('Access is denied') > -1) {\n\t            this.__origError = e;\n\t            orig.apply(this, [m, '_fix_for_ie_crossdomain__', b]);\n\t          }\n\t        }\n\t      };\n\t    });\n\t\n\t    patchXHR('getResponseHeader', function (orig) {\n\t      return function (h) {\n\t        return this.__fileApiXHR && this.__fileApiXHR.getResponseHeader ? this.__fileApiXHR.getResponseHeader(h) : (orig == null ? null : orig.apply(this, [h]));\n\t      };\n\t    });\n\t\n\t    patchXHR('getAllResponseHeaders', function (orig) {\n\t      return function () {\n\t        return this.__fileApiXHR && this.__fileApiXHR.getAllResponseHeaders ? this.__fileApiXHR.getAllResponseHeaders() : (orig == null ? null : orig.apply(this));\n\t      };\n\t    });\n\t\n\t    patchXHR('abort', function (orig) {\n\t      return function () {\n\t        return this.__fileApiXHR && this.__fileApiXHR.abort ? this.__fileApiXHR.abort() : (orig == null ? null : orig.apply(this));\n\t      };\n\t    });\n\t\n\t    patchXHR('setRequestHeader', function (orig) {\n\t      return function (header, value) {\n\t        if (header === '__setXHR_') {\n\t          initializeUploadListener(this);\n\t          var val = value(this);\n\t          // fix for angular < 1.2.0\n\t          if (val instanceof Function) {\n\t            val(this);\n\t          }\n\t        } else {\n\t          this.__requestHeaders = this.__requestHeaders || {};\n\t          this.__requestHeaders[header] = value;\n\t          orig.apply(this, arguments);\n\t        }\n\t      };\n\t    });\n\t\n\t    patchXHR('send', function (orig) {\n\t      return function () {\n\t        var xhr = this;\n\t        if (arguments[0] && arguments[0].__isFileAPIShim) {\n\t          var formData = arguments[0];\n\t          var config = {\n\t            url: xhr.__url,\n\t            jsonp: false, //removes the callback form param\n\t            cache: true, //removes the ?fileapiXXX in the url\n\t            complete: function (err, fileApiXHR) {\n\t              if (err && angular.isString(err) && err.indexOf('#2174') !== -1) {\n\t                // this error seems to be fine the file is being uploaded properly.\n\t                err = null;\n\t              }\n\t              xhr.__completed = true;\n\t              if (!err && xhr.__listeners.load)\n\t                xhr.__listeners.load({\n\t                  type: 'load',\n\t                  loaded: xhr.__loaded,\n\t                  total: xhr.__total,\n\t                  target: xhr,\n\t                  lengthComputable: true\n\t                });\n\t              if (!err && xhr.__listeners.loadend)\n\t                xhr.__listeners.loadend({\n\t                  type: 'loadend',\n\t                  loaded: xhr.__loaded,\n\t                  total: xhr.__total,\n\t                  target: xhr,\n\t                  lengthComputable: true\n\t                });\n\t              if (err === 'abort' && xhr.__listeners.abort)\n\t                xhr.__listeners.abort({\n\t                  type: 'abort',\n\t                  loaded: xhr.__loaded,\n\t                  total: xhr.__total,\n\t                  target: xhr,\n\t                  lengthComputable: true\n\t                });\n\t              if (fileApiXHR.status !== undefined) redefineProp(xhr, 'status', function () {\n\t                return (fileApiXHR.status === 0 && err && err !== 'abort') ? 500 : fileApiXHR.status;\n\t              });\n\t              if (fileApiXHR.statusText !== undefined) redefineProp(xhr, 'statusText', function () {\n\t                return fileApiXHR.statusText;\n\t              });\n\t              redefineProp(xhr, 'readyState', function () {\n\t                return 4;\n\t              });\n\t              if (fileApiXHR.response !== undefined) redefineProp(xhr, 'response', function () {\n\t                return fileApiXHR.response;\n\t              });\n\t              var resp = fileApiXHR.responseText || (err && fileApiXHR.status === 0 && err !== 'abort' ? err : undefined);\n\t              redefineProp(xhr, 'responseText', function () {\n\t                return resp;\n\t              });\n\t              redefineProp(xhr, 'response', function () {\n\t                return resp;\n\t              });\n\t              if (err) redefineProp(xhr, 'err', function () {\n\t                return err;\n\t              });\n\t              xhr.__fileApiXHR = fileApiXHR;\n\t              if (xhr.onreadystatechange) xhr.onreadystatechange();\n\t              if (xhr.onload) xhr.onload();\n\t            },\n\t            progress: function (e) {\n\t              e.target = xhr;\n\t              if (xhr.__listeners.progress) xhr.__listeners.progress(e);\n\t              xhr.__total = e.total;\n\t              xhr.__loaded = e.loaded;\n\t              if (e.total === e.loaded) {\n\t                // fix flash issue that doesn't call complete if there is no response text from the server\n\t                var _this = this;\n\t                setTimeout(function () {\n\t                  if (!xhr.__completed) {\n\t                    xhr.getAllResponseHeaders = function () {\n\t                    };\n\t                    _this.complete(null, {status: 204, statusText: 'No Content'});\n\t                  }\n\t                }, FileAPI.noContentTimeout || 10000);\n\t              }\n\t            },\n\t            headers: xhr.__requestHeaders\n\t          };\n\t          config.data = {};\n\t          config.files = {};\n\t          for (var i = 0; i < formData.data.length; i++) {\n\t            var item = formData.data[i];\n\t            if (item.val != null && item.val.name != null && item.val.size != null && item.val.type != null) {\n\t              config.files[item.key] = item.val;\n\t            } else {\n\t              config.data[item.key] = item.val;\n\t            }\n\t          }\n\t\n\t          setTimeout(function () {\n\t            if (!FileAPI.hasFlash) {\n\t              throw 'Adode Flash Player need to be installed. To check ahead use \"FileAPI.hasFlash\"';\n\t            }\n\t            xhr.__fileApiXHR = FileAPI.upload(config);\n\t          }, 1);\n\t        } else {\n\t          if (this.__origError) {\n\t            throw this.__origError;\n\t          }\n\t          orig.apply(xhr, arguments);\n\t        }\n\t      };\n\t    });\n\t    window.XMLHttpRequest.__isFileAPIShim = true;\n\t    window.FormData = FormData = function () {\n\t      return {\n\t        append: function (key, val, name) {\n\t          if (val.__isFileAPIBlobShim) {\n\t            val = val.data[0];\n\t          }\n\t          this.data.push({\n\t            key: key,\n\t            val: val,\n\t            name: name\n\t          });\n\t        },\n\t        data: [],\n\t        __isFileAPIShim: true\n\t      };\n\t    };\n\t\n\t    window.Blob = Blob = function (b) {\n\t      return {\n\t        data: b,\n\t        __isFileAPIBlobShim: true\n\t      };\n\t    };\n\t  }\n\t\n\t})();\n\t\n\t(function () {\n\t  /** @namespace FileAPI.forceLoad */\n\t  /** @namespace window.FileAPI.jsUrl */\n\t  /** @namespace window.FileAPI.jsPath */\n\t\n\t  function isInputTypeFile(elem) {\n\t    return elem[0].tagName.toLowerCase() === 'input' && elem.attr('type') && elem.attr('type').toLowerCase() === 'file';\n\t  }\n\t\n\t  function hasFlash() {\n\t    try {\n\t      var fo = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t      if (fo) return true;\n\t    } catch (e) {\n\t      if (navigator.mimeTypes['application/x-shockwave-flash'] !== undefined) return true;\n\t    }\n\t    return false;\n\t  }\n\t\n\t  function getOffset(obj) {\n\t    var left = 0, top = 0;\n\t\n\t    if (window.jQuery) {\n\t      return jQuery(obj).offset();\n\t    }\n\t\n\t    if (obj.offsetParent) {\n\t      do {\n\t        left += (obj.offsetLeft - obj.scrollLeft);\n\t        top += (obj.offsetTop - obj.scrollTop);\n\t        obj = obj.offsetParent;\n\t      } while (obj);\n\t    }\n\t    return {\n\t      left: left,\n\t      top: top\n\t    };\n\t  }\n\t\n\t  if (FileAPI.shouldLoad) {\n\t    FileAPI.hasFlash = hasFlash();\n\t\n\t    //load FileAPI\n\t    if (FileAPI.forceLoad) {\n\t      FileAPI.html5 = false;\n\t    }\n\t\n\t    if (!FileAPI.upload) {\n\t      var jsUrl, basePath, script = document.createElement('script'), allScripts = document.getElementsByTagName('script'), i, index, src;\n\t      if (window.FileAPI.jsUrl) {\n\t        jsUrl = window.FileAPI.jsUrl;\n\t      } else if (window.FileAPI.jsPath) {\n\t        basePath = window.FileAPI.jsPath;\n\t      } else {\n\t        for (i = 0; i < allScripts.length; i++) {\n\t          src = allScripts[i].src;\n\t          index = src.search(/\\/ng\\-file\\-upload[\\-a-zA-z0-9\\.]*\\.js/);\n\t          if (index > -1) {\n\t            basePath = src.substring(0, index + 1);\n\t            break;\n\t          }\n\t        }\n\t      }\n\t\n\t      if (FileAPI.staticPath == null) FileAPI.staticPath = basePath;\n\t      script.setAttribute('src', jsUrl || basePath + 'FileAPI.min.js');\n\t      document.getElementsByTagName('head')[0].appendChild(script);\n\t    }\n\t\n\t    FileAPI.ngfFixIE = function (elem, fileElem, changeFn) {\n\t      if (!hasFlash()) {\n\t        throw 'Adode Flash Player need to be installed. To check ahead use \"FileAPI.hasFlash\"';\n\t      }\n\t      var fixInputStyle = function () {\n\t        var label = fileElem.parent();\n\t        if (elem.attr('disabled')) {\n\t          if (label) label.removeClass('js-fileapi-wrapper');\n\t        } else {\n\t          if (!fileElem.attr('__ngf_flash_')) {\n\t            fileElem.unbind('change');\n\t            fileElem.unbind('click');\n\t            fileElem.bind('change', function (evt) {\n\t              fileApiChangeFn.apply(this, [evt]);\n\t              changeFn.apply(this, [evt]);\n\t            });\n\t            fileElem.attr('__ngf_flash_', 'true');\n\t          }\n\t          label.addClass('js-fileapi-wrapper');\n\t          if (!isInputTypeFile(elem)) {\n\t            label.css('position', 'absolute')\n\t              .css('top', getOffset(elem[0]).top + 'px').css('left', getOffset(elem[0]).left + 'px')\n\t              .css('width', elem[0].offsetWidth + 'px').css('height', elem[0].offsetHeight + 'px')\n\t              .css('filter', 'alpha(opacity=0)').css('display', elem.css('display'))\n\t              .css('overflow', 'hidden').css('z-index', '900000')\n\t              .css('visibility', 'visible');\n\t            fileElem.css('width', elem[0].offsetWidth + 'px').css('height', elem[0].offsetHeight + 'px')\n\t              .css('position', 'absolute').css('top', '0px').css('left', '0px');\n\t          }\n\t        }\n\t      };\n\t\n\t      elem.bind('mouseenter', fixInputStyle);\n\t\n\t      var fileApiChangeFn = function (evt) {\n\t        var files = FileAPI.getFiles(evt);\n\t        //just a double check for #233\n\t        for (var i = 0; i < files.length; i++) {\n\t          if (files[i].size === undefined) files[i].size = 0;\n\t          if (files[i].name === undefined) files[i].name = 'file';\n\t          if (files[i].type === undefined) files[i].type = 'undefined';\n\t        }\n\t        if (!evt.target) {\n\t          evt.target = {};\n\t        }\n\t        evt.target.files = files;\n\t        // if evt.target.files is not writable use helper field\n\t        if (evt.target.files !== files) {\n\t          evt.__files_ = files;\n\t        }\n\t        (evt.__files_ || evt.target.files).item = function (i) {\n\t          return (evt.__files_ || evt.target.files)[i] || null;\n\t        };\n\t      };\n\t    };\n\t\n\t    FileAPI.disableFileInput = function (elem, disable) {\n\t      if (disable) {\n\t        elem.removeClass('js-fileapi-wrapper');\n\t      } else {\n\t        elem.addClass('js-fileapi-wrapper');\n\t      }\n\t    };\n\t  }\n\t})();\n\t\n\tif (!window.FileReader) {\n\t  window.FileReader = function () {\n\t    var _this = this, loadStarted = false;\n\t    this.listeners = {};\n\t    this.addEventListener = function (type, fn) {\n\t      _this.listeners[type] = _this.listeners[type] || [];\n\t      _this.listeners[type].push(fn);\n\t    };\n\t    this.removeEventListener = function (type, fn) {\n\t      if (_this.listeners[type]) _this.listeners[type].splice(_this.listeners[type].indexOf(fn), 1);\n\t    };\n\t    this.dispatchEvent = function (evt) {\n\t      var list = _this.listeners[evt.type];\n\t      if (list) {\n\t        for (var i = 0; i < list.length; i++) {\n\t          list[i].call(_this, evt);\n\t        }\n\t      }\n\t    };\n\t    this.onabort = this.onerror = this.onload = this.onloadstart = this.onloadend = this.onprogress = null;\n\t\n\t    var constructEvent = function (type, evt) {\n\t      var e = {type: type, target: _this, loaded: evt.loaded, total: evt.total, error: evt.error};\n\t      if (evt.result != null) e.target.result = evt.result;\n\t      return e;\n\t    };\n\t    var listener = function (evt) {\n\t      if (!loadStarted) {\n\t        loadStarted = true;\n\t        if (_this.onloadstart) _this.onloadstart(constructEvent('loadstart', evt));\n\t      }\n\t      var e;\n\t      if (evt.type === 'load') {\n\t        if (_this.onloadend) _this.onloadend(constructEvent('loadend', evt));\n\t        e = constructEvent('load', evt);\n\t        if (_this.onload) _this.onload(e);\n\t        _this.dispatchEvent(e);\n\t      } else if (evt.type === 'progress') {\n\t        e = constructEvent('progress', evt);\n\t        if (_this.onprogress) _this.onprogress(e);\n\t        _this.dispatchEvent(e);\n\t      } else {\n\t        e = constructEvent('error', evt);\n\t        if (_this.onerror) _this.onerror(e);\n\t        _this.dispatchEvent(e);\n\t      }\n\t    };\n\t    this.readAsDataURL = function (file) {\n\t      FileAPI.readAsDataURL(file, listener);\n\t    };\n\t    this.readAsText = function (file) {\n\t      FileAPI.readAsText(file, listener);\n\t    };\n\t  };\n\t}\n\t\n\t/**!\n\t * AngularJS file upload directives and services. Supoorts: file upload/drop/paste, resume, cancel/abort,\n\t * progress, resize, thumbnail, preview, validation and CORS\n\t * @author  Danial  <danial.farid@gmail.com>\n\t * @version 11.2.3\n\t */\n\t\n\tif (window.XMLHttpRequest && !(window.FileAPI && FileAPI.shouldLoad)) {\n\t  window.XMLHttpRequest.prototype.setRequestHeader = (function (orig) {\n\t    return function (header, value) {\n\t      if (header === '__setXHR_') {\n\t        var val = value(this);\n\t        // fix for angular < 1.2.0\n\t        if (val instanceof Function) {\n\t          val(this);\n\t        }\n\t      } else {\n\t        orig.apply(this, arguments);\n\t      }\n\t    };\n\t  })(window.XMLHttpRequest.prototype.setRequestHeader);\n\t}\n\t\n\tvar ngFileUpload = angular.module('ngFileUpload', []);\n\t\n\tngFileUpload.version = '11.2.3';\n\t\n\tngFileUpload.service('UploadBase', ['$http', '$q', '$timeout', function ($http, $q, $timeout) {\n\t  var upload = this;\n\t  upload.promisesCount = 0;\n\t\n\t  this.isResumeSupported = function () {\n\t    return window.Blob && (window.Blob instanceof Function) && new window.Blob().slice;\n\t  };\n\t\n\t  var resumeSupported = this.isResumeSupported();\n\t\n\t  function sendHttp(config) {\n\t    config.method = config.method || 'POST';\n\t    config.headers = config.headers || {};\n\t\n\t    var deferred = config._deferred = config._deferred || $q.defer();\n\t    var promise = deferred.promise;\n\t\n\t    function notifyProgress(e) {\n\t      if (deferred.notify) {\n\t        deferred.notify(e);\n\t      }\n\t      if (promise.progressFunc) {\n\t        $timeout(function () {\n\t          promise.progressFunc(e);\n\t        });\n\t      }\n\t    }\n\t\n\t    function getNotifyEvent(n) {\n\t      if (config._start != null && resumeSupported) {\n\t        return {\n\t          loaded: n.loaded + config._start,\n\t          total: (config._file && config._file.size) || n.total,\n\t          type: n.type, config: config,\n\t          lengthComputable: true, target: n.target\n\t        };\n\t      } else {\n\t        return n;\n\t      }\n\t    }\n\t\n\t    if (!config.disableProgress) {\n\t      config.headers.__setXHR_ = function () {\n\t        return function (xhr) {\n\t          if (!xhr) return;\n\t          config.__XHR = xhr;\n\t          if (config.xhrFn) config.xhrFn(xhr);\n\t          xhr.upload.addEventListener('progress', function (e) {\n\t            e.config = config;\n\t            notifyProgress(getNotifyEvent(e));\n\t          }, false);\n\t          //fix for firefox not firing upload progress end, also IE8-9\n\t          xhr.upload.addEventListener('load', function (e) {\n\t            if (e.lengthComputable) {\n\t              e.config = config;\n\t              notifyProgress(getNotifyEvent(e));\n\t            }\n\t          }, false);\n\t        };\n\t      };\n\t    }\n\t\n\t    function uploadWithAngular() {\n\t      $http(config).then(function (r) {\n\t          if (resumeSupported && config._chunkSize && !config._finished && config._file) {\n\t            notifyProgress({\n\t                loaded: config._end,\n\t                total: config._file && config._file.size,\n\t                config: config, type: 'progress'\n\t              }\n\t            );\n\t            upload.upload(config, true);\n\t          } else {\n\t            if (config._finished) delete config._finished;\n\t            deferred.resolve(r);\n\t          }\n\t        }, function (e) {\n\t          deferred.reject(e);\n\t        }, function (n) {\n\t          deferred.notify(n);\n\t        }\n\t      );\n\t    }\n\t\n\t    if (!resumeSupported) {\n\t      uploadWithAngular();\n\t    } else if (config._chunkSize && config._end && !config._finished) {\n\t      config._start = config._end;\n\t      config._end += config._chunkSize;\n\t      uploadWithAngular();\n\t    } else if (config.resumeSizeUrl) {\n\t      $http.get(config.resumeSizeUrl).then(function (resp) {\n\t        if (config.resumeSizeResponseReader) {\n\t          config._start = config.resumeSizeResponseReader(resp.data);\n\t        } else {\n\t          config._start = parseInt((resp.data.size == null ? resp.data : resp.data.size).toString());\n\t        }\n\t        if (config._chunkSize) {\n\t          config._end = config._start + config._chunkSize;\n\t        }\n\t        uploadWithAngular();\n\t      }, function (e) {\n\t        throw e;\n\t      });\n\t    } else if (config.resumeSize) {\n\t      config.resumeSize().then(function (size) {\n\t        config._start = size;\n\t        uploadWithAngular();\n\t      }, function (e) {\n\t        throw e;\n\t      });\n\t    } else {\n\t      if (config._chunkSize) {\n\t        config._start = 0;\n\t        config._end = config._start + config._chunkSize;\n\t      }\n\t      uploadWithAngular();\n\t    }\n\t\n\t\n\t    promise.success = function (fn) {\n\t      promise.then(function (response) {\n\t        fn(response.data, response.status, response.headers, config);\n\t      });\n\t      return promise;\n\t    };\n\t\n\t    promise.error = function (fn) {\n\t      promise.then(null, function (response) {\n\t        fn(response.data, response.status, response.headers, config);\n\t      });\n\t      return promise;\n\t    };\n\t\n\t    promise.progress = function (fn) {\n\t      promise.progressFunc = fn;\n\t      promise.then(null, null, function (n) {\n\t        fn(n);\n\t      });\n\t      return promise;\n\t    };\n\t    promise.abort = promise.pause = function () {\n\t      if (config.__XHR) {\n\t        $timeout(function () {\n\t          config.__XHR.abort();\n\t        });\n\t      }\n\t      return promise;\n\t    };\n\t    promise.xhr = function (fn) {\n\t      config.xhrFn = (function (origXhrFn) {\n\t        return function () {\n\t          if (origXhrFn) origXhrFn.apply(promise, arguments);\n\t          fn.apply(promise, arguments);\n\t        };\n\t      })(config.xhrFn);\n\t      return promise;\n\t    };\n\t\n\t    upload.promisesCount++;\n\t    promise['finally'](function () {\n\t      upload.promisesCount--;\n\t    });\n\t    return promise;\n\t  }\n\t\n\t  this.isUploadInProgress = function () {\n\t    return upload.promisesCount > 0;\n\t  };\n\t\n\t  this.rename = function (file, name) {\n\t    file.ngfName = name;\n\t    return file;\n\t  };\n\t\n\t  this.jsonBlob = function (val) {\n\t    if (val != null && !angular.isString(val)) {\n\t      val = JSON.stringify(val);\n\t    }\n\t    var blob = new window.Blob([val], {type: 'application/json'});\n\t    blob._ngfBlob = true;\n\t    return blob;\n\t  };\n\t\n\t  this.json = function (val) {\n\t    return angular.toJson(val);\n\t  };\n\t\n\t  function copy(obj) {\n\t    var clone = {};\n\t    for (var key in obj) {\n\t      if (obj.hasOwnProperty(key)) {\n\t        clone[key] = obj[key];\n\t      }\n\t    }\n\t    return clone;\n\t  }\n\t\n\t  this.isFile = function (file) {\n\t    return file != null && (file instanceof window.Blob || (file.flashId && file.name && file.size));\n\t  };\n\t\n\t  this.upload = function (config, internal) {\n\t    function toResumeFile(file, formData) {\n\t      if (file._ngfBlob) return file;\n\t      config._file = config._file || file;\n\t      if (config._start != null && resumeSupported) {\n\t        if (config._end && config._end >= file.size) {\n\t          config._finished = true;\n\t          config._end = file.size;\n\t        }\n\t        var slice = file.slice(config._start, config._end || file.size);\n\t        slice.name = file.name;\n\t        slice.ngfName = file.ngfName;\n\t        if (config._chunkSize) {\n\t          formData.append('_chunkSize', config._chunkSize);\n\t          formData.append('_currentChunkSize', config._end - config._start);\n\t          formData.append('_chunkNumber', Math.floor(config._start / config._chunkSize));\n\t          formData.append('_totalSize', config._file.size);\n\t        }\n\t        return slice;\n\t      }\n\t      return file;\n\t    }\n\t\n\t    function addFieldToFormData(formData, val, key) {\n\t      if (val !== undefined) {\n\t        if (angular.isDate(val)) {\n\t          val = val.toISOString();\n\t        }\n\t        if (angular.isString(val)) {\n\t          formData.append(key, val);\n\t        } else if (upload.isFile(val)) {\n\t          var file = toResumeFile(val, formData);\n\t          var split = key.split(',');\n\t          if (split[1]) {\n\t            file.ngfName = split[1].replace(/^\\s+|\\s+$/g, '');\n\t            key = split[0];\n\t          }\n\t          config._fileKey = config._fileKey || key;\n\t          formData.append(key, file, file.ngfName || file.name);\n\t        } else {\n\t          if (angular.isObject(val)) {\n\t            if (val.$$ngfCircularDetection) throw 'ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: ' + key;\n\t\n\t            val.$$ngfCircularDetection = true;\n\t            try {\n\t              for (var k in val) {\n\t                if (val.hasOwnProperty(k) && k !== '$$ngfCircularDetection') {\n\t                  var objectKey = config.objectKey == null ? '[i]' : config.objectKey;\n\t                  if (val.length && parseInt(k) > -1) {\n\t                    objectKey = config.arrayKey == null ? objectKey : config.arrayKey;\n\t                  }\n\t                  addFieldToFormData(formData, val[k], key + objectKey.replace(/[ik]/g, k));\n\t                }\n\t              }\n\t            } finally {\n\t              delete val.$$ngfCircularDetection;\n\t            }\n\t          } else {\n\t            formData.append(key, val);\n\t          }\n\t        }\n\t      }\n\t    }\n\t\n\t    function digestConfig() {\n\t      config._chunkSize = upload.translateScalars(config.resumeChunkSize);\n\t      config._chunkSize = config._chunkSize ? parseInt(config._chunkSize.toString()) : null;\n\t\n\t      config.headers = config.headers || {};\n\t      config.headers['Content-Type'] = undefined;\n\t      config.transformRequest = config.transformRequest ?\n\t        (angular.isArray(config.transformRequest) ?\n\t          config.transformRequest : [config.transformRequest]) : [];\n\t      config.transformRequest.push(function (data) {\n\t        var formData = new window.FormData(), key;\n\t        data = data || config.fields || {};\n\t        if (config.file) {\n\t          data.file = config.file;\n\t        }\n\t        for (key in data) {\n\t          if (data.hasOwnProperty(key)) {\n\t            var val = data[key];\n\t            if (config.formDataAppender) {\n\t              config.formDataAppender(formData, key, val);\n\t            } else {\n\t              addFieldToFormData(formData, val, key);\n\t            }\n\t          }\n\t        }\n\t\n\t        return formData;\n\t      });\n\t    }\n\t\n\t    if (!internal) config = copy(config);\n\t    if (!config._isDigested) {\n\t      config._isDigested = true;\n\t      digestConfig();\n\t    }\n\t\n\t    return sendHttp(config);\n\t  };\n\t\n\t  this.http = function (config) {\n\t    config = copy(config);\n\t    config.transformRequest = config.transformRequest || function (data) {\n\t        if ((window.ArrayBuffer && data instanceof window.ArrayBuffer) || data instanceof window.Blob) {\n\t          return data;\n\t        }\n\t        return $http.defaults.transformRequest[0].apply(this, arguments);\n\t      };\n\t    config._chunkSize = upload.translateScalars(config.resumeChunkSize);\n\t    config._chunkSize = config._chunkSize ? parseInt(config._chunkSize.toString()) : null;\n\t\n\t    return sendHttp(config);\n\t  };\n\t\n\t  this.translateScalars = function (str) {\n\t    if (angular.isString(str)) {\n\t      if (str.search(/kb/i) === str.length - 2) {\n\t        return parseFloat(str.substring(0, str.length - 2) * 1000);\n\t      } else if (str.search(/mb/i) === str.length - 2) {\n\t        return parseFloat(str.substring(0, str.length - 2) * 1000000);\n\t      } else if (str.search(/gb/i) === str.length - 2) {\n\t        return parseFloat(str.substring(0, str.length - 2) * 1000000000);\n\t      } else if (str.search(/b/i) === str.length - 1) {\n\t        return parseFloat(str.substring(0, str.length - 1));\n\t      } else if (str.search(/s/i) === str.length - 1) {\n\t        return parseFloat(str.substring(0, str.length - 1));\n\t      } else if (str.search(/m/i) === str.length - 1) {\n\t        return parseFloat(str.substring(0, str.length - 1) * 60);\n\t      } else if (str.search(/h/i) === str.length - 1) {\n\t        return parseFloat(str.substring(0, str.length - 1) * 3600);\n\t      }\n\t    }\n\t    return str;\n\t  };\n\t\n\t  this.urlToBlob = function(url) {\n\t    var defer = $q.defer();\n\t    $http({url: url, method: 'get', responseType: 'arraybuffer'}).then(function (resp) {\n\t      var arrayBufferView = new Uint8Array(resp.data);\n\t      var type = resp.headers('content-type') || 'image/WebP';\n\t      var blob = new window.Blob([arrayBufferView], {type: type});\n\t      defer.resolve(blob);\n\t      //var split = type.split('[/;]');\n\t      //blob.name = url.substring(0, 150).replace(/\\W+/g, '') + '.' + (split.length > 1 ? split[1] : 'jpg');\n\t    }, function (e) {\n\t      defer.reject(e);\n\t    });\n\t    return defer.promise;\n\t  };\n\t\n\t  this.setDefaults = function (defaults) {\n\t    this.defaults = defaults || {};\n\t  };\n\t\n\t  this.defaults = {};\n\t  this.version = ngFileUpload.version;\n\t}\n\t\n\t]);\n\t\n\tngFileUpload.service('Upload', ['$parse', '$timeout', '$compile', '$q', 'UploadExif', function ($parse, $timeout, $compile, $q, UploadExif) {\n\t  var upload = UploadExif;\n\t  upload.getAttrWithDefaults = function (attr, name) {\n\t    if (attr[name] != null) return attr[name];\n\t    var def = upload.defaults[name];\n\t    return (def == null ? def : (angular.isString(def) ? def : JSON.stringify(def)));\n\t  };\n\t\n\t  upload.attrGetter = function (name, attr, scope, params) {\n\t    var attrVal = this.getAttrWithDefaults(attr, name);\n\t    if (scope) {\n\t      try {\n\t        if (params) {\n\t          return $parse(attrVal)(scope, params);\n\t        } else {\n\t          return $parse(attrVal)(scope);\n\t        }\n\t      } catch (e) {\n\t        // hangle string value without single qoute\n\t        if (name.search(/min|max|pattern/i)) {\n\t          return attrVal;\n\t        } else {\n\t          throw e;\n\t        }\n\t      }\n\t    } else {\n\t      return attrVal;\n\t    }\n\t  };\n\t\n\t  upload.shouldUpdateOn = function (type, attr, scope) {\n\t    var modelOptions = upload.attrGetter('ngModelOptions', attr, scope);\n\t    if (modelOptions && modelOptions.updateOn) {\n\t      return modelOptions.updateOn.split(' ').indexOf(type) > -1;\n\t    }\n\t    return true;\n\t  };\n\t\n\t  upload.emptyPromise = function () {\n\t    var d = $q.defer();\n\t    var args = arguments;\n\t    $timeout(function () {\n\t      d.resolve.apply(d, args);\n\t    });\n\t    return d.promise;\n\t  };\n\t\n\t  upload.rejectPromise = function () {\n\t    var d = $q.defer();\n\t    var args = arguments;\n\t    $timeout(function () {\n\t      d.reject.apply(d, args);\n\t    });\n\t    return d.promise;\n\t  };\n\t\n\t  upload.happyPromise = function (promise, data) {\n\t    var d = $q.defer();\n\t    promise.then(function (result) {\n\t      d.resolve(result);\n\t    }, function (error) {\n\t      $timeout(function () {\n\t        throw error;\n\t      });\n\t      d.resolve(data);\n\t    });\n\t    return d.promise;\n\t  };\n\t\n\t  function applyExifRotations(files, attr, scope) {\n\t    var promises = [upload.emptyPromise()];\n\t    angular.forEach(files, function (f, i) {\n\t      if (f.type.indexOf('image/jpeg') === 0 && upload.attrGetter('ngfFixOrientation', attr, scope, {$file: f})) {\n\t        promises.push(upload.happyPromise(upload.applyExifRotation(f), f).then(function (fixedFile) {\n\t          files.splice(i, 1, fixedFile);\n\t        }));\n\t      }\n\t    });\n\t    return $q.all(promises);\n\t  }\n\t\n\t  function resize(files, attr, scope) {\n\t    var param = upload.attrGetter('ngfResize', attr, scope);\n\t    if (!param || !angular.isObject(param) || !upload.isResizeSupported() || !files.length) return upload.emptyPromise();\n\t    var promises = [upload.emptyPromise()];\n\t    angular.forEach(files, function (f, i) {\n\t      if (f.type.indexOf('image') === 0) {\n\t        if (param.pattern && !upload.validatePattern(f, param.pattern)) return;\n\t        var promise = upload.resize(f, param.width, param.height, param.quality,\n\t          param.type, param.ratio, param.centerCrop, function (width, height) {\n\t            return upload.attrGetter('ngfResizeIf', attr, scope,\n\t              {$width: width, $height: height, $file: f});\n\t          }, param.restoreExif !== false);\n\t        promises.push(promise);\n\t        promise.then(function (resizedFile) {\n\t          files.splice(i, 1, resizedFile);\n\t        }, function (e) {\n\t          f.$error = 'resize';\n\t          f.$errorParam = (e ? (e.message ? e.message : e) + ': ' : '') + (f && f.name);\n\t        });\n\t      }\n\t    });\n\t    return $q.all(promises);\n\t  }\n\t\n\t  function handleKeep(files, prevFiles, attr, scope) {\n\t    var dupFiles = [];\n\t    var keep = upload.attrGetter('ngfKeep', attr, scope);\n\t    if (keep) {\n\t      var hasNew = false;\n\t\n\t      if (keep === 'distinct' || upload.attrGetter('ngfKeepDistinct', attr, scope) === true) {\n\t        var len = prevFiles.length;\n\t        if (files) {\n\t          for (var i = 0; i < files.length; i++) {\n\t            for (var j = 0; j < len; j++) {\n\t              if (files[i].name === prevFiles[j].name) {\n\t                dupFiles.push(files[i]);\n\t                break;\n\t              }\n\t            }\n\t            if (j === len) {\n\t              prevFiles.push(files[i]);\n\t              hasNew = true;\n\t            }\n\t          }\n\t        }\n\t        files = prevFiles;\n\t      } else {\n\t        files = prevFiles.concat(files || []);\n\t      }\n\t    }\n\t    return {files: files, dupFiles: dupFiles, keep: keep};\n\t  }\n\t\n\t  upload.updateModel = function (ngModel, attr, scope, fileChange, files, evt, noDelay) {\n\t    function update(files, invalidFiles, newFiles, dupFiles, isSingleModel) {\n\t      var file = files && files.length ? files[0] : null;\n\t\n\t      if (ngModel) {\n\t        upload.applyModelValidation(ngModel, files);\n\t        ngModel.$setViewValue(isSingleModel ? file : files);\n\t      }\n\t\n\t      if (fileChange) {\n\t        $parse(fileChange)(scope, {\n\t          $files: files,\n\t          $file: file,\n\t          $newFiles: newFiles,\n\t          $duplicateFiles: dupFiles,\n\t          $invalidFiles: invalidFiles,\n\t          $event: evt\n\t        });\n\t      }\n\t\n\t      var invalidModel = upload.attrGetter('ngfModelInvalid', attr);\n\t      if (invalidModel) {\n\t        $timeout(function () {\n\t          $parse(invalidModel).assign(scope, invalidFiles);\n\t        });\n\t      }\n\t      $timeout(function () {\n\t        // scope apply changes\n\t      });\n\t    }\n\t\n\t    var newFiles = files;\n\t    var prevFiles = ngModel && ngModel.$modelValue && (angular.isArray(ngModel.$modelValue) ?\n\t        ngModel.$modelValue : [ngModel.$modelValue]);\n\t    prevFiles = (prevFiles || attr.$$ngfPrevFiles || []).slice(0);\n\t    var keepResult = handleKeep(files, prevFiles, attr, scope);\n\t    files = keepResult.files;\n\t    var dupFiles = keepResult.dupFiles;\n\t    var isSingleModel = !upload.attrGetter('ngfMultiple', attr, scope) && !upload.attrGetter('multiple', attr) && !keepResult.keep;\n\t\n\t    attr.$$ngfPrevFiles = files;\n\t\n\t    if (keepResult.keep && (!newFiles || !newFiles.length)) return;\n\t\n\t    upload.attrGetter('ngfBeforeModelChange', attr, scope, {\n\t      $files: files,\n\t      $file: files && files.length ? files[0] : null,\n\t      $duplicateFiles: dupFiles,\n\t      $event: evt\n\t    });\n\t\n\t    var validateAfterResize = upload.attrGetter('ngfValidateAfterResize', attr, scope);\n\t    var invalids = [];\n\t    function separateInvalids() {\n\t      var valids = [];\n\t      angular.forEach(files, function (file) {\n\t        if (file.$error) {\n\t          invalids.push(file);\n\t        } else {\n\t          valids.push(file);\n\t        }\n\t      });\n\t      files = valids;\n\t    }\n\t\n\t    upload.validate(newFiles, ngModel, attr, scope).then(function () {\n\t      if (noDelay) {\n\t        update(files, [], newFiles, dupFiles, isSingleModel);\n\t      } else {\n\t        var options = upload.attrGetter('ngModelOptions', attr, scope);\n\t        if ((!options || !options.allowInvalid) && !validateAfterResize) {\n\t          separateInvalids();\n\t        }\n\t        var fixOrientation = upload.emptyPromise(files);\n\t        if (upload.attrGetter('ngfFixOrientation', attr, scope) && upload.isExifSupported()) {\n\t          fixOrientation = applyExifRotations(files, attr, scope);\n\t        }\n\t        fixOrientation.then(function () {\n\t          function updateModel() {\n\t            $timeout(function () {\n\t              update(files, invalids, newFiles, dupFiles, isSingleModel);\n\t            }, options && options.debounce ? options.debounce.change || options.debounce : 0);\n\t          }\n\t          resize(files, attr, scope).then(function () {\n\t            if (validateAfterResize) {\n\t              upload.validate(files, ngModel, attr, scope).then(function () {\n\t                separateInvalids();\n\t                updateModel();\n\t              });\n\t            } else {\n\t              updateModel();\n\t            }\n\t          }, function (e) {\n\t            throw 'Could not resize files ' + e;\n\t          });\n\t        });\n\t      }\n\t    });\n\t\n\t    // cleaning object url memories\n\t    var l = prevFiles.length;\n\t    while (l--) {\n\t      var prevFile = prevFiles[l];\n\t      if (window.URL && prevFile.blobUrl) {\n\t        URL.revokeObjectURL(prevFile.blobUrl);\n\t        delete prevFile.blobUrl;\n\t      }\n\t    }\n\t  };\n\t\n\t  return upload;\n\t}]);\n\t\n\tngFileUpload.directive('ngfSelect', ['$parse', '$timeout', '$compile', 'Upload', function ($parse, $timeout, $compile, Upload) {\n\t  var generatedElems = [];\n\t\n\t  function isDelayedClickSupported(ua) {\n\t    // fix for android native browser < 4.4 and safari windows\n\t    var m = ua.match(/Android[^\\d]*(\\d+)\\.(\\d+)/);\n\t    if (m && m.length > 2) {\n\t      var v = Upload.defaults.androidFixMinorVersion || 4;\n\t      return parseInt(m[1]) < 4 || (parseInt(m[1]) === v && parseInt(m[2]) < v);\n\t    }\n\t\n\t    // safari on windows\n\t    return ua.indexOf('Chrome') === -1 && /.*Windows.*Safari.*/.test(ua);\n\t  }\n\t\n\t  function linkFileSelect(scope, elem, attr, ngModel, $parse, $timeout, $compile, upload) {\n\t    /** @namespace attr.ngfSelect */\n\t    /** @namespace attr.ngfChange */\n\t    /** @namespace attr.ngModel */\n\t    /** @namespace attr.ngModelOptions */\n\t    /** @namespace attr.ngfMultiple */\n\t    /** @namespace attr.ngfCapture */\n\t    /** @namespace attr.ngfValidate */\n\t    /** @namespace attr.ngfKeep */\n\t    var attrGetter = function (name, scope) {\n\t      return upload.attrGetter(name, attr, scope);\n\t    };\n\t\n\t    function isInputTypeFile() {\n\t      return elem[0].tagName.toLowerCase() === 'input' && attr.type && attr.type.toLowerCase() === 'file';\n\t    }\n\t\n\t    function fileChangeAttr() {\n\t      return attrGetter('ngfChange') || attrGetter('ngfSelect');\n\t    }\n\t\n\t    function changeFn(evt) {\n\t      if (upload.shouldUpdateOn('change', attr, scope)) {\n\t        var fileList = evt.__files_ || (evt.target && evt.target.files), files = [];\n\t        for (var i = 0; i < fileList.length; i++) {\n\t          files.push(fileList[i]);\n\t        }\n\t        upload.updateModel(ngModel, attr, scope, fileChangeAttr(),\n\t          files.length ? files : null, evt);\n\t      }\n\t    }\n\t\n\t    upload.registerModelChangeValidator(ngModel, attr, scope);\n\t\n\t    var unwatches = [];\n\t    unwatches.push(scope.$watch(attrGetter('ngfMultiple'), function () {\n\t      fileElem.attr('multiple', attrGetter('ngfMultiple', scope));\n\t    }));\n\t    unwatches.push(scope.$watch(attrGetter('ngfCapture'), function () {\n\t      fileElem.attr('capture', attrGetter('ngfCapture', scope));\n\t    }));\n\t    unwatches.push(scope.$watch(attrGetter('ngfAccept'), function () {\n\t      fileElem.attr('accept', attrGetter('ngfAccept', scope));\n\t    }));\n\t    attr.$observe('accept', function () {\n\t      fileElem.attr('accept', attrGetter('accept'));\n\t    });\n\t    unwatches.push(function () {\n\t      if (attr.$$observers) delete attr.$$observers.accept;\n\t    });\n\t    function bindAttrToFileInput(fileElem) {\n\t      if (elem !== fileElem) {\n\t        for (var i = 0; i < elem[0].attributes.length; i++) {\n\t          var attribute = elem[0].attributes[i];\n\t          if (attribute.name !== 'type' && attribute.name !== 'class' && attribute.name !== 'style') {\n\t            if (attribute.value == null || attribute.value === '') {\n\t              if (attribute.name === 'required') attribute.value = 'required';\n\t              if (attribute.name === 'multiple') attribute.value = 'multiple';\n\t            }\n\t            fileElem.attr(attribute.name, attribute.name === 'id' ? 'ngf-' + attribute.value : attribute.value);\n\t          }\n\t        }\n\t      }\n\t    }\n\t\n\t    function createFileInput() {\n\t      if (isInputTypeFile()) {\n\t        return elem;\n\t      }\n\t\n\t      var fileElem = angular.element('<input type=\"file\">');\n\t\n\t      bindAttrToFileInput(fileElem);\n\t\n\t      var label = angular.element('<label>upload</label>');\n\t      label.css('visibility', 'hidden').css('position', 'absolute').css('overflow', 'hidden')\n\t        .css('width', '0px').css('height', '0px').css('border', 'none')\n\t        .css('margin', '0px').css('padding', '0px').attr('tabindex', '-1');\n\t      generatedElems.push({el: elem, ref: label});\n\t\n\t      document.body.appendChild(label.append(fileElem)[0]);\n\t\n\t      return fileElem;\n\t    }\n\t\n\t    var initialTouchStartY = 0;\n\t\n\t    function clickHandler(evt) {\n\t      if (elem.attr('disabled')) return false;\n\t      if (attrGetter('ngfSelectDisabled', scope)) return;\n\t\n\t      var r = handleTouch(evt);\n\t      if (r != null) return r;\n\t\n\t      resetModel(evt);\n\t\n\t      // fix for md when the element is removed from the DOM and added back #460\n\t      try {\n\t        if (!isInputTypeFile() && !document.body.contains(fileElem[0])) {\n\t          generatedElems.push({el: elem, ref: fileElem.parent()});\n\t          document.body.appendChild(fileElem[0].parent());\n\t          fileElem.bind('change', changeFn);\n\t        }\n\t      } catch(e){/*ignore*/}\n\t\n\t      if (isDelayedClickSupported(navigator.userAgent)) {\n\t        setTimeout(function () {\n\t          fileElem[0].click();\n\t        }, 0);\n\t      } else {\n\t        fileElem[0].click();\n\t      }\n\t\n\t      return false;\n\t    }\n\t\n\t    function handleTouch(evt) {\n\t      var touches = evt.changedTouches || (evt.originalEvent && evt.originalEvent.changedTouches);\n\t      if (evt.type === 'touchstart') {\n\t        initialTouchStartY = touches ? touches[0].clientY : 0;\n\t        return true; // don't block event default\n\t      } else {\n\t        evt.stopPropagation();\n\t        evt.preventDefault();\n\t\n\t        // prevent scroll from triggering event\n\t        if (evt.type === 'touchend') {\n\t          var currentLocation = touches ? touches[0].clientY : 0;\n\t          if (Math.abs(currentLocation - initialTouchStartY) > 20) return false;\n\t        }\n\t      }\n\t    }\n\t\n\t    var fileElem = elem;\n\t\n\t    function resetModel(evt) {\n\t      if (upload.shouldUpdateOn('click', attr, scope) && fileElem.val()) {\n\t        fileElem.val(null);\n\t        upload.updateModel(ngModel, attr, scope, fileChangeAttr(), null, evt, true);\n\t      }\n\t    }\n\t\n\t    if (!isInputTypeFile()) {\n\t      fileElem = createFileInput();\n\t    }\n\t    fileElem.bind('change', changeFn);\n\t\n\t    if (!isInputTypeFile()) {\n\t      elem.bind('click touchstart touchend', clickHandler);\n\t    } else {\n\t      elem.bind('click', resetModel);\n\t    }\n\t\n\t    function ie10SameFileSelectFix(evt) {\n\t      if (fileElem && !fileElem.attr('__ngf_ie10_Fix_')) {\n\t        if (!fileElem[0].parentNode) {\n\t          fileElem = null;\n\t          return;\n\t        }\n\t        evt.preventDefault();\n\t        evt.stopPropagation();\n\t        fileElem.unbind('click');\n\t        var clone = fileElem.clone();\n\t        fileElem.replaceWith(clone);\n\t        fileElem = clone;\n\t        fileElem.attr('__ngf_ie10_Fix_', 'true');\n\t        fileElem.bind('change', changeFn);\n\t        fileElem.bind('click', ie10SameFileSelectFix);\n\t        fileElem[0].click();\n\t        return false;\n\t      } else {\n\t        fileElem.removeAttr('__ngf_ie10_Fix_');\n\t      }\n\t    }\n\t\n\t    if (navigator.appVersion.indexOf('MSIE 10') !== -1) {\n\t      fileElem.bind('click', ie10SameFileSelectFix);\n\t    }\n\t\n\t    if (ngModel) ngModel.$formatters.push(function (val) {\n\t      if (val == null || val.length === 0) {\n\t        if (fileElem.val()) {\n\t          fileElem.val(null);\n\t        }\n\t      }\n\t      return val;\n\t    });\n\t\n\t    scope.$on('$destroy', function () {\n\t      if (!isInputTypeFile()) fileElem.parent().remove();\n\t      angular.forEach(unwatches, function (unwatch) {\n\t        unwatch();\n\t      });\n\t    });\n\t\n\t    $timeout(function () {\n\t      for (var i = 0; i < generatedElems.length; i++) {\n\t        var g = generatedElems[i];\n\t        if (!document.body.contains(g.el[0])) {\n\t          generatedElems.splice(i, 1);\n\t          g.ref.remove();\n\t        }\n\t      }\n\t    });\n\t\n\t    if (window.FileAPI && window.FileAPI.ngfFixIE) {\n\t      window.FileAPI.ngfFixIE(elem, fileElem, changeFn);\n\t    }\n\t  }\n\t\n\t  return {\n\t    restrict: 'AEC',\n\t    require: '?ngModel',\n\t    link: function (scope, elem, attr, ngModel) {\n\t      linkFileSelect(scope, elem, attr, ngModel, $parse, $timeout, $compile, Upload);\n\t    }\n\t  };\n\t}]);\n\t\n\t(function () {\n\t\n\t  ngFileUpload.service('UploadDataUrl', ['UploadBase', '$timeout', '$q', function (UploadBase, $timeout, $q) {\n\t    var upload = UploadBase;\n\t    upload.base64DataUrl = function (file) {\n\t      if (angular.isArray(file)) {\n\t        var d = $q.defer(), count = 0;\n\t        angular.forEach(file, function (f) {\n\t          upload.dataUrl(f, true)['finally'](function () {\n\t            count++;\n\t            if (count === file.length) {\n\t              var urls = [];\n\t              angular.forEach(file, function (ff) {\n\t                urls.push(ff.$ngfDataUrl);\n\t              });\n\t              d.resolve(urls, file);\n\t            }\n\t          });\n\t        });\n\t        return d.promise;\n\t      } else {\n\t        return upload.dataUrl(file, true);\n\t      }\n\t    };\n\t    upload.dataUrl = function (file, disallowObjectUrl) {\n\t      if (!file) return upload.emptyPromise(file, file);\n\t      if ((disallowObjectUrl && file.$ngfDataUrl != null) || (!disallowObjectUrl && file.$ngfBlobUrl != null)) {\n\t        return upload.emptyPromise(disallowObjectUrl ? file.$ngfDataUrl : file.$ngfBlobUrl, file);\n\t      }\n\t      var p = disallowObjectUrl ? file.$$ngfDataUrlPromise : file.$$ngfBlobUrlPromise;\n\t      if (p) return p;\n\t\n\t      var deferred = $q.defer();\n\t      $timeout(function () {\n\t        if (window.FileReader && file &&\n\t          (!window.FileAPI || navigator.userAgent.indexOf('MSIE 8') === -1 || file.size < 20000) &&\n\t          (!window.FileAPI || navigator.userAgent.indexOf('MSIE 9') === -1 || file.size < 4000000)) {\n\t          //prefer URL.createObjectURL for handling refrences to files of all sizes\n\t          //since it doesnt build a large string in memory\n\t          var URL = window.URL || window.webkitURL;\n\t          if (URL && URL.createObjectURL && !disallowObjectUrl) {\n\t            var url;\n\t            try {\n\t              url = URL.createObjectURL(file);\n\t            } catch (e) {\n\t              $timeout(function () {\n\t                file.$ngfBlobUrl = '';\n\t                deferred.reject();\n\t              });\n\t              return;\n\t            }\n\t            $timeout(function () {\n\t              file.$ngfBlobUrl = url;\n\t              if (url) deferred.resolve(url, file);\n\t            });\n\t          } else {\n\t            var fileReader = new FileReader();\n\t            fileReader.onload = function (e) {\n\t              $timeout(function () {\n\t                file.$ngfDataUrl = e.target.result;\n\t                deferred.resolve(e.target.result, file);\n\t              });\n\t            };\n\t            fileReader.onerror = function () {\n\t              $timeout(function () {\n\t                file.$ngfDataUrl = '';\n\t                deferred.reject();\n\t              });\n\t            };\n\t            fileReader.readAsDataURL(file);\n\t          }\n\t        } else {\n\t          $timeout(function () {\n\t            file[disallowObjectUrl ? 'dataUrl' : 'blobUrl'] = '';\n\t            deferred.reject();\n\t          });\n\t        }\n\t      });\n\t\n\t      if (disallowObjectUrl) {\n\t        p = file.$$ngfDataUrlPromise = deferred.promise;\n\t      } else {\n\t        p = file.$$ngfBlobUrlPromise = deferred.promise;\n\t      }\n\t      p['finally'](function () {\n\t        delete file[disallowObjectUrl ? '$$ngfDataUrlPromise' : '$$ngfBlobUrlPromise'];\n\t      });\n\t      return p;\n\t    };\n\t    return upload;\n\t  }]);\n\t\n\t  function getTagType(el) {\n\t    if (el.tagName.toLowerCase() === 'img') return 'image';\n\t    if (el.tagName.toLowerCase() === 'audio') return 'audio';\n\t    if (el.tagName.toLowerCase() === 'video') return 'video';\n\t    return /./;\n\t  }\n\t\n\t  function linkFileDirective(Upload, $timeout, scope, elem, attr, directiveName, resizeParams, isBackground) {\n\t    function constructDataUrl(file) {\n\t      var disallowObjectUrl = Upload.attrGetter('ngfNoObjectUrl', attr, scope);\n\t      Upload.dataUrl(file, disallowObjectUrl)['finally'](function () {\n\t        $timeout(function () {\n\t          var src = (disallowObjectUrl ? file.$ngfDataUrl : file.$ngfBlobUrl) || file.$ngfDataUrl;\n\t          if (isBackground) {\n\t            elem.css('background-image', 'url(\\'' + (src || '') + '\\')');\n\t          } else {\n\t            elem.attr('src', src);\n\t          }\n\t          if (src) {\n\t            elem.removeClass('ng-hide');\n\t          } else {\n\t            elem.addClass('ng-hide');\n\t          }\n\t        });\n\t      });\n\t    }\n\t\n\t    $timeout(function () {\n\t      var unwatch = scope.$watch(attr[directiveName], function (file) {\n\t        var size = resizeParams;\n\t        if (directiveName === 'ngfThumbnail') {\n\t          if (!size) {\n\t            size = {width: elem[0].clientWidth, height: elem[0].clientHeight};\n\t          }\n\t          if (size.width === 0 && window.getComputedStyle) {\n\t            var style = getComputedStyle(elem[0]);\n\t            size = {\n\t              width: parseInt(style.width.slice(0, -2)),\n\t              height: parseInt(style.height.slice(0, -2))\n\t            };\n\t          }\n\t        }\n\t\n\t        if (angular.isString(file)) {\n\t          elem.removeClass('ng-hide');\n\t          if (isBackground) {\n\t            return elem.css('background-image', 'url(\\'' + file + '\\')');\n\t          } else {\n\t            return elem.attr('src', file);\n\t          }\n\t        }\n\t        if (file && file.type && file.type.search(getTagType(elem[0])) === 0 &&\n\t          (!isBackground || file.type.indexOf('image') === 0)) {\n\t          if (size && Upload.isResizeSupported()) {\n\t            Upload.resize(file, size.width, size.height, size.quality).then(\n\t              function (f) {\n\t                constructDataUrl(f);\n\t              }, function (e) {\n\t                throw e;\n\t              }\n\t            );\n\t          } else {\n\t            constructDataUrl(file);\n\t          }\n\t        } else {\n\t          elem.addClass('ng-hide');\n\t        }\n\t      });\n\t\n\t      scope.$on('$destroy', function () {\n\t        unwatch();\n\t      });\n\t    });\n\t  }\n\t\n\t\n\t  /** @namespace attr.ngfSrc */\n\t  /** @namespace attr.ngfNoObjectUrl */\n\t  ngFileUpload.directive('ngfSrc', ['Upload', '$timeout', function (Upload, $timeout) {\n\t    return {\n\t      restrict: 'AE',\n\t      link: function (scope, elem, attr) {\n\t        linkFileDirective(Upload, $timeout, scope, elem, attr, 'ngfSrc',\n\t          Upload.attrGetter('ngfResize', attr, scope), false);\n\t      }\n\t    };\n\t  }]);\n\t\n\t  /** @namespace attr.ngfBackground */\n\t  /** @namespace attr.ngfNoObjectUrl */\n\t  ngFileUpload.directive('ngfBackground', ['Upload', '$timeout', function (Upload, $timeout) {\n\t    return {\n\t      restrict: 'AE',\n\t      link: function (scope, elem, attr) {\n\t        linkFileDirective(Upload, $timeout, scope, elem, attr, 'ngfBackground',\n\t          Upload.attrGetter('ngfResize', attr, scope), true);\n\t      }\n\t    };\n\t  }]);\n\t\n\t  /** @namespace attr.ngfThumbnail */\n\t  /** @namespace attr.ngfAsBackground */\n\t  /** @namespace attr.ngfSize */\n\t  /** @namespace attr.ngfNoObjectUrl */\n\t  ngFileUpload.directive('ngfThumbnail', ['Upload', '$timeout', function (Upload, $timeout) {\n\t    return {\n\t      restrict: 'AE',\n\t      link: function (scope, elem, attr) {\n\t        var size = Upload.attrGetter('ngfSize', attr, scope);\n\t        linkFileDirective(Upload, $timeout, scope, elem, attr, 'ngfThumbnail', size,\n\t          Upload.attrGetter('ngfAsBackground', attr, scope));\n\t      }\n\t    };\n\t  }]);\n\t\n\t  ngFileUpload.config(['$compileProvider', function ($compileProvider) {\n\t    if ($compileProvider.imgSrcSanitizationWhitelist) $compileProvider.imgSrcSanitizationWhitelist(/^\\s*(https?|ftp|mailto|tel|local|file|data|blob):/);\n\t    if ($compileProvider.aHrefSanitizationWhitelist) $compileProvider.aHrefSanitizationWhitelist(/^\\s*(https?|ftp|mailto|tel|local|file|data|blob):/);\n\t  }]);\n\t\n\t  ngFileUpload.filter('ngfDataUrl', ['UploadDataUrl', '$sce', function (UploadDataUrl, $sce) {\n\t    return function (file, disallowObjectUrl, trustedUrl) {\n\t      if (angular.isString(file)) {\n\t        return $sce.trustAsResourceUrl(file);\n\t      }\n\t      var src = file && ((disallowObjectUrl ? file.$ngfDataUrl : file.$ngfBlobUrl) || file.$ngfDataUrl);\n\t      if (file && !src) {\n\t        if (!file.$ngfDataUrlFilterInProgress && angular.isObject(file)) {\n\t          file.$ngfDataUrlFilterInProgress = true;\n\t          UploadDataUrl.dataUrl(file, disallowObjectUrl);\n\t        }\n\t        return '';\n\t      }\n\t      if (file) delete file.$ngfDataUrlFilterInProgress;\n\t      return (file && src ? (trustedUrl ? $sce.trustAsResourceUrl(src) : src) : file) || '';\n\t    };\n\t  }]);\n\t\n\t})();\n\t\n\tngFileUpload.service('UploadValidate', ['UploadDataUrl', '$q', '$timeout', function (UploadDataUrl, $q, $timeout) {\n\t  var upload = UploadDataUrl;\n\t\n\t  function globStringToRegex(str) {\n\t    var regexp = '', excludes = [];\n\t    if (str.length > 2 && str[0] === '/' && str[str.length - 1] === '/') {\n\t      regexp = str.substring(1, str.length - 1);\n\t    } else {\n\t      var split = str.split(',');\n\t      if (split.length > 1) {\n\t        for (var i = 0; i < split.length; i++) {\n\t          var r = globStringToRegex(split[i]);\n\t          if (r.regexp) {\n\t            regexp += '(' + r.regexp + ')';\n\t            if (i < split.length - 1) {\n\t              regexp += '|';\n\t            }\n\t          } else {\n\t            excludes = excludes.concat(r.excludes);\n\t          }\n\t        }\n\t      } else {\n\t        if (str.indexOf('!') === 0) {\n\t          excludes.push('^((?!' + globStringToRegex(str.substring(1)).regexp + ').)*$');\n\t        } else {\n\t          if (str.indexOf('.') === 0) {\n\t            str = '*' + str;\n\t          }\n\t          regexp = '^' + str.replace(new RegExp('[.\\\\\\\\+*?\\\\[\\\\^\\\\]$(){}=!<>|:\\\\-]', 'g'), '\\\\$&') + '$';\n\t          regexp = regexp.replace(/\\\\\\*/g, '.*').replace(/\\\\\\?/g, '.');\n\t        }\n\t      }\n\t    }\n\t    return {regexp: regexp, excludes: excludes};\n\t  }\n\t\n\t  upload.validatePattern = function (file, val) {\n\t    if (!val) {\n\t      return true;\n\t    }\n\t    var pattern = globStringToRegex(val), valid = true;\n\t    if (pattern.regexp && pattern.regexp.length) {\n\t      var regexp = new RegExp(pattern.regexp, 'i');\n\t      valid = (file.type != null && regexp.test(file.type)) ||\n\t        (file.name != null && regexp.test(file.name));\n\t    }\n\t    var len = pattern.excludes.length;\n\t    while (len--) {\n\t      var exclude = new RegExp(pattern.excludes[len], 'i');\n\t      valid = valid && (file.type == null || exclude.test(file.type)) &&\n\t        (file.name == null || exclude.test(file.name));\n\t    }\n\t    return valid;\n\t  };\n\t\n\t  upload.ratioToFloat = function (val) {\n\t    var r = val.toString(), xIndex = r.search(/[x:]/i);\n\t    if (xIndex > -1) {\n\t      r = parseFloat(r.substring(0, xIndex)) / parseFloat(r.substring(xIndex + 1));\n\t    } else {\n\t      r = parseFloat(r);\n\t    }\n\t    return r;\n\t  };\n\t\n\t  upload.registerModelChangeValidator = function (ngModel, attr, scope) {\n\t    if (ngModel) {\n\t      ngModel.$formatters.push(function (files) {\n\t        if (ngModel.$dirty) {\n\t          if (files && !angular.isArray(files)) {\n\t            files = [files];\n\t          }\n\t          upload.validate(files, ngModel, attr, scope).then(function () {\n\t            upload.applyModelValidation(ngModel, files);\n\t          });\n\t        }\n\t      });\n\t    }\n\t  };\n\t\n\t  function markModelAsDirty(ngModel, files) {\n\t    if (files != null && !ngModel.$dirty) {\n\t      if (ngModel.$setDirty) {\n\t        ngModel.$setDirty();\n\t      } else {\n\t        ngModel.$dirty = true;\n\t      }\n\t    }\n\t  }\n\t\n\t  upload.applyModelValidation = function (ngModel, files) {\n\t    markModelAsDirty(ngModel, files);\n\t    angular.forEach(ngModel.$ngfValidations, function (validation) {\n\t      ngModel.$setValidity(validation.name, validation.valid);\n\t    });\n\t  };\n\t\n\t  upload.getValidationAttr = function (attr, scope, name, validationName, file) {\n\t    var dName = 'ngf' + name[0].toUpperCase() + name.substr(1);\n\t    var val = upload.attrGetter(dName, attr, scope, {$file: file});\n\t    if (val == null) {\n\t      val = upload.attrGetter('ngfValidate', attr, scope, {$file: file});\n\t      if (val) {\n\t        var split = (validationName || name).split('.');\n\t        val = val[split[0]];\n\t        if (split.length > 1) {\n\t          val = val && val[split[1]];\n\t        }\n\t      }\n\t    }\n\t    return val;\n\t  };\n\t\n\t  upload.validate = function (files, ngModel, attr, scope) {\n\t    ngModel = ngModel || {};\n\t    ngModel.$ngfValidations = ngModel.$ngfValidations || [];\n\t\n\t    angular.forEach(ngModel.$ngfValidations, function (v) {\n\t      v.valid = true;\n\t    });\n\t\n\t    var attrGetter = function (name, params) {\n\t      return upload.attrGetter(name, attr, scope, params);\n\t    };\n\t\n\t    if (files == null || files.length === 0) {\n\t      return upload.emptyPromise(ngModel);\n\t    }\n\t\n\t    files = files.length === undefined ? [files] : files.slice(0);\n\t\n\t    function validateSync(name, validationName, fn) {\n\t      if (files) {\n\t        var i = files.length, valid = null;\n\t        while (i--) {\n\t          var file = files[i];\n\t          if (file) {\n\t            var val = upload.getValidationAttr(attr, scope, name, validationName, file);\n\t            if (val != null) {\n\t              if (!fn(file, val)) {\n\t                file.$error = name;\n\t                file.$errorParam = val;\n\t                files.splice(i, 1);\n\t                valid = false;\n\t              }\n\t            }\n\t          }\n\t        }\n\t        if (valid !== null) {\n\t          ngModel.$ngfValidations.push({name: name, valid: valid});\n\t        }\n\t      }\n\t    }\n\t\n\t    var filesLength = files.length;\n\t    validateSync('maxFiles', null, function (file, val) {\n\t      return filesLength <= val;\n\t    });\n\t    validateSync('pattern', null, upload.validatePattern);\n\t    validateSync('minSize', 'size.min', function (file, val) {\n\t      return file.size >= upload.translateScalars(val);\n\t    });\n\t    validateSync('maxSize', 'size.max', function (file, val) {\n\t      return file.size <= upload.translateScalars(val);\n\t    });\n\t    var totalSize = 0;\n\t    validateSync('maxTotalSize', null, function (file, val) {\n\t      totalSize += file.size;\n\t      if (totalSize > upload.translateScalars(val)) {\n\t        files.splice(0, files.length);\n\t        return false;\n\t      }\n\t      return true;\n\t    });\n\t\n\t    validateSync('validateFn', null, function (file, r) {\n\t      return r === true || r === null || r === '';\n\t    });\n\t\n\t    if (!files.length) {\n\t      return upload.emptyPromise(ngModel, ngModel.$ngfValidations);\n\t    }\n\t\n\t    function validateAsync(name, validationName, type, asyncFn, fn) {\n\t      function resolveResult(defer, file, val) {\n\t        if (val != null) {\n\t          asyncFn(file, val).then(function (d) {\n\t            if (!fn(d, val)) {\n\t              file.$error = name;\n\t              file.$errorParam = val;\n\t              defer.reject();\n\t            } else {\n\t              defer.resolve();\n\t            }\n\t          }, function () {\n\t            if (attrGetter('ngfValidateForce', {$file: file})) {\n\t              file.$error = name;\n\t              file.$errorParam = val;\n\t              defer.reject();\n\t            } else {\n\t              defer.resolve();\n\t            }\n\t          });\n\t        } else {\n\t          defer.resolve();\n\t        }\n\t      }\n\t\n\t      var promises = [upload.emptyPromise()];\n\t      if (files) {\n\t        files = files.length === undefined ? [files] : files;\n\t        angular.forEach(files, function (file) {\n\t          var defer = $q.defer();\n\t          promises.push(defer.promise);\n\t          if (type && (file.type == null || file.type.search(type) !== 0)) {\n\t            defer.resolve();\n\t            return;\n\t          }\n\t          if (name === 'dimensions' && upload.attrGetter('ngfDimensions', attr) != null) {\n\t            upload.imageDimensions(file).then(function (d) {\n\t              resolveResult(defer, file,\n\t                attrGetter('ngfDimensions', {$file: file, $width: d.width, $height: d.height}));\n\t            }, function () {\n\t              defer.reject();\n\t            });\n\t          } else if (name === 'duration' && upload.attrGetter('ngfDuration', attr) != null) {\n\t            upload.mediaDuration(file).then(function (d) {\n\t              resolveResult(defer, file,\n\t                attrGetter('ngfDuration', {$file: file, $duration: d}));\n\t            }, function () {\n\t              defer.reject();\n\t            });\n\t          } else {\n\t            resolveResult(defer, file,\n\t              upload.getValidationAttr(attr, scope, name, validationName, file));\n\t          }\n\t        });\n\t        return $q.all(promises).then(function () {\n\t          ngModel.$ngfValidations.push({name: name, valid: true});\n\t        }, function () {\n\t          ngModel.$ngfValidations.push({name: name, valid: false});\n\t        });\n\t      }\n\t    }\n\t\n\t    var deffer = $q.defer();\n\t    var promises = [];\n\t\n\t    promises.push(upload.happyPromise(validateAsync('maxHeight', 'height.max', /image/,\n\t      this.imageDimensions, function (d, val) {\n\t        return d.height <= val;\n\t      })));\n\t    promises.push(upload.happyPromise(validateAsync('minHeight', 'height.min', /image/,\n\t      this.imageDimensions, function (d, val) {\n\t        return d.height >= val;\n\t      })));\n\t    promises.push(upload.happyPromise(validateAsync('maxWidth', 'width.max', /image/,\n\t      this.imageDimensions, function (d, val) {\n\t        return d.width <= val;\n\t      })));\n\t    promises.push(upload.happyPromise(validateAsync('minWidth', 'width.min', /image/,\n\t      this.imageDimensions, function (d, val) {\n\t        return d.width >= val;\n\t      })));\n\t    promises.push(upload.happyPromise(validateAsync('dimensions', null, /image/,\n\t      function (file, val) {\n\t        return upload.emptyPromise(val);\n\t      }, function (r) {\n\t        return r;\n\t      })));\n\t    promises.push(upload.happyPromise(validateAsync('ratio', null, /image/,\n\t      this.imageDimensions, function (d, val) {\n\t        var split = val.toString().split(','), valid = false;\n\t        for (var i = 0; i < split.length; i++) {\n\t          if (Math.abs((d.width / d.height) - upload.ratioToFloat(split[i])) < 0.0001) {\n\t            valid = true;\n\t          }\n\t        }\n\t        return valid;\n\t      })));\n\t    promises.push(upload.happyPromise(validateAsync('maxRatio', 'ratio.max', /image/,\n\t      this.imageDimensions, function (d, val) {\n\t        return (d.width / d.height) - upload.ratioToFloat(val) < 0.0001;\n\t      })));\n\t    promises.push(upload.happyPromise(validateAsync('minRatio', 'ratio.min', /image/,\n\t      this.imageDimensions, function (d, val) {\n\t        return (d.width / d.height) - upload.ratioToFloat(val) > -0.0001;\n\t      })));\n\t    promises.push(upload.happyPromise(validateAsync('maxDuration', 'duration.max', /audio|video/,\n\t      this.mediaDuration, function (d, val) {\n\t        return d <= upload.translateScalars(val);\n\t      })));\n\t    promises.push(upload.happyPromise(validateAsync('minDuration', 'duration.min', /audio|video/,\n\t      this.mediaDuration, function (d, val) {\n\t        return d >= upload.translateScalars(val);\n\t      })));\n\t    promises.push(upload.happyPromise(validateAsync('duration', null, /audio|video/,\n\t      function (file, val) {\n\t        return upload.emptyPromise(val);\n\t      }, function (r) {\n\t        return r;\n\t      })));\n\t\n\t    promises.push(upload.happyPromise(validateAsync('validateAsyncFn', null, null,\n\t      function (file, val) {\n\t        return val;\n\t      }, function (r) {\n\t        return r === true || r === null || r === '';\n\t      })));\n\t\n\t    return $q.all(promises).then(function () {\n\t      deffer.resolve(ngModel, ngModel.$ngfValidations);\n\t    });\n\t  };\n\t\n\t  upload.imageDimensions = function (file) {\n\t    if (file.$ngfWidth && file.$ngfHeight) {\n\t      var d = $q.defer();\n\t      $timeout(function () {\n\t        d.resolve({width: file.$ngfWidth, height: file.$ngfHeight});\n\t      });\n\t      return d.promise;\n\t    }\n\t    if (file.$ngfDimensionPromise) return file.$ngfDimensionPromise;\n\t\n\t    var deferred = $q.defer();\n\t    $timeout(function () {\n\t      if (file.type.indexOf('image') !== 0) {\n\t        deferred.reject('not image');\n\t        return;\n\t      }\n\t      upload.dataUrl(file).then(function (dataUrl) {\n\t        var img = angular.element('<img>').attr('src', dataUrl).css('visibility', 'hidden').css('position', 'fixed');\n\t\n\t        function success() {\n\t          var width = img[0].clientWidth;\n\t          var height = img[0].clientHeight;\n\t          img.remove();\n\t          file.$ngfWidth = width;\n\t          file.$ngfHeight = height;\n\t          deferred.resolve({width: width, height: height});\n\t        }\n\t\n\t        function error() {\n\t          img.remove();\n\t          deferred.reject('load error');\n\t        }\n\t\n\t        img.on('load', success);\n\t        img.on('error', error);\n\t        var count = 0;\n\t\n\t        function checkLoadError() {\n\t          $timeout(function () {\n\t            if (img[0].parentNode) {\n\t              if (img[0].clientWidth) {\n\t                success();\n\t              } else if (count > 10) {\n\t                error();\n\t              } else {\n\t                checkLoadError();\n\t              }\n\t            }\n\t          }, 1000);\n\t        }\n\t\n\t        checkLoadError();\n\t\n\t        angular.element(document.getElementsByTagName('body')[0]).append(img);\n\t      }, function () {\n\t        deferred.reject('load error');\n\t      });\n\t    });\n\t\n\t    file.$ngfDimensionPromise = deferred.promise;\n\t    file.$ngfDimensionPromise['finally'](function () {\n\t      delete file.$ngfDimensionPromise;\n\t    });\n\t    return file.$ngfDimensionPromise;\n\t  };\n\t\n\t  upload.mediaDuration = function (file) {\n\t    if (file.$ngfDuration) {\n\t      var d = $q.defer();\n\t      $timeout(function () {\n\t        d.resolve(file.$ngfDuration);\n\t      });\n\t      return d.promise;\n\t    }\n\t    if (file.$ngfDurationPromise) return file.$ngfDurationPromise;\n\t\n\t    var deferred = $q.defer();\n\t    $timeout(function () {\n\t      if (file.type.indexOf('audio') !== 0 && file.type.indexOf('video') !== 0) {\n\t        deferred.reject('not media');\n\t        return;\n\t      }\n\t      upload.dataUrl(file).then(function (dataUrl) {\n\t        var el = angular.element(file.type.indexOf('audio') === 0 ? '<audio>' : '<video>')\n\t          .attr('src', dataUrl).css('visibility', 'none').css('position', 'fixed');\n\t\n\t        function success() {\n\t          var duration = el[0].duration;\n\t          file.$ngfDuration = duration;\n\t          el.remove();\n\t          deferred.resolve(duration);\n\t        }\n\t\n\t        function error() {\n\t          el.remove();\n\t          deferred.reject('load error');\n\t        }\n\t\n\t        el.on('loadedmetadata', success);\n\t        el.on('error', error);\n\t        var count = 0;\n\t\n\t        function checkLoadError() {\n\t          $timeout(function () {\n\t            if (el[0].parentNode) {\n\t              if (el[0].duration) {\n\t                success();\n\t              } else if (count > 10) {\n\t                error();\n\t              } else {\n\t                checkLoadError();\n\t              }\n\t            }\n\t          }, 1000);\n\t        }\n\t\n\t        checkLoadError();\n\t\n\t        angular.element(document.body).append(el);\n\t      }, function () {\n\t        deferred.reject('load error');\n\t      });\n\t    });\n\t\n\t    file.$ngfDurationPromise = deferred.promise;\n\t    file.$ngfDurationPromise['finally'](function () {\n\t      delete file.$ngfDurationPromise;\n\t    });\n\t    return file.$ngfDurationPromise;\n\t  };\n\t  return upload;\n\t}\n\t]);\n\t\n\tngFileUpload.service('UploadResize', ['UploadValidate', '$q', function (UploadValidate, $q) {\n\t  var upload = UploadValidate;\n\t\n\t  /**\n\t   * Conserve aspect ratio of the original region. Useful when shrinking/enlarging\n\t   * images to fit into a certain area.\n\t   * Source:  http://stackoverflow.com/a/14731922\n\t   *\n\t   * @param {Number} srcWidth Source area width\n\t   * @param {Number} srcHeight Source area height\n\t   * @param {Number} maxWidth Nestable area maximum available width\n\t   * @param {Number} maxHeight Nestable area maximum available height\n\t   * @return {Object} { width, height }\n\t   */\n\t  var calculateAspectRatioFit = function (srcWidth, srcHeight, maxWidth, maxHeight, centerCrop) {\n\t    var ratio = centerCrop ? Math.max(maxWidth / srcWidth, maxHeight / srcHeight) :\n\t      Math.min(maxWidth / srcWidth, maxHeight / srcHeight);\n\t    return {\n\t      width: srcWidth * ratio, height: srcHeight * ratio,\n\t      marginX: srcWidth * ratio - maxWidth, marginY: srcHeight * ratio - maxHeight\n\t    };\n\t  };\n\t\n\t  // Extracted from https://github.com/romelgomez/angular-firebase-image-upload/blob/master/app/scripts/fileUpload.js#L89\n\t  var resize = function (imagen, width, height, quality, type, ratio, centerCrop, resizeIf) {\n\t    var deferred = $q.defer();\n\t    var canvasElement = document.createElement('canvas');\n\t    var imageElement = document.createElement('img');\n\t\n\t    imageElement.onload = function () {\n\t      if (resizeIf != null && resizeIf(imageElement.width, imageElement.height) === false) {\n\t        deferred.reject('resizeIf');\n\t        return;\n\t      }\n\t      try {\n\t        if (ratio) {\n\t          var ratioFloat = upload.ratioToFloat(ratio);\n\t          var imgRatio = imageElement.width / imageElement.height;\n\t          if (imgRatio < ratioFloat) {\n\t            width = imageElement.width;\n\t            height = width / ratioFloat;\n\t          } else {\n\t            height = imageElement.height;\n\t            width = height * ratioFloat;\n\t          }\n\t        }\n\t        if (!width) {\n\t          width = imageElement.width;\n\t        }\n\t        if (!height) {\n\t          height = imageElement.height;\n\t        }\n\t        var dimensions = calculateAspectRatioFit(imageElement.width, imageElement.height, width, height, centerCrop);\n\t        canvasElement.width = Math.min(dimensions.width, width);\n\t        canvasElement.height = Math.min(dimensions.height, height);\n\t        var context = canvasElement.getContext('2d');\n\t        context.drawImage(imageElement,\n\t          Math.min(0, -dimensions.marginX / 2), Math.min(0, -dimensions.marginY / 2),\n\t          dimensions.width, dimensions.height);\n\t        deferred.resolve(canvasElement.toDataURL(type || 'image/WebP', quality || 0.934));\n\t      } catch (e) {\n\t        deferred.reject(e);\n\t      }\n\t    };\n\t    imageElement.onerror = function () {\n\t      deferred.reject();\n\t    };\n\t    imageElement.src = imagen;\n\t    return deferred.promise;\n\t  };\n\t\n\t  upload.dataUrltoBlob = function (dataurl, name) {\n\t    var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],\n\t      bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\n\t    while (n--) {\n\t      u8arr[n] = bstr.charCodeAt(n);\n\t    }\n\t    var blob = new window.Blob([u8arr], {type: mime});\n\t    blob.name = name;\n\t    return blob;\n\t  };\n\t\n\t  upload.isResizeSupported = function () {\n\t    var elem = document.createElement('canvas');\n\t    return window.atob && elem.getContext && elem.getContext('2d') && window.Blob;\n\t  };\n\t\n\t  if (upload.isResizeSupported()) {\n\t    // add name getter to the blob constructor prototype\n\t    Object.defineProperty(window.Blob.prototype, 'name', {\n\t      get: function () {\n\t        return this.$ngfName;\n\t      },\n\t      set: function (v) {\n\t        this.$ngfName = v;\n\t      },\n\t      configurable: true\n\t    });\n\t  }\n\t\n\t  upload.resize = function (file, width, height, quality, type, ratio, centerCrop, resizeIf, restoreExif) {\n\t    if (file.type.indexOf('image') !== 0) return upload.emptyPromise(file);\n\t\n\t    var deferred = $q.defer();\n\t    upload.dataUrl(file, true).then(function (url) {\n\t      resize(url, width, height, quality, type || file.type, ratio, centerCrop, resizeIf)\n\t        .then(function (dataUrl) {\n\t          if (file.type === 'image/jpeg' && restoreExif) {\n\t            try {\n\t              dataUrl = upload.restoreExif(url, dataUrl);\n\t            } catch (e) {\n\t              setTimeout(function () {throw e;}, 1);\n\t            }\n\t          }\n\t          deferred.resolve(upload.dataUrltoBlob(dataUrl, file.name));\n\t        }, function (r) {\n\t          if (r === 'resizeIf') {\n\t            deferred.resolve(file);\n\t          }\n\t          deferred.reject();\n\t        });\n\t    }, function () {\n\t      deferred.reject();\n\t    });\n\t    return deferred.promise;\n\t  };\n\t\n\t  return upload;\n\t}]);\n\t\n\t(function () {\n\t  ngFileUpload.directive('ngfDrop', ['$parse', '$timeout', '$location', 'Upload', '$http', '$q',\n\t    function ($parse, $timeout, $location, Upload, $http, $q) {\n\t      return {\n\t        restrict: 'AEC',\n\t        require: '?ngModel',\n\t        link: function (scope, elem, attr, ngModel) {\n\t          linkDrop(scope, elem, attr, ngModel, $parse, $timeout, $location, Upload, $http, $q);\n\t        }\n\t      };\n\t    }]);\n\t\n\t  ngFileUpload.directive('ngfNoFileDrop', function () {\n\t    return function (scope, elem) {\n\t      if (dropAvailable()) elem.css('display', 'none');\n\t    };\n\t  });\n\t\n\t  ngFileUpload.directive('ngfDropAvailable', ['$parse', '$timeout', 'Upload', function ($parse, $timeout, Upload) {\n\t    return function (scope, elem, attr) {\n\t      if (dropAvailable()) {\n\t        var model = $parse(Upload.attrGetter('ngfDropAvailable', attr));\n\t        $timeout(function () {\n\t          model(scope);\n\t          if (model.assign) {\n\t            model.assign(scope, true);\n\t          }\n\t        });\n\t      }\n\t    };\n\t  }]);\n\t\n\t  function linkDrop(scope, elem, attr, ngModel, $parse, $timeout, $location, upload, $http, $q) {\n\t    var available = dropAvailable();\n\t\n\t    var attrGetter = function (name, scope, params) {\n\t      return upload.attrGetter(name, attr, scope, params);\n\t    };\n\t\n\t    if (attrGetter('dropAvailable')) {\n\t      $timeout(function () {\n\t        if (scope[attrGetter('dropAvailable')]) {\n\t          scope[attrGetter('dropAvailable')].value = available;\n\t        } else {\n\t          scope[attrGetter('dropAvailable')] = available;\n\t        }\n\t      });\n\t    }\n\t    if (!available) {\n\t      if (attrGetter('ngfHideOnDropNotAvailable', scope) === true) {\n\t        elem.css('display', 'none');\n\t      }\n\t      return;\n\t    }\n\t\n\t    function isDisabled() {\n\t      return elem.attr('disabled') || attrGetter('ngfDropDisabled', scope);\n\t    }\n\t\n\t    if (attrGetter('ngfSelect') == null) {\n\t      upload.registerModelChangeValidator(ngModel, attr, scope);\n\t    }\n\t\n\t    var leaveTimeout = null;\n\t    var stopPropagation = $parse(attrGetter('ngfStopPropagation'));\n\t    var dragOverDelay = 1;\n\t    var actualDragOverClass;\n\t\n\t    elem[0].addEventListener('dragover', function (evt) {\n\t      if (isDisabled() || !upload.shouldUpdateOn('drop', attr, scope)) return;\n\t      evt.preventDefault();\n\t      if (stopPropagation(scope)) evt.stopPropagation();\n\t      // handling dragover events from the Chrome download bar\n\t      if (navigator.userAgent.indexOf('Chrome') > -1) {\n\t        var b = evt.dataTransfer.effectAllowed;\n\t        evt.dataTransfer.dropEffect = ('move' === b || 'linkMove' === b) ? 'move' : 'copy';\n\t      }\n\t      $timeout.cancel(leaveTimeout);\n\t      if (!actualDragOverClass) {\n\t        actualDragOverClass = 'C';\n\t        calculateDragOverClass(scope, attr, evt, function (clazz) {\n\t          actualDragOverClass = clazz;\n\t          elem.addClass(actualDragOverClass);\n\t          attrGetter('ngfDrag', scope, {$isDragging: true, $class: actualDragOverClass, $event: evt});\n\t        });\n\t      }\n\t    }, false);\n\t    elem[0].addEventListener('dragenter', function (evt) {\n\t      if (isDisabled() || !upload.shouldUpdateOn('drop', attr, scope)) return;\n\t      evt.preventDefault();\n\t      if (stopPropagation(scope)) evt.stopPropagation();\n\t    }, false);\n\t    elem[0].addEventListener('dragleave', function (evt) {\n\t      if (isDisabled() || !upload.shouldUpdateOn('drop', attr, scope)) return;\n\t      evt.preventDefault();\n\t      if (stopPropagation(scope)) evt.stopPropagation();\n\t      leaveTimeout = $timeout(function () {\n\t        if (actualDragOverClass) elem.removeClass(actualDragOverClass);\n\t        actualDragOverClass = null;\n\t        attrGetter('ngfDrag', scope, {$isDragging: false, $event: evt});\n\t      }, dragOverDelay || 100);\n\t    }, false);\n\t    elem[0].addEventListener('drop', function (evt) {\n\t      if (isDisabled() || !upload.shouldUpdateOn('drop', attr, scope)) return;\n\t      evt.preventDefault();\n\t      if (stopPropagation(scope)) evt.stopPropagation();\n\t      if (actualDragOverClass) elem.removeClass(actualDragOverClass);\n\t      actualDragOverClass = null;\n\t      extractFiles(evt, attrGetter('ngfAllowDir', scope) !== false,\n\t        attrGetter('multiple') || attrGetter('ngfMultiple', scope)).then(function (files) {\n\t        if (files.length) {\n\t          updateModel(files, evt);\n\t        } else {\n\t          extractFilesFromHtml('dropUrl', evt.dataTransfer).then(function (files) {\n\t            updateModel(files, evt);\n\t          });\n\t        }\n\t      });\n\t    }, false);\n\t    elem[0].addEventListener('paste', function (evt) {\n\t      if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1 &&\n\t        attrGetter('ngfEnableFirefoxPaste', scope)) {\n\t        evt.preventDefault();\n\t      }\n\t      if (isDisabled() || !upload.shouldUpdateOn('paste', attr, scope)) return;\n\t      var files = [];\n\t      var clipboard = evt.clipboardData || evt.originalEvent.clipboardData;\n\t      if (clipboard && clipboard.items) {\n\t        for (var k = 0; k < clipboard.items.length; k++) {\n\t          if (clipboard.items[k].type.indexOf('image') !== -1) {\n\t            files.push(clipboard.items[k].getAsFile());\n\t          }\n\t        }\n\t      }\n\t      if (files.length) {\n\t        updateModel(files, evt);\n\t      } else {\n\t        extractFilesFromHtml('pasteUrl', clipboard).then(function (files) {\n\t          updateModel(files, evt);\n\t        });\n\t      }\n\t    }, false);\n\t\n\t    if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1 &&\n\t      attrGetter('ngfEnableFirefoxPaste', scope)) {\n\t      elem.attr('contenteditable', true);\n\t      elem.on('keypress', function (e) {\n\t        if (!e.metaKey && !e.ctrlKey) {\n\t          e.preventDefault();\n\t        }\n\t      });\n\t    }\n\t\n\t    function updateModel(files, evt) {\n\t      upload.updateModel(ngModel, attr, scope, attrGetter('ngfChange') || attrGetter('ngfDrop'), files, evt);\n\t    }\n\t\n\t    function extractFilesFromHtml(updateOn, obj) {\n\t      var html;\n\t      try {\n\t        html = (obj && obj.getData && obj.getData('text/html'));\n\t      } catch (e) {/* Fix IE11 that throw error calling getData */\n\t      }\n\t      if (!upload.shouldUpdateOn(updateOn, attr, scope) || !html) return upload.rejectPromise([]);\n\t      var urls = [];\n\t      html.replace(/<(img src|img [^>]* src) *=\\\"([^\\\"]*)\\\"/gi, function (m, n, src) {\n\t        urls.push(src);\n\t      });\n\t      var promises = [], files = [];\n\t      if (urls.length) {\n\t        angular.forEach(urls, function (url) {\n\t          promises.push(upload.urlToBlob(url).then(function (blob) {\n\t            files.push(blob);\n\t          }));\n\t        });\n\t        var defer = $q.defer();\n\t        $q.all(promises).then(function () {\n\t          defer.resolve(files);\n\t        }, function (e) {\n\t          defer.reject(e);\n\t        });\n\t        return defer.promise;\n\t      }\n\t    }\n\t\n\t    function calculateDragOverClass(scope, attr, evt, callback) {\n\t      var obj = attrGetter('ngfDragOverClass', scope, {$event: evt}), dClass = 'dragover';\n\t      if (angular.isString(obj)) {\n\t        dClass = obj;\n\t      } else if (obj) {\n\t        if (obj.delay) dragOverDelay = obj.delay;\n\t        if (obj.accept || obj.reject) {\n\t          var items = evt.dataTransfer.items;\n\t          if (items == null || !items.length) {\n\t            dClass = obj.accept;\n\t          } else {\n\t            var pattern = obj.pattern || attrGetter('ngfPattern', scope, {$event: evt});\n\t            var len = items.length;\n\t            while (len--) {\n\t              if (!upload.validatePattern(items[len], pattern)) {\n\t                dClass = obj.reject;\n\t                break;\n\t              } else {\n\t                dClass = obj.accept;\n\t              }\n\t            }\n\t          }\n\t        }\n\t      }\n\t      callback(dClass);\n\t    }\n\t\n\t    function extractFiles(evt, allowDir, multiple) {\n\t      var maxFiles = upload.getValidationAttr(attr, scope, 'maxFiles') || Number.MAX_VALUE;\n\t      var maxTotalSize = upload.getValidationAttr(attr, scope, 'maxTotalSize') || Number.MAX_VALUE;\n\t      var includeDir = attrGetter('ngfIncludeDir', scope);\n\t      var files = [], totalSize = 0;\n\t      function traverseFileTree(entry, path) {\n\t        var defer = $q.defer();\n\t        if (entry != null) {\n\t          if (entry.isDirectory) {\n\t            var promises = [upload.emptyPromise()];\n\t            if (includeDir) {\n\t              var file = {type : 'directory'};\n\t              file.name = file.path = (path || '') + entry.name + entry.name;\n\t              files.push(file);\n\t            }\n\t            var dirReader = entry.createReader();\n\t            var entries = [];\n\t            var readEntries = function () {\n\t              dirReader.readEntries(function (results) {\n\t                try {\n\t                  if (!results.length) {\n\t                    angular.forEach(entries.slice(0), function(e) {\n\t                      if (files.length <= maxFiles && totalSize <= maxTotalSize) {\n\t                        promises.push(traverseFileTree(e, (path ? path : '') + entry.name + '/'));\n\t                      }\n\t                    });\n\t                    $q.all(promises).then(function () {\n\t                      defer.resolve();\n\t                    }, function (e) {\n\t                      defer.reject(e);\n\t                    });\n\t                  } else {\n\t                    entries = entries.concat(Array.prototype.slice.call(results || [], 0));\n\t                    readEntries();\n\t                  }\n\t                } catch (e) {\n\t                  defer.reject(e);\n\t                }\n\t              }, function (e) {\n\t                defer.reject(e);\n\t              });\n\t            };\n\t            readEntries();\n\t          } else {\n\t            entry.file(function (file) {\n\t              try {\n\t                file.path = (path ? path : '') + file.name;\n\t                if (includeDir) {\n\t                  file = upload.rename(file, file.path);\n\t                }\n\t                files.push(file);\n\t                totalSize += file.size;\n\t                defer.resolve();\n\t              } catch (e) {\n\t                defer.reject(e);\n\t              }\n\t            }, function (e) {\n\t              defer.reject(e);\n\t            });\n\t          }\n\t        }\n\t        return defer.promise;\n\t      }\n\t\n\t      var promises = [upload.emptyPromise()];\n\t\n\t      var items = evt.dataTransfer.items;\n\t      if (items && items.length > 0 && $location.protocol() !== 'file') {\n\t        for (var i = 0; i < items.length; i++) {\n\t          if (items[i].webkitGetAsEntry && items[i].webkitGetAsEntry() && items[i].webkitGetAsEntry().isDirectory) {\n\t            var entry = items[i].webkitGetAsEntry();\n\t            if (entry.isDirectory && !allowDir) {\n\t              continue;\n\t            }\n\t            if (entry != null) {\n\t              promises.push(traverseFileTree(entry));\n\t            }\n\t          } else {\n\t            var f = items[i].getAsFile();\n\t            if (f != null) {\n\t              files.push(f);\n\t              totalSize += f.size;\n\t            }\n\t          }\n\t          if (files.length > maxFiles || totalSize > maxTotalSize ||\n\t            (!multiple && files.length > 0)) break;\n\t        }\n\t      } else {\n\t        var fileList = evt.dataTransfer.files;\n\t        if (fileList != null) {\n\t          for (var j = 0; j < fileList.length; j++) {\n\t            var file = fileList.item(j);\n\t            if (file.type || file.size > 0) {\n\t              files.push(file);\n\t              totalSize += file.size;\n\t            }\n\t            if (files.length > maxFiles || totalSize > maxTotalSize ||\n\t              (!multiple && files.length > 0)) break;\n\t          }\n\t        }\n\t      }\n\t\n\t      var defer = $q.defer();\n\t      $q.all(promises).then(function () {\n\t        if (!multiple) {\n\t          var i = 0;\n\t          while (files.length && files[i].type === 'directory') i++;\n\t          defer.resolve([files[i]]);\n\t        } else {\n\t            defer.resolve(files);\n\t        }\n\t      }, function (e) {\n\t        defer.reject(e);\n\t      });\n\t\n\t      return defer.promise;\n\t    }\n\t  }\n\t\n\t  function dropAvailable() {\n\t    var div = document.createElement('div');\n\t    return ('draggable' in div) && ('ondrop' in div) && !/Edge\\/12./i.test(navigator.userAgent);\n\t  }\n\t\n\t})();\n\t\n\t// customized version of https://github.com/exif-js/exif-js\n\tngFileUpload.service('UploadExif', ['UploadResize', '$q', function (UploadResize, $q) {\n\t  var upload = UploadResize;\n\t\n\t  upload.isExifSupported = function () {\n\t    return window.FileReader && new FileReader().readAsArrayBuffer && upload.isResizeSupported();\n\t  };\n\t\n\t  function applyTransform(ctx, orientation, width, height) {\n\t    switch (orientation) {\n\t      case 2:\n\t        return ctx.transform(-1, 0, 0, 1, width, 0);\n\t      case 3:\n\t        return ctx.transform(-1, 0, 0, -1, width, height);\n\t      case 4:\n\t        return ctx.transform(1, 0, 0, -1, 0, height);\n\t      case 5:\n\t        return ctx.transform(0, 1, 1, 0, 0, 0);\n\t      case 6:\n\t        return ctx.transform(0, 1, -1, 0, height, 0);\n\t      case 7:\n\t        return ctx.transform(0, -1, -1, 0, height, width);\n\t      case 8:\n\t        return ctx.transform(0, -1, 1, 0, 0, width);\n\t    }\n\t  }\n\t\n\t  upload.readOrientation = function (file) {\n\t    var defer = $q.defer();\n\t    var reader = new FileReader();\n\t    var slicedFile = file.slice(0, 64 * 1024);\n\t    reader.readAsArrayBuffer(slicedFile);\n\t    reader.onerror = function (e) {\n\t      return defer.reject(e);\n\t    };\n\t    reader.onload = function (e) {\n\t      var result = {orientation: 1};\n\t      var view = new DataView(this.result);\n\t      if (view.getUint16(0, false) !== 0xFFD8) return defer.resolve(result);\n\t\n\t      var length = view.byteLength,\n\t        offset = 2;\n\t      while (offset < length) {\n\t        var marker = view.getUint16(offset, false);\n\t        offset += 2;\n\t        if (marker === 0xFFE1) {\n\t          if (view.getUint32(offset += 2, false) !== 0x45786966) return defer.resolve(result);\n\t\n\t          var little = view.getUint16(offset += 6, false) === 0x4949;\n\t          offset += view.getUint32(offset + 4, little);\n\t          var tags = view.getUint16(offset, little);\n\t          offset += 2;\n\t          for (var i = 0; i < tags; i++)\n\t            if (view.getUint16(offset + (i * 12), little) === 0x0112) {\n\t              var orientation = view.getUint16(offset + (i * 12) + 8, little);\n\t              if (orientation >= 2 && orientation <= 8) {\n\t                view.setUint16(offset + (i * 12) + 8, 1, little);\n\t                result.fixedArrayBuffer = e.target.result;\n\t              }\n\t              result.orientation = orientation;\n\t              return defer.resolve(result);\n\t            }\n\t        } else if ((marker & 0xFF00) !== 0xFF00) break;\n\t        else offset += view.getUint16(offset, false);\n\t      }\n\t      return defer.resolve(result);\n\t    };\n\t    return defer.promise;\n\t  };\n\t\n\t  function arrayBufferToBase64(buffer) {\n\t    var binary = '';\n\t    var bytes = new Uint8Array(buffer);\n\t    var len = bytes.byteLength;\n\t    for (var i = 0; i < len; i++) {\n\t      binary += String.fromCharCode(bytes[i]);\n\t    }\n\t    return window.btoa(binary);\n\t  }\n\t\n\t  upload.applyExifRotation = function (file) {\n\t    if (file.type.indexOf('image/jpeg') !== 0) {\n\t      return upload.emptyPromise(file);\n\t    }\n\t\n\t    var deferred = $q.defer();\n\t    upload.readOrientation(file).then(function (result) {\n\t      if (result.orientation < 2 || result.orientation > 8) {\n\t        return deferred.resolve(file);\n\t      }\n\t      upload.dataUrl(file, true).then(function (url) {\n\t        var canvas = document.createElement('canvas');\n\t        var img = document.createElement('img');\n\t\n\t        img.onload = function () {\n\t          try {\n\t            canvas.width = result.orientation > 4 ? img.height : img.width;\n\t            canvas.height = result.orientation > 4 ? img.width : img.height;\n\t            var ctx = canvas.getContext('2d');\n\t            applyTransform(ctx, result.orientation, img.width, img.height);\n\t            ctx.drawImage(img, 0, 0);\n\t            var dataUrl = canvas.toDataURL(file.type || 'image/WebP', 0.934);\n\t            dataUrl = upload.restoreExif(arrayBufferToBase64(result.fixedArrayBuffer), dataUrl);\n\t            var blob = upload.dataUrltoBlob(dataUrl, file.name);\n\t            deferred.resolve(blob);\n\t          } catch (e) {\n\t            return deferred.reject(e);\n\t          }\n\t        };\n\t        img.onerror = function () {\n\t          deferred.reject();\n\t        };\n\t        img.src = url;\n\t      }, function (e) {\n\t        deferred.reject(e);\n\t      });\n\t    }, function (e) {\n\t      deferred.reject(e);\n\t    });\n\t    return deferred.promise;\n\t  };\n\t\n\t  upload.restoreExif = function (orig, resized) {\n\t    var ExifRestorer = {};\n\t\n\t    ExifRestorer.KEY_STR = 'ABCDEFGHIJKLMNOP' +\n\t      'QRSTUVWXYZabcdef' +\n\t      'ghijklmnopqrstuv' +\n\t      'wxyz0123456789+/' +\n\t      '=';\n\t\n\t    ExifRestorer.encode64 = function (input) {\n\t      var output = '',\n\t        chr1, chr2, chr3 = '',\n\t        enc1, enc2, enc3, enc4 = '',\n\t        i = 0;\n\t\n\t      do {\n\t        chr1 = input[i++];\n\t        chr2 = input[i++];\n\t        chr3 = input[i++];\n\t\n\t        enc1 = chr1 >> 2;\n\t        enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n\t        enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n\t        enc4 = chr3 & 63;\n\t\n\t        if (isNaN(chr2)) {\n\t          enc3 = enc4 = 64;\n\t        } else if (isNaN(chr3)) {\n\t          enc4 = 64;\n\t        }\n\t\n\t        output = output +\n\t          this.KEY_STR.charAt(enc1) +\n\t          this.KEY_STR.charAt(enc2) +\n\t          this.KEY_STR.charAt(enc3) +\n\t          this.KEY_STR.charAt(enc4);\n\t        chr1 = chr2 = chr3 = '';\n\t        enc1 = enc2 = enc3 = enc4 = '';\n\t      } while (i < input.length);\n\t\n\t      return output;\n\t    };\n\t\n\t    ExifRestorer.restore = function (origFileBase64, resizedFileBase64) {\n\t      if (origFileBase64.match('data:image/jpeg;base64,')) {\n\t        origFileBase64 = origFileBase64.replace('data:image/jpeg;base64,', '');\n\t      }\n\t\n\t      var rawImage = this.decode64(origFileBase64);\n\t      var segments = this.slice2Segments(rawImage);\n\t\n\t      var image = this.exifManipulation(resizedFileBase64, segments);\n\t\n\t      return 'data:image/jpeg;base64,' + this.encode64(image);\n\t    };\n\t\n\t\n\t    ExifRestorer.exifManipulation = function (resizedFileBase64, segments) {\n\t      var exifArray = this.getExifArray(segments),\n\t        newImageArray = this.insertExif(resizedFileBase64, exifArray);\n\t      return new Uint8Array(newImageArray);\n\t    };\n\t\n\t\n\t    ExifRestorer.getExifArray = function (segments) {\n\t      var seg;\n\t      for (var x = 0; x < segments.length; x++) {\n\t        seg = segments[x];\n\t        if (seg[0] === 255 & seg[1] === 225) //(ff e1)\n\t        {\n\t          return seg;\n\t        }\n\t      }\n\t      return [];\n\t    };\n\t\n\t\n\t    ExifRestorer.insertExif = function (resizedFileBase64, exifArray) {\n\t      var imageData = resizedFileBase64.replace('data:image/jpeg;base64,', ''),\n\t        buf = this.decode64(imageData),\n\t        separatePoint = buf.indexOf(255, 3),\n\t        mae = buf.slice(0, separatePoint),\n\t        ato = buf.slice(separatePoint),\n\t        array = mae;\n\t\n\t      array = array.concat(exifArray);\n\t      array = array.concat(ato);\n\t      return array;\n\t    };\n\t\n\t\n\t    ExifRestorer.slice2Segments = function (rawImageArray) {\n\t      var head = 0,\n\t        segments = [];\n\t\n\t      while (1) {\n\t        if (rawImageArray[head] === 255 & rawImageArray[head + 1] === 218) {\n\t          break;\n\t        }\n\t        if (rawImageArray[head] === 255 & rawImageArray[head + 1] === 216) {\n\t          head += 2;\n\t        }\n\t        else {\n\t          var length = rawImageArray[head + 2] * 256 + rawImageArray[head + 3],\n\t            endPoint = head + length + 2,\n\t            seg = rawImageArray.slice(head, endPoint);\n\t          segments.push(seg);\n\t          head = endPoint;\n\t        }\n\t        if (head > rawImageArray.length) {\n\t          break;\n\t        }\n\t      }\n\t\n\t      return segments;\n\t    };\n\t\n\t\n\t    ExifRestorer.decode64 = function (input) {\n\t      var chr1, chr2, chr3 = '',\n\t        enc1, enc2, enc3, enc4 = '',\n\t        i = 0,\n\t        buf = [];\n\t\n\t      // remove all characters that are not A-Z, a-z, 0-9, +, /, or =\n\t      var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n\t      if (base64test.exec(input)) {\n\t        console.log('There were invalid base64 characters in the input text.\\n' +\n\t          'Valid base64 characters are A-Z, a-z, 0-9, ' + ', ' / ',and \"=\"\\n' +\n\t          'Expect errors in decoding.');\n\t      }\n\t      input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, '');\n\t\n\t      do {\n\t        enc1 = this.KEY_STR.indexOf(input.charAt(i++));\n\t        enc2 = this.KEY_STR.indexOf(input.charAt(i++));\n\t        enc3 = this.KEY_STR.indexOf(input.charAt(i++));\n\t        enc4 = this.KEY_STR.indexOf(input.charAt(i++));\n\t\n\t        chr1 = (enc1 << 2) | (enc2 >> 4);\n\t        chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n\t        chr3 = ((enc3 & 3) << 6) | enc4;\n\t\n\t        buf.push(chr1);\n\t\n\t        if (enc3 !== 64) {\n\t          buf.push(chr2);\n\t        }\n\t        if (enc4 !== 64) {\n\t          buf.push(chr3);\n\t        }\n\t\n\t        chr1 = chr2 = chr3 = '';\n\t        enc1 = enc2 = enc3 = enc4 = '';\n\t\n\t      } while (i < input.length);\n\t\n\t      return buf;\n\t    };\n\t\n\t    return ExifRestorer.restore(orig, resized);  //<= EXIF\n\t  };\n\t\n\t  return upload;\n\t}]);\n\t\n\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(36);\n\tmodule.exports = 'ngFileUpload';\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {\n\t  'use strict';\n\t\n\t  if (true) {\n\t    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(3)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t  } else if (root.hasOwnProperty('angular')) {\n\t    // Browser globals (root is window), we don't register it.\n\t    factory(root.angular);\n\t  } else if (typeof exports === 'object') {\n\t    module.exports = factory(require('angular'));\n\t  }\n\t}(this , function (angular) {\n\t    'use strict';\n\t\n\t    // In cases where Angular does not get passed or angular is a truthy value\n\t    // but misses .module we can fall back to using window.\n\t    angular = (angular && angular.module ) ? angular : window.angular;\n\t\n\t    /**\n\t     * @ngdoc overview\n\t     * @name ngStorage\n\t     */\n\t\n\t    return angular.module('ngStorage', [])\n\t\n\t    /**\n\t     * @ngdoc object\n\t     * @name ngStorage.$localStorage\n\t     * @requires $rootScope\n\t     * @requires $window\n\t     */\n\t\n\t    .provider('$localStorage', _storageProvider('localStorage'))\n\t\n\t    /**\n\t     * @ngdoc object\n\t     * @name ngStorage.$sessionStorage\n\t     * @requires $rootScope\n\t     * @requires $window\n\t     */\n\t\n\t    .provider('$sessionStorage', _storageProvider('sessionStorage'));\n\t\n\t    function _storageProvider(storageType) {\n\t        return function () {\n\t          var storageKeyPrefix = 'ngStorage-';\n\t\n\t          this.setKeyPrefix = function (prefix) {\n\t            if (typeof prefix !== 'string') {\n\t              throw new TypeError('[ngStorage] - ' + storageType + 'Provider.setKeyPrefix() expects a String.');\n\t            }\n\t            storageKeyPrefix = prefix;\n\t          };\n\t\n\t          var serializer = angular.toJson;\n\t          var deserializer = angular.fromJson;\n\t\n\t          this.setSerializer = function (s) {\n\t            if (typeof s !== 'function') {\n\t              throw new TypeError('[ngStorage] - ' + storageType + 'Provider.setSerializer expects a function.');\n\t            }\n\t\n\t            serializer = s;\n\t          };\n\t\n\t          this.setDeserializer = function (d) {\n\t            if (typeof d !== 'function') {\n\t              throw new TypeError('[ngStorage] - ' + storageType + 'Provider.setDeserializer expects a function.');\n\t            }\n\t\n\t            deserializer = d;\n\t          };\n\t\n\t          // Note: This is not very elegant at all.\n\t          this.get = function (key) {\n\t            return deserializer(window[storageType].getItem(storageKeyPrefix + key));\n\t          };\n\t\n\t          // Note: This is not very elegant at all.\n\t          this.set = function (key, value) {\n\t            return window[storageType].setItem(storageKeyPrefix + key, serializer(value));\n\t          };\n\t\n\t          this.$get = [\n\t              '$rootScope',\n\t              '$window',\n\t              '$log',\n\t              '$timeout',\n\t              '$document',\n\t\n\t              function(\n\t                  $rootScope,\n\t                  $window,\n\t                  $log,\n\t                  $timeout,\n\t                  $document\n\t              ){\n\t                function isStorageSupported(storageType) {\n\t\n\t                    // Some installations of IE, for an unknown reason, throw \"SCRIPT5: Error: Access is denied\"\n\t                    // when accessing window.localStorage. This happens before you try to do anything with it. Catch\n\t                    // that error and allow execution to continue.\n\t\n\t                    // fix 'SecurityError: DOM Exception 18' exception in Desktop Safari, Mobile Safari\n\t                    // when \"Block cookies\": \"Always block\" is turned on\n\t                    var supported;\n\t                    try {\n\t                        supported = $window[storageType];\n\t                    }\n\t                    catch (err) {\n\t                        supported = false;\n\t                    }\n\t\n\t                    // When Safari (OS X or iOS) is in private browsing mode, it appears as though localStorage\n\t                    // is available, but trying to call .setItem throws an exception below:\n\t                    // \"QUOTA_EXCEEDED_ERR: DOM Exception 22: An attempt was made to add something to storage that exceeded the quota.\"\n\t                    if (supported && storageType === 'localStorage') {\n\t                        var key = '__' + Math.round(Math.random() * 1e7);\n\t\n\t                        try {\n\t                            localStorage.setItem(key, key);\n\t                            localStorage.removeItem(key);\n\t                        }\n\t                        catch (err) {\n\t                            supported = false;\n\t                        }\n\t                    }\n\t\n\t                    return supported;\n\t                }\n\t\n\t                // The magic number 10 is used which only works for some keyPrefixes...\n\t                // See https://github.com/gsklee/ngStorage/issues/137\n\t                var prefixLength = storageKeyPrefix.length;\n\t\n\t                // #9: Assign a placeholder object if Web Storage is unavailable to prevent breaking the entire AngularJS app\n\t                var webStorage = isStorageSupported(storageType) || ($log.warn('This browser does not support Web Storage!'), {setItem: angular.noop, getItem: angular.noop, removeItem: angular.noop}),\n\t                    $storage = {\n\t                        $default: function(items) {\n\t                            for (var k in items) {\n\t                                angular.isDefined($storage[k]) || ($storage[k] = angular.copy(items[k]) );\n\t                            }\n\t\n\t                            $storage.$sync();\n\t                            return $storage;\n\t                        },\n\t                        $reset: function(items) {\n\t                            for (var k in $storage) {\n\t                                '$' === k[0] || (delete $storage[k] && webStorage.removeItem(storageKeyPrefix + k));\n\t                            }\n\t\n\t                            return $storage.$default(items);\n\t                        },\n\t                        $sync: function () {\n\t                            for (var i = 0, l = webStorage.length, k; i < l; i++) {\n\t                                // #8, #10: `webStorage.key(i)` may be an empty string (or throw an exception in IE9 if `webStorage` is empty)\n\t                                (k = webStorage.key(i)) && storageKeyPrefix === k.slice(0, prefixLength) && ($storage[k.slice(prefixLength)] = deserializer(webStorage.getItem(k)));\n\t                            }\n\t                        },\n\t                        $apply: function() {\n\t                            var temp$storage;\n\t\n\t                            _debounce = null;\n\t\n\t                            if (!angular.equals($storage, _last$storage)) {\n\t                                temp$storage = angular.copy(_last$storage);\n\t                                angular.forEach($storage, function(v, k) {\n\t                                    if (angular.isDefined(v) && '$' !== k[0]) {\n\t                                        webStorage.setItem(storageKeyPrefix + k, serializer(v));\n\t                                        delete temp$storage[k];\n\t                                    }\n\t                                });\n\t\n\t                                for (var k in temp$storage) {\n\t                                    webStorage.removeItem(storageKeyPrefix + k);\n\t                                }\n\t\n\t                                _last$storage = angular.copy($storage);\n\t                            }\n\t                        }\n\t                    },\n\t                    _last$storage,\n\t                    _debounce;\n\t\n\t                $storage.$sync();\n\t\n\t                _last$storage = angular.copy($storage);\n\t\n\t                $rootScope.$watch(function() {\n\t                    _debounce || (_debounce = $timeout($storage.$apply, 100, false));\n\t                });\n\t\n\t                // #6: Use `$window.addEventListener` instead of `angular.element` to avoid the jQuery-specific `event.originalEvent`\n\t                $window.addEventListener && $window.addEventListener('storage', function(event) {\n\t                    if (!event.key) {\n\t                      return;\n\t                    }\n\t\n\t                    // Reference doc.\n\t                    var doc = $document[0];\n\t\n\t                    if ( (!doc.hasFocus || !doc.hasFocus()) && storageKeyPrefix === event.key.slice(0, prefixLength) ) {\n\t                        event.newValue ? $storage[event.key.slice(prefixLength)] = deserializer(event.newValue) : delete $storage[event.key.slice(prefixLength)];\n\t\n\t                        _last$storage = angular.copy($storage);\n\t\n\t                        $rootScope.$apply();\n\t                    }\n\t                });\n\t\n\t                $window.addEventListener && $window.addEventListener('beforeunload', function() {\n\t                    $storage.$apply();\n\t                });\n\t\n\t                return $storage;\n\t              }\n\t          ];\n\t      };\n\t    }\n\t\n\t}));\n\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<form name=\\\"loginForm\\\" ng-submit=\\\"ctrl.login(ctrl.credentials)\\\" novalidate>\\n  <label for=\\\"username\\\">Username:</label>\\n  <input type=\\\"text\\\" id=\\\"username\\\" ng-model=\\\"ctrl.credentials.username\\\">\\n\\n  <label for=\\\"password\\\">Password:</label>\\n  <input type=\\\"password\\\" id=\\\"password\\\" ng-model=\\\"ctrl.credentials.password\\\">\\n\\n  <md-button type=\\\"submit\\\">Login</md-button>\\n</form>\\n\"\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<md-button ng-click=\\\"ctrl.logout()\\\">Log out</md-button>\\n\"\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<md-dialog aria-label=\\\"Post modify dialog\\\">\\n  <form ng-submit=\\\"dialog.submit()\\\">\\n    <md-dialog-content>\\n      <div class=\\\"md-dialog-content\\\">\\n        <md-input-container md-no-float flex>\\n          <label for=\\\"title\\\">Title</label>\\n          <input type=\\\"text\\\" id=\\\"title\\\" name=\\\"title\\\" ng-model=\\\"dialog.post.title\\\">\\n        </md-input-container>\\n      </div>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n      <md-button ng-click=\\\"dialog.cancel()\\\" class=\\\"md-primary\\\">Cancel</md-button>\\n      <md-button ng-click=\\\"dialog.submit()\\\" class=\\\"md-primary\\\">Submit</md-button>\\n    </md-dialog-actions>\\n  </form>\\n</md-dialog>\\n\"\n\n/***/ },\n/* 42 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<form name=\\\"ctrl.postCreateForm\\\" ng-submit=\\\"ctrl.createPost(ctrl.post)\\\" novalidate layout=\\\"column\\\">\\n\\n  <md-progress-linear ng-if=\\\"ctrl.loading\\\" md-mode=\\\"determinate\\\" value=\\\"{{ ctrl.uploadPercentage }}\\\"></md-progress-linear>\\n\\n  <md-input-container md-no-float flex>\\n    <input ngf-select ng-change=\\\"ctrl.createPost(ctrl.post)\\\" name=\\\"file\\\" type=\\\"file\\\" ng-model=\\\"ctrl.post.file\\\" aria-label=\\\"File\\\" required>\\n  </md-input-container>\\n\\n</form>\\n\"\n\n/***/ },\n/* 43 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<md-button ng-click=\\\"ctrl.deletePost(ctrl.post)\\\">Delete</md-button>\\n\"\n\n/***/ },\n/* 44 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<post-create\\n  on-create=\\\"ctrl.onPostCreate(post)\\\"\\n  on-update=\\\"ctrl.onPostUpdate(post)\\\"\\n  on-delete=\\\"ctrl.onPostDelete(post)\\\">\\n</post-create>\\n\\n<md-list>\\n  <md-list-item class=\\\"md-3-line\\\" ng-repeat=\\\"post in ctrl.posts\\\">\\n\\n    <img ng-if=\\\"post.thumbnail_url\\\" ng-src=\\\"{{ post.thumbnail_url }}\\\" class=\\\"md-avatar md-avatar-big md-avatar-square\\\"/>\\n    <md-icon ng-if=\\\"!post.thumbnail_url\\\" class=\\\"md-avatar-icon md-avatar-big md-avatar-square\\\">insert_drive_file</md-icon>\\n\\n    <div class=\\\"md-list-item-text\\\" layout=\\\"column\\\">\\n      <h3>{{ post.title }}</h3>\\n      <h4>On {{ post.created | date }} by {{ post.user.username }}</h4>\\n      <a class=\\\"post-file\\\" href=\\\"#\\\" ng-href=\\\"{{ post.file }}\\\" ng-if=\\\"post.file\\\" target=\\\"_blank\\\"><md-icon>attachment</md-icon> {{ post.file_name }}</a>\\n    </div>\\n\\n    <post-delete-button ng-if=\\\"ctrl.user.current().user_id == post.user.id\\\" post=\\\"post\\\" on-delete=\\\"ctrl.onPostDelete(post)\\\"></post-delete-button>\\n\\n    <md-divider></md-divider>\\n  </md-list-item>\\n</md-list>\\n\"\n\n/***/ },\n/* 45 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<login-form ng-if=\\\"!ctrl.auth.isAuthenticated()\\\"></login-form>\\n<div class=\\\"\\\" ng-if=\\\"ctrl.auth.isAuthenticated()\\\">\\n  Logged in as {{ ctrl.user.current().username }}\\n  <logout-button></logout-button>\\n</div>\\n\"\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(6);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(2)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(7);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(2)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(8);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(2)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(9);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(2)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(10);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(2)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(11);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(2)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(12);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(2)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./index.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./index.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 53 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"ngAnimate\";\n\n/***/ },\n/* 54 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"ngAria\";\n\n/***/ },\n/* 55 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"ngCookies\";\n\n/***/ },\n/* 56 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"ngMaterial\";\n\n/***/ },\n/* 57 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"ngMessages\";\n\n/***/ },\n/* 58 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"ngResource\";\n\n/***/ },\n/* 59 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"ngRoute\";\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 61f222ba9b19011ad1ea\n **/","(function () {\n  'use strict';\n\n  require('index.scss');\n\n  var angular = require('angular');\n  var config = require('config');\n\n  var app = angular.module('postal', [\n    /* 3rd party */\n    require('angular-animate'),\n    require('angular-aria'),\n    require('angular-cookies'),\n    require('angular-jwt'),\n    require('angular-messages'),\n    require('angular-material'),\n    require('angular-resource'),\n    require('angular-route'),\n\n    /* modules */\n    require('components'),\n    require('services'),\n    require('filters')\n  ]);\n\n  app.constant('ENV', config.env);\n\n  app.constant('AUTH_EVENTS', {\n    loginSuccess: 'auth-login-success',\n    loginFailed: 'auth-login-failed',\n    logoutSuccess: 'auth-logout-success',\n    sessionTimeout: 'auth-session-timeout',\n    notAuthenticated: 'auth-not-authenticated',\n    notAuthorized: 'auth-not-authorized'\n  });\n\n  app.config([\"$logProvider\", \"ENV\", function ($logProvider, ENV){\n    $logProvider.debugEnabled(ENV.debugEnabled);\n  }]);\n\n  app.config([\"$locationProvider\", \"$resourceProvider\", function ($locationProvider, $resourceProvider){\n    $locationProvider.html5Mode(true).hashPrefix('!');\n\n    // Don't strip trailing slashes from calculated URLs\n    $resourceProvider.defaults.stripTrailingSlashes = false;\n  }]);\n\n  app.config([\"$httpProvider\", \"jwtInterceptorProvider\", function($httpProvider, jwtInterceptorProvider) {\n    jwtInterceptorProvider.tokenGetter = /*@ngInject*/ [\"$localStorage\", function ($localStorage) {\n      return $localStorage.token;\n    }];\n\n    $httpProvider.interceptors.push('jwtInterceptor');\n  }]);\n\n  angular.element(document).ready(function () {\n    angular.bootstrap(document, [app.name], {\n      strictDi: true\n    });\n  });\n\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./index.js\n ** module id = 0\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/css-loader/lib/css-base.js\n ** module id = 1\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/style-loader/addStyles.js\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = angular;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"angular\"\n ** module id = 3\n ** module chunks = 0\n **/","(function() {\n\n\n// Create all modules and define dependencies to make sure they exist\n// and are loaded in the correct order to satisfy dependency injection\n// before all nested files are concatenated by Grunt\n\n// Modules\nangular.module('angular-jwt',\n    [\n        'angular-jwt.interceptor',\n        'angular-jwt.jwt'\n    ]);\n\n angular.module('angular-jwt.interceptor', [])\n  .provider('jwtInterceptor', function() {\n\n    this.urlParam = null;\n    this.authHeader = 'Authorization';\n    this.authPrefix = 'Bearer ';\n    this.tokenGetter = function() {\n      return null;\n    }\n\n    var config = this;\n\n    this.$get = [\"$q\", \"$injector\", \"$rootScope\", function ($q, $injector, $rootScope) {\n      return {\n        request: function (request) {\n          if (request.skipAuthorization) {\n            return request;\n          }\n\n          if (config.urlParam) {\n            request.params = request.params || {};\n            // Already has the token in the url itself\n            if (request.params[config.urlParam]) {\n              return request;\n            }\n          } else {\n            request.headers = request.headers || {};\n            // Already has an Authorization header\n            if (request.headers[config.authHeader]) {\n              return request;\n            }\n          }\n\n          var tokenPromise = $q.when($injector.invoke(config.tokenGetter, this, {\n            config: request\n          }));\n\n          return tokenPromise.then(function(token) {\n            if (token) {\n              if (config.urlParam) {\n                request.params[config.urlParam] = token;\n              } else {\n                request.headers[config.authHeader] = config.authPrefix + token;\n              }\n            }\n            return request;\n          });\n        },\n        responseError: function (response) {\n          // handle the case where the user is not authenticated\n          if (response.status === 401) {\n            $rootScope.$broadcast('unauthenticated', response);\n          }\n          return $q.reject(response);\n        }\n      };\n    }];\n  });\n\n angular.module('angular-jwt.jwt', [])\n  .service('jwtHelper', function() {\n\n    this.urlBase64Decode = function(str) {\n      var output = str.replace(/-/g, '+').replace(/_/g, '/');\n      switch (output.length % 4) {\n        case 0: { break; }\n        case 2: { output += '=='; break; }\n        case 3: { output += '='; break; }\n        default: {\n          throw 'Illegal base64url string!';\n        }\n      }\n      return decodeURIComponent(escape(window.atob(output))); //polifyll https://github.com/davidchambers/Base64.js\n    }\n\n\n    this.decodeToken = function(token) {\n      var parts = token.split('.');\n\n      if (parts.length !== 3) {\n        throw new Error('JWT must have 3 parts');\n      }\n\n      var decoded = this.urlBase64Decode(parts[1]);\n      if (!decoded) {\n        throw new Error('Cannot decode the token');\n      }\n\n      return JSON.parse(decoded);\n    }\n\n    this.getTokenExpirationDate = function(token) {\n      var decoded;\n      decoded = this.decodeToken(token);\n\n      if(typeof decoded.exp === \"undefined\") {\n        return null;\n      }\n\n      var d = new Date(0); // The 0 here is the key, which sets the date to the epoch\n      d.setUTCSeconds(decoded.exp);\n\n      return d;\n    };\n\n    this.isTokenExpired = function(token, offsetSeconds) {\n      var d = this.getTokenExpirationDate(token);\n      offsetSeconds = offsetSeconds || 0;\n      if (d === null) {\n        return false;\n      }\n\n      // Token expired?\n      return !(d.valueOf() > (new Date().valueOf() + (offsetSeconds * 1000)));\n    };\n  });\n\n}());\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/angular-jwt/dist/angular-jwt.js\n ** module id = 4\n ** module chunks = 0\n **/","require('./dist/angular-jwt.js');\nmodule.exports = 'angular-jwt';\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/angular-jwt/index.js\n ** module id = 5\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/css-loader!../~/sass-loader!./components/login-form/style.scss\n ** module id = 6\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/css-loader!../~/sass-loader!./components/logout-button/style.scss\n ** module id = 7\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"md-input-container.move-down{margin-top:36px}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/css-loader!../~/sass-loader!./components/post-create/style.scss\n ** module id = 8\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/css-loader!../~/sass-loader!./components/post-delete-button/style.scss\n ** module id = 9\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"md-list-item .md-avatar-icon.md-avatar-square,md-list-item .md-avatar.md-avatar-square{border-radius:0}md-list-item .md-avatar-icon.md-avatar-big,md-list-item .md-avatar.md-avatar-big{width:64px;height:64px}md-list-item .md-avatar-icon.md-avatar-big{width:48px;height:48px;font-size:48px}a.post-file{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/css-loader!../~/sass-loader!./components/post-list/style.scss\n ** module id = 10\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/css-loader!../~/sass-loader!./components/user-menu/style.scss\n ** module id = 11\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/css-loader!../~/sass-loader!./index.scss\n ** module id = 12\n ** module chunks = 0\n **/","(function () {\n   'use strict';\n\n   require('angular').module('postal.components', [])\n     .directive('userAuth', require('./user-auth'))\n     .directive('userMenu', require('./user-menu'))\n     .directive('postCreate', require('./post-create'))\n     .directive('postDeleteButton', require('./post-delete-button'))\n     .directive('postList', require('./post-list'))\n     .directive('logoutButton', require('./logout-button'))\n     .directive('loginForm', require('./login-form'));\n\n   module.exports = 'postal.components';\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/index.js\n ** module id = 13\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ [\"Authentication\", function (Authentication) {\n    var ctrl = this;\n\n    ctrl.login = function (credentials) {\n      Authentication.login(credentials);\n    };\n  }];\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/login-form/controller.js\n ** module id = 14\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ function () {\n    require('./style.scss');\n    return {\n      scope: {},\n      bindToController: {},\n      controller: require('./controller'),\n      controllerAs: 'ctrl',\n      template: require('./template.html')\n    };\n  };\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/login-form/index.js\n ** module id = 15\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ [\"Authentication\", function (Authentication) {\n    var ctrl = this;\n    ctrl.logout = Authentication.logout;\n  }];\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/logout-button/controller.js\n ** module id = 16\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ function () {\n    require('./style.scss');\n    return {\n      scope: {},\n      bindToController: {},\n      controller: require('./controller'),\n      controllerAs: 'ctrl',\n      template: require('./template.html')\n    };\n  };\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/logout-button/index.js\n ** module id = 17\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ [\"$log\", \"$mdDialog\", \"FilePost\", function ($log, $mdDialog, FilePost) {\n    var ctrl = this;\n    ctrl.post = new FilePost();\n    ctrl.loading = false;\n    ctrl.uploadPercentage = 0;\n\n    function postCreateSuccess(response) {\n      ctrl.loading = false;\n      ctrl.uploadPercentage = 0;\n\n      ctrl.post = new FilePost();\n\n      // ctrl.postCreateForm.$setPristine();\n      // ctrl.postCreateForm.$setUntouched();\n\n      var createdPost = new FilePost({id: response.data.id});\n\n      $mdDialog.show({\n        controller: [\"$mdDialog\", function ($mdDialog) {\n          var dialog = this;\n          dialog.post = createdPost;\n          dialog.submit = function () {\n            dialog.post.$update()\n              .then(function (response) {\n                ctrl.onUpdate({post: new FilePost(response)});\n              });\n            $mdDialog.hide();\n          };\n          dialog.cancel = function () {\n            FilePost.delete({id: createdPost.id}).$promise\n              .then(\n                function (response) {\n                  ctrl.onDelete({post: createdPost});\n                },\n                function (err) {\n                  console.error(err);\n                }\n              );\n            $mdDialog.cancel();\n          };\n        }],\n        controllerAs: 'dialog',\n        template: require('./dialog.html')\n      });\n\n      ctrl.onCreate({post: new FilePost(response.data)});\n    }\n\n    function postCreateError(err) {\n      ctrl.loading = false;\n      ctrl.uploadPercentage = 0;\n\n      console.error(err);\n    }\n\n    function postUploadEvent(evt) {\n      ctrl.uploadPercentage = parseInt(100.0 * evt.loaded / evt.total);\n    }\n\n    ctrl.createPost = function (post) {\n      ctrl.loading = true;\n      FilePost.upload(post)\n        .then(postCreateSuccess, postCreateError, postUploadEvent);\n    };\n  }];\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/post-create/controller.js\n ** module id = 18\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ function () {\n    require('./style.scss');\n    return {\n      scope: {},\n      bindToController: {\n        onCreate: '&',\n        onUpdate: '&',\n        onDelete: '&'\n      },\n      controller: require('./controller'),\n      controllerAs: 'ctrl',\n      template: require('./template.html')\n    };\n  };\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/post-create/index.js\n ** module id = 19\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ [\"$log\", \"FilePost\", function ($log, FilePost) {\n    var ctrl = this;\n\n    function postDeleteSuccess(response) {\n      ctrl.onDelete({post: ctrl.post});\n    }\n\n    function postDeleteError(err) {\n      console.error(err);\n    }\n\n    ctrl.deletePost = function (post) {\n\n      FilePost.delete({id: post.id}).$promise\n        .then(\n          postDeleteSuccess,\n          postDeleteError\n        );\n    };\n  }];\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/post-delete-button/controller.js\n ** module id = 20\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ function () {\n    require('./style.scss');\n    return {\n      scope: {},\n      bindToController: {\n        post: '=',\n        onDelete: '&'\n      },\n      controller: require('./controller'),\n      controllerAs: 'ctrl',\n      template: require('./template.html')\n    };\n  };\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/post-delete-button/index.js\n ** module id = 21\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ [\"$log\", \"$rootScope\", \"User\", \"FilePost\", \"AUTH_EVENTS\", function ($log, $rootScope, User, FilePost, AUTH_EVENTS) {\n    var ctrl = this;\n    ctrl.posts = FilePost.query();\n    ctrl.user = User;\n\n    $rootScope.$on(AUTH_EVENTS.loginSuccess, function () {\n      ctrl.posts = FilePost.query();\n    });\n    $rootScope.$on(AUTH_EVENTS.logoutSuccess, function () {\n      ctrl.posts = FilePost.query();\n    });\n\n    ctrl.onPostCreate = function (newPost) {\n      $log.debug('PostList.onPostCreate', newPost);\n      ctrl.posts.push(newPost);\n    };\n\n    ctrl.onPostDelete = function (deletedPost) {\n      $log.debug('PostList.onPostDelete', deletedPost);\n      ctrl.posts.forEach(function(post, index) {\n        if (deletedPost.id === post.id) {\n          ctrl.posts.splice(index, 1);\n        }\n      });\n    };\n\n    ctrl.onPostUpdate = function (updatedPost) {\n      $log.debug('PostList.onPostUpdate', updatedPost);\n      ctrl.posts.forEach(function(post, index) {\n        if (updatedPost.id === post.id) {\n          ctrl.posts[index] = updatedPost;\n        }\n      });\n    };\n  }];\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/post-list/controller.js\n ** module id = 22\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ function () {\n    require('./style.scss');\n    return {\n      scope: {},\n      bindToController: {},\n      controller: require('./controller'),\n      controllerAs: 'ctrl',\n      template: require('./template.html')\n    };\n  };\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/post-list/index.js\n ** module id = 23\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ [\"Authentication\", \"User\", function (Authentication, User) {\n    var ctrl = this;\n    ctrl.auth = Authentication;\n    ctrl.user = User;\n  }];\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/user-auth/controller.js\n ** module id = 24\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ function () {\n    return {\n      scope: true,\n      bindToController: {},\n      restrict: 'A',\n      controller: require('./controller'),\n      controllerAs: 'userAuth',\n    };\n  };\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/user-auth/index.js\n ** module id = 25\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ [\"Authentication\", \"User\", function (Authentication, User) {\n    var ctrl = this;\n    ctrl.auth = Authentication;\n    ctrl.user = User;\n  }];\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/user-menu/controller.js\n ** module id = 26\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ function () {\n    require('./style.scss');\n    return {\n      scope: {},\n      bindToController: {},\n      controller: require('./controller'),\n      controllerAs: 'ctrl',\n      template: require('./template.html')\n    };\n  };\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/user-menu/index.js\n ** module id = 27\n ** module chunks = 0\n **/","(function () {\n   'use strict';\n   module.exports = require('./'+ENVIRONMENT);\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./config/index.js\n ** module id = 28\n ** module chunks = 0\n **/","(function () {\n   'use strict';\n\n   module.exports = {\n     env: {\n       name: 'production',\n       backendUrl: 'http://localhost:8000',\n       debugEnabled: false\n     }\n   };\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./config/production.js\n ** module id = 29\n ** module chunks = 0\n **/","(function () {\n   'use strict';\n\n   require('angular').module('postal.filters', []);\n\n   module.exports = 'postal.filters';\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./filters/index.js\n ** module id = 30\n ** module chunks = 0\n **/","(function () {\n   'use strict';\n\n   module.exports = /*@ngInject*/ [\"ENV\", \"AUTH_EVENTS\", \"$rootScope\", \"$log\", \"$http\", \"$localStorage\", \"$timeout\", \"jwtHelper\", \"User\", function (ENV, AUTH_EVENTS, $rootScope, $log, $http, $localStorage, $timeout, jwtHelper, User) {\n     var _this = {};\n     var AUTH_URL = '/api-token-auth/';\n     var REFRESH_URL = '/api-token-refresh/';\n     var REFRESH_LEEWAY = 12 * 60 * 60 * 1000;  // 24 hours\n     var refreshTimeout;\n\n     _this.login = function (credentials) {\n       var token;\n       return $http.post(ENV.backendUrl + AUTH_URL, credentials)\n         .then(function (response) {\n           token = response.data.token;\n           authSuccess(token);\n           return User.current();\n         })\n         .then(null, function (err) {\n           _this.logout();\n           return err;\n         });\n     };\n\n     _this.logout = function () {\n       if (refreshTimeout) $timeout.cancel(refreshTimeout);\n       clearToken();\n       User.clear();\n       $rootScope.$broadcast(AUTH_EVENTS.logoutSuccess);\n     };\n\n     _this.isAuthenticated = function () {\n       return !!User.current();\n     };\n\n     function init() {\n       var token = getToken();\n       if (token){\n         if (jwtHelper.isTokenExpired(token)){\n           $log.debug(\"Auth token has expired.\");\n           _this.logout();\n         } else {\n           authSuccess(token);\n         }\n       }\n     }\n\n     function getToken() {\n       return $localStorage.token;\n     }\n\n     function setToken(token) {\n       var expiryDate;\n       $log.debug(\"New auth token received.\");\n       $localStorage.token = token;\n       expiryDate = jwtHelper.getTokenExpirationDate(token);\n       setExpiryTimeout(expiryDate);\n       $log.debug(\"Auth token will expire\", expiryDate);\n     }\n\n     function refreshToken() {\n       var token;\n       $log.debug(\"Refreshing auth token...\");\n       $http.post(ENV.backendUrl + REFRESH_URL, {token: getToken()})\n        .then(function (response) {\n          setToken(response.data.token);\n        })\n        .then(null, _this.logout);\n     }\n\n     function clearToken() {\n       delete $localStorage.token;\n     }\n\n     function setExpiryTimeout(expiryDate) {\n       if (refreshTimeout) $timeout.cancel(refreshTimeout);\n       refreshTimeout = $timeout(refreshToken, expiryDate - new Date() - REFRESH_LEEWAY);\n     }\n\n     function authSuccess(token) {\n       setToken(token);\n       User.set(jwtHelper.decodeToken(token));\n       $rootScope.$broadcast(AUTH_EVENTS.loginSuccess);\n     }\n\n     init();\n\n     return _this;\n   }];\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./services/authentication.js\n ** module id = 31\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ [\"$log\", \"ENV\", \"$resource\", \"Upload\", function ($log, ENV, $resource, Upload) {\n    var _this = $resource(ENV.backendUrl + '/fileposts/:id/', {id: '@id'},\n    {\n      'update': { method:'PUT' }\n    });\n\n    _this.upload = function (data) {\n      return Upload.upload({\n        url: ENV.backendUrl + '/fileposts/',\n        data: data\n      })\n      .then(function (resp) {\n        $log.debug('Success ' + resp.config.data.file.name + 'uploaded. Response: ' + resp.data);\n        return resp;\n      }, function (resp) {\n        $log.debug('Error status: ' + resp.status);\n        return resp;\n      }, function (evt) {\n        var progressPercentage = parseInt(100.0 * evt.loaded / evt.total);\n        $log.debug('progress: ' + progressPercentage + '% ' + evt.config.data.file.name);\n        return evt;\n      });\n    };\n\n    return _this;\n  }];\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./services/file-post.js\n ** module id = 32\n ** module chunks = 0\n **/","(function () {\n   'use strict';\n\n   require('angular').module('postal.services', [\n     require('ngstorage').name,\n     require('ng-file-upload'),\n   ])\n     .factory('FilePost',            require('./file-post'))\n     .factory('Post',            require('./post'))\n     .factory('User',            require('./user'))\n     .factory('Authentication',  require('./authentication'));\n\n   module.exports = 'postal.services';\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./services/index.js\n ** module id = 33\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ [\"ENV\", \"$resource\", function (ENV, $resource) {\n    return $resource(ENV.backendUrl + '/posts/:id/', {id:'@id'});\n  }];\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./services/post.js\n ** module id = 34\n ** module chunks = 0\n **/","(function () {\n  'use strict';\n\n  module.exports = /*@ngInject*/ function () {\n    var _this = {};\n\n    var currentUser = null;\n\n    _this.current = function () {\n      return currentUser;\n    };\n\n    _this.set = function (newUser) {\n      currentUser = newUser;\n    };\n\n    _this.clear = function () {\n      currentUser = null;\n    };\n\n    return _this;\n  };\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./services/user.js\n ** module id = 35\n ** module chunks = 0\n **/","/**!\n * AngularJS file upload directives and services. Supoorts: file upload/drop/paste, resume, cancel/abort,\n * progress, resize, thumbnail, preview, validation and CORS\n * FileAPI Flash shim for old browsers not supporting FormData\n * @author  Danial  <danial.farid@gmail.com>\n * @version 11.2.3\n */\n\n(function () {\n  /** @namespace FileAPI.noContentTimeout */\n\n  function patchXHR(fnName, newFn) {\n    window.XMLHttpRequest.prototype[fnName] = newFn(window.XMLHttpRequest.prototype[fnName]);\n  }\n\n  function redefineProp(xhr, prop, fn) {\n    try {\n      Object.defineProperty(xhr, prop, {get: fn});\n    } catch (e) {/*ignore*/\n    }\n  }\n\n  if (!window.FileAPI) {\n    window.FileAPI = {};\n  }\n\n  if (!window.XMLHttpRequest) {\n    throw 'AJAX is not supported. XMLHttpRequest is not defined.';\n  }\n\n  FileAPI.shouldLoad = !window.FormData || FileAPI.forceLoad;\n  if (FileAPI.shouldLoad) {\n    var initializeUploadListener = function (xhr) {\n      if (!xhr.__listeners) {\n        if (!xhr.upload) xhr.upload = {};\n        xhr.__listeners = [];\n        var origAddEventListener = xhr.upload.addEventListener;\n        xhr.upload.addEventListener = function (t, fn) {\n          xhr.__listeners[t] = fn;\n          if (origAddEventListener) origAddEventListener.apply(this, arguments);\n        };\n      }\n    };\n\n    patchXHR('open', function (orig) {\n      return function (m, url, b) {\n        initializeUploadListener(this);\n        this.__url = url;\n        try {\n          orig.apply(this, [m, url, b]);\n        } catch (e) {\n          if (e.message.indexOf('Access is denied') > -1) {\n            this.__origError = e;\n            orig.apply(this, [m, '_fix_for_ie_crossdomain__', b]);\n          }\n        }\n      };\n    });\n\n    patchXHR('getResponseHeader', function (orig) {\n      return function (h) {\n        return this.__fileApiXHR && this.__fileApiXHR.getResponseHeader ? this.__fileApiXHR.getResponseHeader(h) : (orig == null ? null : orig.apply(this, [h]));\n      };\n    });\n\n    patchXHR('getAllResponseHeaders', function (orig) {\n      return function () {\n        return this.__fileApiXHR && this.__fileApiXHR.getAllResponseHeaders ? this.__fileApiXHR.getAllResponseHeaders() : (orig == null ? null : orig.apply(this));\n      };\n    });\n\n    patchXHR('abort', function (orig) {\n      return function () {\n        return this.__fileApiXHR && this.__fileApiXHR.abort ? this.__fileApiXHR.abort() : (orig == null ? null : orig.apply(this));\n      };\n    });\n\n    patchXHR('setRequestHeader', function (orig) {\n      return function (header, value) {\n        if (header === '__setXHR_') {\n          initializeUploadListener(this);\n          var val = value(this);\n          // fix for angular < 1.2.0\n          if (val instanceof Function) {\n            val(this);\n          }\n        } else {\n          this.__requestHeaders = this.__requestHeaders || {};\n          this.__requestHeaders[header] = value;\n          orig.apply(this, arguments);\n        }\n      };\n    });\n\n    patchXHR('send', function (orig) {\n      return function () {\n        var xhr = this;\n        if (arguments[0] && arguments[0].__isFileAPIShim) {\n          var formData = arguments[0];\n          var config = {\n            url: xhr.__url,\n            jsonp: false, //removes the callback form param\n            cache: true, //removes the ?fileapiXXX in the url\n            complete: function (err, fileApiXHR) {\n              if (err && angular.isString(err) && err.indexOf('#2174') !== -1) {\n                // this error seems to be fine the file is being uploaded properly.\n                err = null;\n              }\n              xhr.__completed = true;\n              if (!err && xhr.__listeners.load)\n                xhr.__listeners.load({\n                  type: 'load',\n                  loaded: xhr.__loaded,\n                  total: xhr.__total,\n                  target: xhr,\n                  lengthComputable: true\n                });\n              if (!err && xhr.__listeners.loadend)\n                xhr.__listeners.loadend({\n                  type: 'loadend',\n                  loaded: xhr.__loaded,\n                  total: xhr.__total,\n                  target: xhr,\n                  lengthComputable: true\n                });\n              if (err === 'abort' && xhr.__listeners.abort)\n                xhr.__listeners.abort({\n                  type: 'abort',\n                  loaded: xhr.__loaded,\n                  total: xhr.__total,\n                  target: xhr,\n                  lengthComputable: true\n                });\n              if (fileApiXHR.status !== undefined) redefineProp(xhr, 'status', function () {\n                return (fileApiXHR.status === 0 && err && err !== 'abort') ? 500 : fileApiXHR.status;\n              });\n              if (fileApiXHR.statusText !== undefined) redefineProp(xhr, 'statusText', function () {\n                return fileApiXHR.statusText;\n              });\n              redefineProp(xhr, 'readyState', function () {\n                return 4;\n              });\n              if (fileApiXHR.response !== undefined) redefineProp(xhr, 'response', function () {\n                return fileApiXHR.response;\n              });\n              var resp = fileApiXHR.responseText || (err && fileApiXHR.status === 0 && err !== 'abort' ? err : undefined);\n              redefineProp(xhr, 'responseText', function () {\n                return resp;\n              });\n              redefineProp(xhr, 'response', function () {\n                return resp;\n              });\n              if (err) redefineProp(xhr, 'err', function () {\n                return err;\n              });\n              xhr.__fileApiXHR = fileApiXHR;\n              if (xhr.onreadystatechange) xhr.onreadystatechange();\n              if (xhr.onload) xhr.onload();\n            },\n            progress: function (e) {\n              e.target = xhr;\n              if (xhr.__listeners.progress) xhr.__listeners.progress(e);\n              xhr.__total = e.total;\n              xhr.__loaded = e.loaded;\n              if (e.total === e.loaded) {\n                // fix flash issue that doesn't call complete if there is no response text from the server\n                var _this = this;\n                setTimeout(function () {\n                  if (!xhr.__completed) {\n                    xhr.getAllResponseHeaders = function () {\n                    };\n                    _this.complete(null, {status: 204, statusText: 'No Content'});\n                  }\n                }, FileAPI.noContentTimeout || 10000);\n              }\n            },\n            headers: xhr.__requestHeaders\n          };\n          config.data = {};\n          config.files = {};\n          for (var i = 0; i < formData.data.length; i++) {\n            var item = formData.data[i];\n            if (item.val != null && item.val.name != null && item.val.size != null && item.val.type != null) {\n              config.files[item.key] = item.val;\n            } else {\n              config.data[item.key] = item.val;\n            }\n          }\n\n          setTimeout(function () {\n            if (!FileAPI.hasFlash) {\n              throw 'Adode Flash Player need to be installed. To check ahead use \"FileAPI.hasFlash\"';\n            }\n            xhr.__fileApiXHR = FileAPI.upload(config);\n          }, 1);\n        } else {\n          if (this.__origError) {\n            throw this.__origError;\n          }\n          orig.apply(xhr, arguments);\n        }\n      };\n    });\n    window.XMLHttpRequest.__isFileAPIShim = true;\n    window.FormData = FormData = function () {\n      return {\n        append: function (key, val, name) {\n          if (val.__isFileAPIBlobShim) {\n            val = val.data[0];\n          }\n          this.data.push({\n            key: key,\n            val: val,\n            name: name\n          });\n        },\n        data: [],\n        __isFileAPIShim: true\n      };\n    };\n\n    window.Blob = Blob = function (b) {\n      return {\n        data: b,\n        __isFileAPIBlobShim: true\n      };\n    };\n  }\n\n})();\n\n(function () {\n  /** @namespace FileAPI.forceLoad */\n  /** @namespace window.FileAPI.jsUrl */\n  /** @namespace window.FileAPI.jsPath */\n\n  function isInputTypeFile(elem) {\n    return elem[0].tagName.toLowerCase() === 'input' && elem.attr('type') && elem.attr('type').toLowerCase() === 'file';\n  }\n\n  function hasFlash() {\n    try {\n      var fo = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n      if (fo) return true;\n    } catch (e) {\n      if (navigator.mimeTypes['application/x-shockwave-flash'] !== undefined) return true;\n    }\n    return false;\n  }\n\n  function getOffset(obj) {\n    var left = 0, top = 0;\n\n    if (window.jQuery) {\n      return jQuery(obj).offset();\n    }\n\n    if (obj.offsetParent) {\n      do {\n        left += (obj.offsetLeft - obj.scrollLeft);\n        top += (obj.offsetTop - obj.scrollTop);\n        obj = obj.offsetParent;\n      } while (obj);\n    }\n    return {\n      left: left,\n      top: top\n    };\n  }\n\n  if (FileAPI.shouldLoad) {\n    FileAPI.hasFlash = hasFlash();\n\n    //load FileAPI\n    if (FileAPI.forceLoad) {\n      FileAPI.html5 = false;\n    }\n\n    if (!FileAPI.upload) {\n      var jsUrl, basePath, script = document.createElement('script'), allScripts = document.getElementsByTagName('script'), i, index, src;\n      if (window.FileAPI.jsUrl) {\n        jsUrl = window.FileAPI.jsUrl;\n      } else if (window.FileAPI.jsPath) {\n        basePath = window.FileAPI.jsPath;\n      } else {\n        for (i = 0; i < allScripts.length; i++) {\n          src = allScripts[i].src;\n          index = src.search(/\\/ng\\-file\\-upload[\\-a-zA-z0-9\\.]*\\.js/);\n          if (index > -1) {\n            basePath = src.substring(0, index + 1);\n            break;\n          }\n        }\n      }\n\n      if (FileAPI.staticPath == null) FileAPI.staticPath = basePath;\n      script.setAttribute('src', jsUrl || basePath + 'FileAPI.min.js');\n      document.getElementsByTagName('head')[0].appendChild(script);\n    }\n\n    FileAPI.ngfFixIE = function (elem, fileElem, changeFn) {\n      if (!hasFlash()) {\n        throw 'Adode Flash Player need to be installed. To check ahead use \"FileAPI.hasFlash\"';\n      }\n      var fixInputStyle = function () {\n        var label = fileElem.parent();\n        if (elem.attr('disabled')) {\n          if (label) label.removeClass('js-fileapi-wrapper');\n        } else {\n          if (!fileElem.attr('__ngf_flash_')) {\n            fileElem.unbind('change');\n            fileElem.unbind('click');\n            fileElem.bind('change', function (evt) {\n              fileApiChangeFn.apply(this, [evt]);\n              changeFn.apply(this, [evt]);\n            });\n            fileElem.attr('__ngf_flash_', 'true');\n          }\n          label.addClass('js-fileapi-wrapper');\n          if (!isInputTypeFile(elem)) {\n            label.css('position', 'absolute')\n              .css('top', getOffset(elem[0]).top + 'px').css('left', getOffset(elem[0]).left + 'px')\n              .css('width', elem[0].offsetWidth + 'px').css('height', elem[0].offsetHeight + 'px')\n              .css('filter', 'alpha(opacity=0)').css('display', elem.css('display'))\n              .css('overflow', 'hidden').css('z-index', '900000')\n              .css('visibility', 'visible');\n            fileElem.css('width', elem[0].offsetWidth + 'px').css('height', elem[0].offsetHeight + 'px')\n              .css('position', 'absolute').css('top', '0px').css('left', '0px');\n          }\n        }\n      };\n\n      elem.bind('mouseenter', fixInputStyle);\n\n      var fileApiChangeFn = function (evt) {\n        var files = FileAPI.getFiles(evt);\n        //just a double check for #233\n        for (var i = 0; i < files.length; i++) {\n          if (files[i].size === undefined) files[i].size = 0;\n          if (files[i].name === undefined) files[i].name = 'file';\n          if (files[i].type === undefined) files[i].type = 'undefined';\n        }\n        if (!evt.target) {\n          evt.target = {};\n        }\n        evt.target.files = files;\n        // if evt.target.files is not writable use helper field\n        if (evt.target.files !== files) {\n          evt.__files_ = files;\n        }\n        (evt.__files_ || evt.target.files).item = function (i) {\n          return (evt.__files_ || evt.target.files)[i] || null;\n        };\n      };\n    };\n\n    FileAPI.disableFileInput = function (elem, disable) {\n      if (disable) {\n        elem.removeClass('js-fileapi-wrapper');\n      } else {\n        elem.addClass('js-fileapi-wrapper');\n      }\n    };\n  }\n})();\n\nif (!window.FileReader) {\n  window.FileReader = function () {\n    var _this = this, loadStarted = false;\n    this.listeners = {};\n    this.addEventListener = function (type, fn) {\n      _this.listeners[type] = _this.listeners[type] || [];\n      _this.listeners[type].push(fn);\n    };\n    this.removeEventListener = function (type, fn) {\n      if (_this.listeners[type]) _this.listeners[type].splice(_this.listeners[type].indexOf(fn), 1);\n    };\n    this.dispatchEvent = function (evt) {\n      var list = _this.listeners[evt.type];\n      if (list) {\n        for (var i = 0; i < list.length; i++) {\n          list[i].call(_this, evt);\n        }\n      }\n    };\n    this.onabort = this.onerror = this.onload = this.onloadstart = this.onloadend = this.onprogress = null;\n\n    var constructEvent = function (type, evt) {\n      var e = {type: type, target: _this, loaded: evt.loaded, total: evt.total, error: evt.error};\n      if (evt.result != null) e.target.result = evt.result;\n      return e;\n    };\n    var listener = function (evt) {\n      if (!loadStarted) {\n        loadStarted = true;\n        if (_this.onloadstart) _this.onloadstart(constructEvent('loadstart', evt));\n      }\n      var e;\n      if (evt.type === 'load') {\n        if (_this.onloadend) _this.onloadend(constructEvent('loadend', evt));\n        e = constructEvent('load', evt);\n        if (_this.onload) _this.onload(e);\n        _this.dispatchEvent(e);\n      } else if (evt.type === 'progress') {\n        e = constructEvent('progress', evt);\n        if (_this.onprogress) _this.onprogress(e);\n        _this.dispatchEvent(e);\n      } else {\n        e = constructEvent('error', evt);\n        if (_this.onerror) _this.onerror(e);\n        _this.dispatchEvent(e);\n      }\n    };\n    this.readAsDataURL = function (file) {\n      FileAPI.readAsDataURL(file, listener);\n    };\n    this.readAsText = function (file) {\n      FileAPI.readAsText(file, listener);\n    };\n  };\n}\n\n/**!\n * AngularJS file upload directives and services. Supoorts: file upload/drop/paste, resume, cancel/abort,\n * progress, resize, thumbnail, preview, validation and CORS\n * @author  Danial  <danial.farid@gmail.com>\n * @version 11.2.3\n */\n\nif (window.XMLHttpRequest && !(window.FileAPI && FileAPI.shouldLoad)) {\n  window.XMLHttpRequest.prototype.setRequestHeader = (function (orig) {\n    return function (header, value) {\n      if (header === '__setXHR_') {\n        var val = value(this);\n        // fix for angular < 1.2.0\n        if (val instanceof Function) {\n          val(this);\n        }\n      } else {\n        orig.apply(this, arguments);\n      }\n    };\n  })(window.XMLHttpRequest.prototype.setRequestHeader);\n}\n\nvar ngFileUpload = angular.module('ngFileUpload', []);\n\nngFileUpload.version = '11.2.3';\n\nngFileUpload.service('UploadBase', ['$http', '$q', '$timeout', function ($http, $q, $timeout) {\n  var upload = this;\n  upload.promisesCount = 0;\n\n  this.isResumeSupported = function () {\n    return window.Blob && (window.Blob instanceof Function) && new window.Blob().slice;\n  };\n\n  var resumeSupported = this.isResumeSupported();\n\n  function sendHttp(config) {\n    config.method = config.method || 'POST';\n    config.headers = config.headers || {};\n\n    var deferred = config._deferred = config._deferred || $q.defer();\n    var promise = deferred.promise;\n\n    function notifyProgress(e) {\n      if (deferred.notify) {\n        deferred.notify(e);\n      }\n      if (promise.progressFunc) {\n        $timeout(function () {\n          promise.progressFunc(e);\n        });\n      }\n    }\n\n    function getNotifyEvent(n) {\n      if (config._start != null && resumeSupported) {\n        return {\n          loaded: n.loaded + config._start,\n          total: (config._file && config._file.size) || n.total,\n          type: n.type, config: config,\n          lengthComputable: true, target: n.target\n        };\n      } else {\n        return n;\n      }\n    }\n\n    if (!config.disableProgress) {\n      config.headers.__setXHR_ = function () {\n        return function (xhr) {\n          if (!xhr) return;\n          config.__XHR = xhr;\n          if (config.xhrFn) config.xhrFn(xhr);\n          xhr.upload.addEventListener('progress', function (e) {\n            e.config = config;\n            notifyProgress(getNotifyEvent(e));\n          }, false);\n          //fix for firefox not firing upload progress end, also IE8-9\n          xhr.upload.addEventListener('load', function (e) {\n            if (e.lengthComputable) {\n              e.config = config;\n              notifyProgress(getNotifyEvent(e));\n            }\n          }, false);\n        };\n      };\n    }\n\n    function uploadWithAngular() {\n      $http(config).then(function (r) {\n          if (resumeSupported && config._chunkSize && !config._finished && config._file) {\n            notifyProgress({\n                loaded: config._end,\n                total: config._file && config._file.size,\n                config: config, type: 'progress'\n              }\n            );\n            upload.upload(config, true);\n          } else {\n            if (config._finished) delete config._finished;\n            deferred.resolve(r);\n          }\n        }, function (e) {\n          deferred.reject(e);\n        }, function (n) {\n          deferred.notify(n);\n        }\n      );\n    }\n\n    if (!resumeSupported) {\n      uploadWithAngular();\n    } else if (config._chunkSize && config._end && !config._finished) {\n      config._start = config._end;\n      config._end += config._chunkSize;\n      uploadWithAngular();\n    } else if (config.resumeSizeUrl) {\n      $http.get(config.resumeSizeUrl).then(function (resp) {\n        if (config.resumeSizeResponseReader) {\n          config._start = config.resumeSizeResponseReader(resp.data);\n        } else {\n          config._start = parseInt((resp.data.size == null ? resp.data : resp.data.size).toString());\n        }\n        if (config._chunkSize) {\n          config._end = config._start + config._chunkSize;\n        }\n        uploadWithAngular();\n      }, function (e) {\n        throw e;\n      });\n    } else if (config.resumeSize) {\n      config.resumeSize().then(function (size) {\n        config._start = size;\n        uploadWithAngular();\n      }, function (e) {\n        throw e;\n      });\n    } else {\n      if (config._chunkSize) {\n        config._start = 0;\n        config._end = config._start + config._chunkSize;\n      }\n      uploadWithAngular();\n    }\n\n\n    promise.success = function (fn) {\n      promise.then(function (response) {\n        fn(response.data, response.status, response.headers, config);\n      });\n      return promise;\n    };\n\n    promise.error = function (fn) {\n      promise.then(null, function (response) {\n        fn(response.data, response.status, response.headers, config);\n      });\n      return promise;\n    };\n\n    promise.progress = function (fn) {\n      promise.progressFunc = fn;\n      promise.then(null, null, function (n) {\n        fn(n);\n      });\n      return promise;\n    };\n    promise.abort = promise.pause = function () {\n      if (config.__XHR) {\n        $timeout(function () {\n          config.__XHR.abort();\n        });\n      }\n      return promise;\n    };\n    promise.xhr = function (fn) {\n      config.xhrFn = (function (origXhrFn) {\n        return function () {\n          if (origXhrFn) origXhrFn.apply(promise, arguments);\n          fn.apply(promise, arguments);\n        };\n      })(config.xhrFn);\n      return promise;\n    };\n\n    upload.promisesCount++;\n    promise['finally'](function () {\n      upload.promisesCount--;\n    });\n    return promise;\n  }\n\n  this.isUploadInProgress = function () {\n    return upload.promisesCount > 0;\n  };\n\n  this.rename = function (file, name) {\n    file.ngfName = name;\n    return file;\n  };\n\n  this.jsonBlob = function (val) {\n    if (val != null && !angular.isString(val)) {\n      val = JSON.stringify(val);\n    }\n    var blob = new window.Blob([val], {type: 'application/json'});\n    blob._ngfBlob = true;\n    return blob;\n  };\n\n  this.json = function (val) {\n    return angular.toJson(val);\n  };\n\n  function copy(obj) {\n    var clone = {};\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        clone[key] = obj[key];\n      }\n    }\n    return clone;\n  }\n\n  this.isFile = function (file) {\n    return file != null && (file instanceof window.Blob || (file.flashId && file.name && file.size));\n  };\n\n  this.upload = function (config, internal) {\n    function toResumeFile(file, formData) {\n      if (file._ngfBlob) return file;\n      config._file = config._file || file;\n      if (config._start != null && resumeSupported) {\n        if (config._end && config._end >= file.size) {\n          config._finished = true;\n          config._end = file.size;\n        }\n        var slice = file.slice(config._start, config._end || file.size);\n        slice.name = file.name;\n        slice.ngfName = file.ngfName;\n        if (config._chunkSize) {\n          formData.append('_chunkSize', config._chunkSize);\n          formData.append('_currentChunkSize', config._end - config._start);\n          formData.append('_chunkNumber', Math.floor(config._start / config._chunkSize));\n          formData.append('_totalSize', config._file.size);\n        }\n        return slice;\n      }\n      return file;\n    }\n\n    function addFieldToFormData(formData, val, key) {\n      if (val !== undefined) {\n        if (angular.isDate(val)) {\n          val = val.toISOString();\n        }\n        if (angular.isString(val)) {\n          formData.append(key, val);\n        } else if (upload.isFile(val)) {\n          var file = toResumeFile(val, formData);\n          var split = key.split(',');\n          if (split[1]) {\n            file.ngfName = split[1].replace(/^\\s+|\\s+$/g, '');\n            key = split[0];\n          }\n          config._fileKey = config._fileKey || key;\n          formData.append(key, file, file.ngfName || file.name);\n        } else {\n          if (angular.isObject(val)) {\n            if (val.$$ngfCircularDetection) throw 'ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: ' + key;\n\n            val.$$ngfCircularDetection = true;\n            try {\n              for (var k in val) {\n                if (val.hasOwnProperty(k) && k !== '$$ngfCircularDetection') {\n                  var objectKey = config.objectKey == null ? '[i]' : config.objectKey;\n                  if (val.length && parseInt(k) > -1) {\n                    objectKey = config.arrayKey == null ? objectKey : config.arrayKey;\n                  }\n                  addFieldToFormData(formData, val[k], key + objectKey.replace(/[ik]/g, k));\n                }\n              }\n            } finally {\n              delete val.$$ngfCircularDetection;\n            }\n          } else {\n            formData.append(key, val);\n          }\n        }\n      }\n    }\n\n    function digestConfig() {\n      config._chunkSize = upload.translateScalars(config.resumeChunkSize);\n      config._chunkSize = config._chunkSize ? parseInt(config._chunkSize.toString()) : null;\n\n      config.headers = config.headers || {};\n      config.headers['Content-Type'] = undefined;\n      config.transformRequest = config.transformRequest ?\n        (angular.isArray(config.transformRequest) ?\n          config.transformRequest : [config.transformRequest]) : [];\n      config.transformRequest.push(function (data) {\n        var formData = new window.FormData(), key;\n        data = data || config.fields || {};\n        if (config.file) {\n          data.file = config.file;\n        }\n        for (key in data) {\n          if (data.hasOwnProperty(key)) {\n            var val = data[key];\n            if (config.formDataAppender) {\n              config.formDataAppender(formData, key, val);\n            } else {\n              addFieldToFormData(formData, val, key);\n            }\n          }\n        }\n\n        return formData;\n      });\n    }\n\n    if (!internal) config = copy(config);\n    if (!config._isDigested) {\n      config._isDigested = true;\n      digestConfig();\n    }\n\n    return sendHttp(config);\n  };\n\n  this.http = function (config) {\n    config = copy(config);\n    config.transformRequest = config.transformRequest || function (data) {\n        if ((window.ArrayBuffer && data instanceof window.ArrayBuffer) || data instanceof window.Blob) {\n          return data;\n        }\n        return $http.defaults.transformRequest[0].apply(this, arguments);\n      };\n    config._chunkSize = upload.translateScalars(config.resumeChunkSize);\n    config._chunkSize = config._chunkSize ? parseInt(config._chunkSize.toString()) : null;\n\n    return sendHttp(config);\n  };\n\n  this.translateScalars = function (str) {\n    if (angular.isString(str)) {\n      if (str.search(/kb/i) === str.length - 2) {\n        return parseFloat(str.substring(0, str.length - 2) * 1000);\n      } else if (str.search(/mb/i) === str.length - 2) {\n        return parseFloat(str.substring(0, str.length - 2) * 1000000);\n      } else if (str.search(/gb/i) === str.length - 2) {\n        return parseFloat(str.substring(0, str.length - 2) * 1000000000);\n      } else if (str.search(/b/i) === str.length - 1) {\n        return parseFloat(str.substring(0, str.length - 1));\n      } else if (str.search(/s/i) === str.length - 1) {\n        return parseFloat(str.substring(0, str.length - 1));\n      } else if (str.search(/m/i) === str.length - 1) {\n        return parseFloat(str.substring(0, str.length - 1) * 60);\n      } else if (str.search(/h/i) === str.length - 1) {\n        return parseFloat(str.substring(0, str.length - 1) * 3600);\n      }\n    }\n    return str;\n  };\n\n  this.urlToBlob = function(url) {\n    var defer = $q.defer();\n    $http({url: url, method: 'get', responseType: 'arraybuffer'}).then(function (resp) {\n      var arrayBufferView = new Uint8Array(resp.data);\n      var type = resp.headers('content-type') || 'image/WebP';\n      var blob = new window.Blob([arrayBufferView], {type: type});\n      defer.resolve(blob);\n      //var split = type.split('[/;]');\n      //blob.name = url.substring(0, 150).replace(/\\W+/g, '') + '.' + (split.length > 1 ? split[1] : 'jpg');\n    }, function (e) {\n      defer.reject(e);\n    });\n    return defer.promise;\n  };\n\n  this.setDefaults = function (defaults) {\n    this.defaults = defaults || {};\n  };\n\n  this.defaults = {};\n  this.version = ngFileUpload.version;\n}\n\n]);\n\nngFileUpload.service('Upload', ['$parse', '$timeout', '$compile', '$q', 'UploadExif', function ($parse, $timeout, $compile, $q, UploadExif) {\n  var upload = UploadExif;\n  upload.getAttrWithDefaults = function (attr, name) {\n    if (attr[name] != null) return attr[name];\n    var def = upload.defaults[name];\n    return (def == null ? def : (angular.isString(def) ? def : JSON.stringify(def)));\n  };\n\n  upload.attrGetter = function (name, attr, scope, params) {\n    var attrVal = this.getAttrWithDefaults(attr, name);\n    if (scope) {\n      try {\n        if (params) {\n          return $parse(attrVal)(scope, params);\n        } else {\n          return $parse(attrVal)(scope);\n        }\n      } catch (e) {\n        // hangle string value without single qoute\n        if (name.search(/min|max|pattern/i)) {\n          return attrVal;\n        } else {\n          throw e;\n        }\n      }\n    } else {\n      return attrVal;\n    }\n  };\n\n  upload.shouldUpdateOn = function (type, attr, scope) {\n    var modelOptions = upload.attrGetter('ngModelOptions', attr, scope);\n    if (modelOptions && modelOptions.updateOn) {\n      return modelOptions.updateOn.split(' ').indexOf(type) > -1;\n    }\n    return true;\n  };\n\n  upload.emptyPromise = function () {\n    var d = $q.defer();\n    var args = arguments;\n    $timeout(function () {\n      d.resolve.apply(d, args);\n    });\n    return d.promise;\n  };\n\n  upload.rejectPromise = function () {\n    var d = $q.defer();\n    var args = arguments;\n    $timeout(function () {\n      d.reject.apply(d, args);\n    });\n    return d.promise;\n  };\n\n  upload.happyPromise = function (promise, data) {\n    var d = $q.defer();\n    promise.then(function (result) {\n      d.resolve(result);\n    }, function (error) {\n      $timeout(function () {\n        throw error;\n      });\n      d.resolve(data);\n    });\n    return d.promise;\n  };\n\n  function applyExifRotations(files, attr, scope) {\n    var promises = [upload.emptyPromise()];\n    angular.forEach(files, function (f, i) {\n      if (f.type.indexOf('image/jpeg') === 0 && upload.attrGetter('ngfFixOrientation', attr, scope, {$file: f})) {\n        promises.push(upload.happyPromise(upload.applyExifRotation(f), f).then(function (fixedFile) {\n          files.splice(i, 1, fixedFile);\n        }));\n      }\n    });\n    return $q.all(promises);\n  }\n\n  function resize(files, attr, scope) {\n    var param = upload.attrGetter('ngfResize', attr, scope);\n    if (!param || !angular.isObject(param) || !upload.isResizeSupported() || !files.length) return upload.emptyPromise();\n    var promises = [upload.emptyPromise()];\n    angular.forEach(files, function (f, i) {\n      if (f.type.indexOf('image') === 0) {\n        if (param.pattern && !upload.validatePattern(f, param.pattern)) return;\n        var promise = upload.resize(f, param.width, param.height, param.quality,\n          param.type, param.ratio, param.centerCrop, function (width, height) {\n            return upload.attrGetter('ngfResizeIf', attr, scope,\n              {$width: width, $height: height, $file: f});\n          }, param.restoreExif !== false);\n        promises.push(promise);\n        promise.then(function (resizedFile) {\n          files.splice(i, 1, resizedFile);\n        }, function (e) {\n          f.$error = 'resize';\n          f.$errorParam = (e ? (e.message ? e.message : e) + ': ' : '') + (f && f.name);\n        });\n      }\n    });\n    return $q.all(promises);\n  }\n\n  function handleKeep(files, prevFiles, attr, scope) {\n    var dupFiles = [];\n    var keep = upload.attrGetter('ngfKeep', attr, scope);\n    if (keep) {\n      var hasNew = false;\n\n      if (keep === 'distinct' || upload.attrGetter('ngfKeepDistinct', attr, scope) === true) {\n        var len = prevFiles.length;\n        if (files) {\n          for (var i = 0; i < files.length; i++) {\n            for (var j = 0; j < len; j++) {\n              if (files[i].name === prevFiles[j].name) {\n                dupFiles.push(files[i]);\n                break;\n              }\n            }\n            if (j === len) {\n              prevFiles.push(files[i]);\n              hasNew = true;\n            }\n          }\n        }\n        files = prevFiles;\n      } else {\n        files = prevFiles.concat(files || []);\n      }\n    }\n    return {files: files, dupFiles: dupFiles, keep: keep};\n  }\n\n  upload.updateModel = function (ngModel, attr, scope, fileChange, files, evt, noDelay) {\n    function update(files, invalidFiles, newFiles, dupFiles, isSingleModel) {\n      var file = files && files.length ? files[0] : null;\n\n      if (ngModel) {\n        upload.applyModelValidation(ngModel, files);\n        ngModel.$setViewValue(isSingleModel ? file : files);\n      }\n\n      if (fileChange) {\n        $parse(fileChange)(scope, {\n          $files: files,\n          $file: file,\n          $newFiles: newFiles,\n          $duplicateFiles: dupFiles,\n          $invalidFiles: invalidFiles,\n          $event: evt\n        });\n      }\n\n      var invalidModel = upload.attrGetter('ngfModelInvalid', attr);\n      if (invalidModel) {\n        $timeout(function () {\n          $parse(invalidModel).assign(scope, invalidFiles);\n        });\n      }\n      $timeout(function () {\n        // scope apply changes\n      });\n    }\n\n    var newFiles = files;\n    var prevFiles = ngModel && ngModel.$modelValue && (angular.isArray(ngModel.$modelValue) ?\n        ngModel.$modelValue : [ngModel.$modelValue]);\n    prevFiles = (prevFiles || attr.$$ngfPrevFiles || []).slice(0);\n    var keepResult = handleKeep(files, prevFiles, attr, scope);\n    files = keepResult.files;\n    var dupFiles = keepResult.dupFiles;\n    var isSingleModel = !upload.attrGetter('ngfMultiple', attr, scope) && !upload.attrGetter('multiple', attr) && !keepResult.keep;\n\n    attr.$$ngfPrevFiles = files;\n\n    if (keepResult.keep && (!newFiles || !newFiles.length)) return;\n\n    upload.attrGetter('ngfBeforeModelChange', attr, scope, {\n      $files: files,\n      $file: files && files.length ? files[0] : null,\n      $duplicateFiles: dupFiles,\n      $event: evt\n    });\n\n    var validateAfterResize = upload.attrGetter('ngfValidateAfterResize', attr, scope);\n    var invalids = [];\n    function separateInvalids() {\n      var valids = [];\n      angular.forEach(files, function (file) {\n        if (file.$error) {\n          invalids.push(file);\n        } else {\n          valids.push(file);\n        }\n      });\n      files = valids;\n    }\n\n    upload.validate(newFiles, ngModel, attr, scope).then(function () {\n      if (noDelay) {\n        update(files, [], newFiles, dupFiles, isSingleModel);\n      } else {\n        var options = upload.attrGetter('ngModelOptions', attr, scope);\n        if ((!options || !options.allowInvalid) && !validateAfterResize) {\n          separateInvalids();\n        }\n        var fixOrientation = upload.emptyPromise(files);\n        if (upload.attrGetter('ngfFixOrientation', attr, scope) && upload.isExifSupported()) {\n          fixOrientation = applyExifRotations(files, attr, scope);\n        }\n        fixOrientation.then(function () {\n          function updateModel() {\n            $timeout(function () {\n              update(files, invalids, newFiles, dupFiles, isSingleModel);\n            }, options && options.debounce ? options.debounce.change || options.debounce : 0);\n          }\n          resize(files, attr, scope).then(function () {\n            if (validateAfterResize) {\n              upload.validate(files, ngModel, attr, scope).then(function () {\n                separateInvalids();\n                updateModel();\n              });\n            } else {\n              updateModel();\n            }\n          }, function (e) {\n            throw 'Could not resize files ' + e;\n          });\n        });\n      }\n    });\n\n    // cleaning object url memories\n    var l = prevFiles.length;\n    while (l--) {\n      var prevFile = prevFiles[l];\n      if (window.URL && prevFile.blobUrl) {\n        URL.revokeObjectURL(prevFile.blobUrl);\n        delete prevFile.blobUrl;\n      }\n    }\n  };\n\n  return upload;\n}]);\n\nngFileUpload.directive('ngfSelect', ['$parse', '$timeout', '$compile', 'Upload', function ($parse, $timeout, $compile, Upload) {\n  var generatedElems = [];\n\n  function isDelayedClickSupported(ua) {\n    // fix for android native browser < 4.4 and safari windows\n    var m = ua.match(/Android[^\\d]*(\\d+)\\.(\\d+)/);\n    if (m && m.length > 2) {\n      var v = Upload.defaults.androidFixMinorVersion || 4;\n      return parseInt(m[1]) < 4 || (parseInt(m[1]) === v && parseInt(m[2]) < v);\n    }\n\n    // safari on windows\n    return ua.indexOf('Chrome') === -1 && /.*Windows.*Safari.*/.test(ua);\n  }\n\n  function linkFileSelect(scope, elem, attr, ngModel, $parse, $timeout, $compile, upload) {\n    /** @namespace attr.ngfSelect */\n    /** @namespace attr.ngfChange */\n    /** @namespace attr.ngModel */\n    /** @namespace attr.ngModelOptions */\n    /** @namespace attr.ngfMultiple */\n    /** @namespace attr.ngfCapture */\n    /** @namespace attr.ngfValidate */\n    /** @namespace attr.ngfKeep */\n    var attrGetter = function (name, scope) {\n      return upload.attrGetter(name, attr, scope);\n    };\n\n    function isInputTypeFile() {\n      return elem[0].tagName.toLowerCase() === 'input' && attr.type && attr.type.toLowerCase() === 'file';\n    }\n\n    function fileChangeAttr() {\n      return attrGetter('ngfChange') || attrGetter('ngfSelect');\n    }\n\n    function changeFn(evt) {\n      if (upload.shouldUpdateOn('change', attr, scope)) {\n        var fileList = evt.__files_ || (evt.target && evt.target.files), files = [];\n        for (var i = 0; i < fileList.length; i++) {\n          files.push(fileList[i]);\n        }\n        upload.updateModel(ngModel, attr, scope, fileChangeAttr(),\n          files.length ? files : null, evt);\n      }\n    }\n\n    upload.registerModelChangeValidator(ngModel, attr, scope);\n\n    var unwatches = [];\n    unwatches.push(scope.$watch(attrGetter('ngfMultiple'), function () {\n      fileElem.attr('multiple', attrGetter('ngfMultiple', scope));\n    }));\n    unwatches.push(scope.$watch(attrGetter('ngfCapture'), function () {\n      fileElem.attr('capture', attrGetter('ngfCapture', scope));\n    }));\n    unwatches.push(scope.$watch(attrGetter('ngfAccept'), function () {\n      fileElem.attr('accept', attrGetter('ngfAccept', scope));\n    }));\n    attr.$observe('accept', function () {\n      fileElem.attr('accept', attrGetter('accept'));\n    });\n    unwatches.push(function () {\n      if (attr.$$observers) delete attr.$$observers.accept;\n    });\n    function bindAttrToFileInput(fileElem) {\n      if (elem !== fileElem) {\n        for (var i = 0; i < elem[0].attributes.length; i++) {\n          var attribute = elem[0].attributes[i];\n          if (attribute.name !== 'type' && attribute.name !== 'class' && attribute.name !== 'style') {\n            if (attribute.value == null || attribute.value === '') {\n              if (attribute.name === 'required') attribute.value = 'required';\n              if (attribute.name === 'multiple') attribute.value = 'multiple';\n            }\n            fileElem.attr(attribute.name, attribute.name === 'id' ? 'ngf-' + attribute.value : attribute.value);\n          }\n        }\n      }\n    }\n\n    function createFileInput() {\n      if (isInputTypeFile()) {\n        return elem;\n      }\n\n      var fileElem = angular.element('<input type=\"file\">');\n\n      bindAttrToFileInput(fileElem);\n\n      var label = angular.element('<label>upload</label>');\n      label.css('visibility', 'hidden').css('position', 'absolute').css('overflow', 'hidden')\n        .css('width', '0px').css('height', '0px').css('border', 'none')\n        .css('margin', '0px').css('padding', '0px').attr('tabindex', '-1');\n      generatedElems.push({el: elem, ref: label});\n\n      document.body.appendChild(label.append(fileElem)[0]);\n\n      return fileElem;\n    }\n\n    var initialTouchStartY = 0;\n\n    function clickHandler(evt) {\n      if (elem.attr('disabled')) return false;\n      if (attrGetter('ngfSelectDisabled', scope)) return;\n\n      var r = handleTouch(evt);\n      if (r != null) return r;\n\n      resetModel(evt);\n\n      // fix for md when the element is removed from the DOM and added back #460\n      try {\n        if (!isInputTypeFile() && !document.body.contains(fileElem[0])) {\n          generatedElems.push({el: elem, ref: fileElem.parent()});\n          document.body.appendChild(fileElem[0].parent());\n          fileElem.bind('change', changeFn);\n        }\n      } catch(e){/*ignore*/}\n\n      if (isDelayedClickSupported(navigator.userAgent)) {\n        setTimeout(function () {\n          fileElem[0].click();\n        }, 0);\n      } else {\n        fileElem[0].click();\n      }\n\n      return false;\n    }\n\n    function handleTouch(evt) {\n      var touches = evt.changedTouches || (evt.originalEvent && evt.originalEvent.changedTouches);\n      if (evt.type === 'touchstart') {\n        initialTouchStartY = touches ? touches[0].clientY : 0;\n        return true; // don't block event default\n      } else {\n        evt.stopPropagation();\n        evt.preventDefault();\n\n        // prevent scroll from triggering event\n        if (evt.type === 'touchend') {\n          var currentLocation = touches ? touches[0].clientY : 0;\n          if (Math.abs(currentLocation - initialTouchStartY) > 20) return false;\n        }\n      }\n    }\n\n    var fileElem = elem;\n\n    function resetModel(evt) {\n      if (upload.shouldUpdateOn('click', attr, scope) && fileElem.val()) {\n        fileElem.val(null);\n        upload.updateModel(ngModel, attr, scope, fileChangeAttr(), null, evt, true);\n      }\n    }\n\n    if (!isInputTypeFile()) {\n      fileElem = createFileInput();\n    }\n    fileElem.bind('change', changeFn);\n\n    if (!isInputTypeFile()) {\n      elem.bind('click touchstart touchend', clickHandler);\n    } else {\n      elem.bind('click', resetModel);\n    }\n\n    function ie10SameFileSelectFix(evt) {\n      if (fileElem && !fileElem.attr('__ngf_ie10_Fix_')) {\n        if (!fileElem[0].parentNode) {\n          fileElem = null;\n          return;\n        }\n        evt.preventDefault();\n        evt.stopPropagation();\n        fileElem.unbind('click');\n        var clone = fileElem.clone();\n        fileElem.replaceWith(clone);\n        fileElem = clone;\n        fileElem.attr('__ngf_ie10_Fix_', 'true');\n        fileElem.bind('change', changeFn);\n        fileElem.bind('click', ie10SameFileSelectFix);\n        fileElem[0].click();\n        return false;\n      } else {\n        fileElem.removeAttr('__ngf_ie10_Fix_');\n      }\n    }\n\n    if (navigator.appVersion.indexOf('MSIE 10') !== -1) {\n      fileElem.bind('click', ie10SameFileSelectFix);\n    }\n\n    if (ngModel) ngModel.$formatters.push(function (val) {\n      if (val == null || val.length === 0) {\n        if (fileElem.val()) {\n          fileElem.val(null);\n        }\n      }\n      return val;\n    });\n\n    scope.$on('$destroy', function () {\n      if (!isInputTypeFile()) fileElem.parent().remove();\n      angular.forEach(unwatches, function (unwatch) {\n        unwatch();\n      });\n    });\n\n    $timeout(function () {\n      for (var i = 0; i < generatedElems.length; i++) {\n        var g = generatedElems[i];\n        if (!document.body.contains(g.el[0])) {\n          generatedElems.splice(i, 1);\n          g.ref.remove();\n        }\n      }\n    });\n\n    if (window.FileAPI && window.FileAPI.ngfFixIE) {\n      window.FileAPI.ngfFixIE(elem, fileElem, changeFn);\n    }\n  }\n\n  return {\n    restrict: 'AEC',\n    require: '?ngModel',\n    link: function (scope, elem, attr, ngModel) {\n      linkFileSelect(scope, elem, attr, ngModel, $parse, $timeout, $compile, Upload);\n    }\n  };\n}]);\n\n(function () {\n\n  ngFileUpload.service('UploadDataUrl', ['UploadBase', '$timeout', '$q', function (UploadBase, $timeout, $q) {\n    var upload = UploadBase;\n    upload.base64DataUrl = function (file) {\n      if (angular.isArray(file)) {\n        var d = $q.defer(), count = 0;\n        angular.forEach(file, function (f) {\n          upload.dataUrl(f, true)['finally'](function () {\n            count++;\n            if (count === file.length) {\n              var urls = [];\n              angular.forEach(file, function (ff) {\n                urls.push(ff.$ngfDataUrl);\n              });\n              d.resolve(urls, file);\n            }\n          });\n        });\n        return d.promise;\n      } else {\n        return upload.dataUrl(file, true);\n      }\n    };\n    upload.dataUrl = function (file, disallowObjectUrl) {\n      if (!file) return upload.emptyPromise(file, file);\n      if ((disallowObjectUrl && file.$ngfDataUrl != null) || (!disallowObjectUrl && file.$ngfBlobUrl != null)) {\n        return upload.emptyPromise(disallowObjectUrl ? file.$ngfDataUrl : file.$ngfBlobUrl, file);\n      }\n      var p = disallowObjectUrl ? file.$$ngfDataUrlPromise : file.$$ngfBlobUrlPromise;\n      if (p) return p;\n\n      var deferred = $q.defer();\n      $timeout(function () {\n        if (window.FileReader && file &&\n          (!window.FileAPI || navigator.userAgent.indexOf('MSIE 8') === -1 || file.size < 20000) &&\n          (!window.FileAPI || navigator.userAgent.indexOf('MSIE 9') === -1 || file.size < 4000000)) {\n          //prefer URL.createObjectURL for handling refrences to files of all sizes\n          //since it doesnt build a large string in memory\n          var URL = window.URL || window.webkitURL;\n          if (URL && URL.createObjectURL && !disallowObjectUrl) {\n            var url;\n            try {\n              url = URL.createObjectURL(file);\n            } catch (e) {\n              $timeout(function () {\n                file.$ngfBlobUrl = '';\n                deferred.reject();\n              });\n              return;\n            }\n            $timeout(function () {\n              file.$ngfBlobUrl = url;\n              if (url) deferred.resolve(url, file);\n            });\n          } else {\n            var fileReader = new FileReader();\n            fileReader.onload = function (e) {\n              $timeout(function () {\n                file.$ngfDataUrl = e.target.result;\n                deferred.resolve(e.target.result, file);\n              });\n            };\n            fileReader.onerror = function () {\n              $timeout(function () {\n                file.$ngfDataUrl = '';\n                deferred.reject();\n              });\n            };\n            fileReader.readAsDataURL(file);\n          }\n        } else {\n          $timeout(function () {\n            file[disallowObjectUrl ? 'dataUrl' : 'blobUrl'] = '';\n            deferred.reject();\n          });\n        }\n      });\n\n      if (disallowObjectUrl) {\n        p = file.$$ngfDataUrlPromise = deferred.promise;\n      } else {\n        p = file.$$ngfBlobUrlPromise = deferred.promise;\n      }\n      p['finally'](function () {\n        delete file[disallowObjectUrl ? '$$ngfDataUrlPromise' : '$$ngfBlobUrlPromise'];\n      });\n      return p;\n    };\n    return upload;\n  }]);\n\n  function getTagType(el) {\n    if (el.tagName.toLowerCase() === 'img') return 'image';\n    if (el.tagName.toLowerCase() === 'audio') return 'audio';\n    if (el.tagName.toLowerCase() === 'video') return 'video';\n    return /./;\n  }\n\n  function linkFileDirective(Upload, $timeout, scope, elem, attr, directiveName, resizeParams, isBackground) {\n    function constructDataUrl(file) {\n      var disallowObjectUrl = Upload.attrGetter('ngfNoObjectUrl', attr, scope);\n      Upload.dataUrl(file, disallowObjectUrl)['finally'](function () {\n        $timeout(function () {\n          var src = (disallowObjectUrl ? file.$ngfDataUrl : file.$ngfBlobUrl) || file.$ngfDataUrl;\n          if (isBackground) {\n            elem.css('background-image', 'url(\\'' + (src || '') + '\\')');\n          } else {\n            elem.attr('src', src);\n          }\n          if (src) {\n            elem.removeClass('ng-hide');\n          } else {\n            elem.addClass('ng-hide');\n          }\n        });\n      });\n    }\n\n    $timeout(function () {\n      var unwatch = scope.$watch(attr[directiveName], function (file) {\n        var size = resizeParams;\n        if (directiveName === 'ngfThumbnail') {\n          if (!size) {\n            size = {width: elem[0].clientWidth, height: elem[0].clientHeight};\n          }\n          if (size.width === 0 && window.getComputedStyle) {\n            var style = getComputedStyle(elem[0]);\n            size = {\n              width: parseInt(style.width.slice(0, -2)),\n              height: parseInt(style.height.slice(0, -2))\n            };\n          }\n        }\n\n        if (angular.isString(file)) {\n          elem.removeClass('ng-hide');\n          if (isBackground) {\n            return elem.css('background-image', 'url(\\'' + file + '\\')');\n          } else {\n            return elem.attr('src', file);\n          }\n        }\n        if (file && file.type && file.type.search(getTagType(elem[0])) === 0 &&\n          (!isBackground || file.type.indexOf('image') === 0)) {\n          if (size && Upload.isResizeSupported()) {\n            Upload.resize(file, size.width, size.height, size.quality).then(\n              function (f) {\n                constructDataUrl(f);\n              }, function (e) {\n                throw e;\n              }\n            );\n          } else {\n            constructDataUrl(file);\n          }\n        } else {\n          elem.addClass('ng-hide');\n        }\n      });\n\n      scope.$on('$destroy', function () {\n        unwatch();\n      });\n    });\n  }\n\n\n  /** @namespace attr.ngfSrc */\n  /** @namespace attr.ngfNoObjectUrl */\n  ngFileUpload.directive('ngfSrc', ['Upload', '$timeout', function (Upload, $timeout) {\n    return {\n      restrict: 'AE',\n      link: function (scope, elem, attr) {\n        linkFileDirective(Upload, $timeout, scope, elem, attr, 'ngfSrc',\n          Upload.attrGetter('ngfResize', attr, scope), false);\n      }\n    };\n  }]);\n\n  /** @namespace attr.ngfBackground */\n  /** @namespace attr.ngfNoObjectUrl */\n  ngFileUpload.directive('ngfBackground', ['Upload', '$timeout', function (Upload, $timeout) {\n    return {\n      restrict: 'AE',\n      link: function (scope, elem, attr) {\n        linkFileDirective(Upload, $timeout, scope, elem, attr, 'ngfBackground',\n          Upload.attrGetter('ngfResize', attr, scope), true);\n      }\n    };\n  }]);\n\n  /** @namespace attr.ngfThumbnail */\n  /** @namespace attr.ngfAsBackground */\n  /** @namespace attr.ngfSize */\n  /** @namespace attr.ngfNoObjectUrl */\n  ngFileUpload.directive('ngfThumbnail', ['Upload', '$timeout', function (Upload, $timeout) {\n    return {\n      restrict: 'AE',\n      link: function (scope, elem, attr) {\n        var size = Upload.attrGetter('ngfSize', attr, scope);\n        linkFileDirective(Upload, $timeout, scope, elem, attr, 'ngfThumbnail', size,\n          Upload.attrGetter('ngfAsBackground', attr, scope));\n      }\n    };\n  }]);\n\n  ngFileUpload.config(['$compileProvider', function ($compileProvider) {\n    if ($compileProvider.imgSrcSanitizationWhitelist) $compileProvider.imgSrcSanitizationWhitelist(/^\\s*(https?|ftp|mailto|tel|local|file|data|blob):/);\n    if ($compileProvider.aHrefSanitizationWhitelist) $compileProvider.aHrefSanitizationWhitelist(/^\\s*(https?|ftp|mailto|tel|local|file|data|blob):/);\n  }]);\n\n  ngFileUpload.filter('ngfDataUrl', ['UploadDataUrl', '$sce', function (UploadDataUrl, $sce) {\n    return function (file, disallowObjectUrl, trustedUrl) {\n      if (angular.isString(file)) {\n        return $sce.trustAsResourceUrl(file);\n      }\n      var src = file && ((disallowObjectUrl ? file.$ngfDataUrl : file.$ngfBlobUrl) || file.$ngfDataUrl);\n      if (file && !src) {\n        if (!file.$ngfDataUrlFilterInProgress && angular.isObject(file)) {\n          file.$ngfDataUrlFilterInProgress = true;\n          UploadDataUrl.dataUrl(file, disallowObjectUrl);\n        }\n        return '';\n      }\n      if (file) delete file.$ngfDataUrlFilterInProgress;\n      return (file && src ? (trustedUrl ? $sce.trustAsResourceUrl(src) : src) : file) || '';\n    };\n  }]);\n\n})();\n\nngFileUpload.service('UploadValidate', ['UploadDataUrl', '$q', '$timeout', function (UploadDataUrl, $q, $timeout) {\n  var upload = UploadDataUrl;\n\n  function globStringToRegex(str) {\n    var regexp = '', excludes = [];\n    if (str.length > 2 && str[0] === '/' && str[str.length - 1] === '/') {\n      regexp = str.substring(1, str.length - 1);\n    } else {\n      var split = str.split(',');\n      if (split.length > 1) {\n        for (var i = 0; i < split.length; i++) {\n          var r = globStringToRegex(split[i]);\n          if (r.regexp) {\n            regexp += '(' + r.regexp + ')';\n            if (i < split.length - 1) {\n              regexp += '|';\n            }\n          } else {\n            excludes = excludes.concat(r.excludes);\n          }\n        }\n      } else {\n        if (str.indexOf('!') === 0) {\n          excludes.push('^((?!' + globStringToRegex(str.substring(1)).regexp + ').)*$');\n        } else {\n          if (str.indexOf('.') === 0) {\n            str = '*' + str;\n          }\n          regexp = '^' + str.replace(new RegExp('[.\\\\\\\\+*?\\\\[\\\\^\\\\]$(){}=!<>|:\\\\-]', 'g'), '\\\\$&') + '$';\n          regexp = regexp.replace(/\\\\\\*/g, '.*').replace(/\\\\\\?/g, '.');\n        }\n      }\n    }\n    return {regexp: regexp, excludes: excludes};\n  }\n\n  upload.validatePattern = function (file, val) {\n    if (!val) {\n      return true;\n    }\n    var pattern = globStringToRegex(val), valid = true;\n    if (pattern.regexp && pattern.regexp.length) {\n      var regexp = new RegExp(pattern.regexp, 'i');\n      valid = (file.type != null && regexp.test(file.type)) ||\n        (file.name != null && regexp.test(file.name));\n    }\n    var len = pattern.excludes.length;\n    while (len--) {\n      var exclude = new RegExp(pattern.excludes[len], 'i');\n      valid = valid && (file.type == null || exclude.test(file.type)) &&\n        (file.name == null || exclude.test(file.name));\n    }\n    return valid;\n  };\n\n  upload.ratioToFloat = function (val) {\n    var r = val.toString(), xIndex = r.search(/[x:]/i);\n    if (xIndex > -1) {\n      r = parseFloat(r.substring(0, xIndex)) / parseFloat(r.substring(xIndex + 1));\n    } else {\n      r = parseFloat(r);\n    }\n    return r;\n  };\n\n  upload.registerModelChangeValidator = function (ngModel, attr, scope) {\n    if (ngModel) {\n      ngModel.$formatters.push(function (files) {\n        if (ngModel.$dirty) {\n          if (files && !angular.isArray(files)) {\n            files = [files];\n          }\n          upload.validate(files, ngModel, attr, scope).then(function () {\n            upload.applyModelValidation(ngModel, files);\n          });\n        }\n      });\n    }\n  };\n\n  function markModelAsDirty(ngModel, files) {\n    if (files != null && !ngModel.$dirty) {\n      if (ngModel.$setDirty) {\n        ngModel.$setDirty();\n      } else {\n        ngModel.$dirty = true;\n      }\n    }\n  }\n\n  upload.applyModelValidation = function (ngModel, files) {\n    markModelAsDirty(ngModel, files);\n    angular.forEach(ngModel.$ngfValidations, function (validation) {\n      ngModel.$setValidity(validation.name, validation.valid);\n    });\n  };\n\n  upload.getValidationAttr = function (attr, scope, name, validationName, file) {\n    var dName = 'ngf' + name[0].toUpperCase() + name.substr(1);\n    var val = upload.attrGetter(dName, attr, scope, {$file: file});\n    if (val == null) {\n      val = upload.attrGetter('ngfValidate', attr, scope, {$file: file});\n      if (val) {\n        var split = (validationName || name).split('.');\n        val = val[split[0]];\n        if (split.length > 1) {\n          val = val && val[split[1]];\n        }\n      }\n    }\n    return val;\n  };\n\n  upload.validate = function (files, ngModel, attr, scope) {\n    ngModel = ngModel || {};\n    ngModel.$ngfValidations = ngModel.$ngfValidations || [];\n\n    angular.forEach(ngModel.$ngfValidations, function (v) {\n      v.valid = true;\n    });\n\n    var attrGetter = function (name, params) {\n      return upload.attrGetter(name, attr, scope, params);\n    };\n\n    if (files == null || files.length === 0) {\n      return upload.emptyPromise(ngModel);\n    }\n\n    files = files.length === undefined ? [files] : files.slice(0);\n\n    function validateSync(name, validationName, fn) {\n      if (files) {\n        var i = files.length, valid = null;\n        while (i--) {\n          var file = files[i];\n          if (file) {\n            var val = upload.getValidationAttr(attr, scope, name, validationName, file);\n            if (val != null) {\n              if (!fn(file, val)) {\n                file.$error = name;\n                file.$errorParam = val;\n                files.splice(i, 1);\n                valid = false;\n              }\n            }\n          }\n        }\n        if (valid !== null) {\n          ngModel.$ngfValidations.push({name: name, valid: valid});\n        }\n      }\n    }\n\n    var filesLength = files.length;\n    validateSync('maxFiles', null, function (file, val) {\n      return filesLength <= val;\n    });\n    validateSync('pattern', null, upload.validatePattern);\n    validateSync('minSize', 'size.min', function (file, val) {\n      return file.size >= upload.translateScalars(val);\n    });\n    validateSync('maxSize', 'size.max', function (file, val) {\n      return file.size <= upload.translateScalars(val);\n    });\n    var totalSize = 0;\n    validateSync('maxTotalSize', null, function (file, val) {\n      totalSize += file.size;\n      if (totalSize > upload.translateScalars(val)) {\n        files.splice(0, files.length);\n        return false;\n      }\n      return true;\n    });\n\n    validateSync('validateFn', null, function (file, r) {\n      return r === true || r === null || r === '';\n    });\n\n    if (!files.length) {\n      return upload.emptyPromise(ngModel, ngModel.$ngfValidations);\n    }\n\n    function validateAsync(name, validationName, type, asyncFn, fn) {\n      function resolveResult(defer, file, val) {\n        if (val != null) {\n          asyncFn(file, val).then(function (d) {\n            if (!fn(d, val)) {\n              file.$error = name;\n              file.$errorParam = val;\n              defer.reject();\n            } else {\n              defer.resolve();\n            }\n          }, function () {\n            if (attrGetter('ngfValidateForce', {$file: file})) {\n              file.$error = name;\n              file.$errorParam = val;\n              defer.reject();\n            } else {\n              defer.resolve();\n            }\n          });\n        } else {\n          defer.resolve();\n        }\n      }\n\n      var promises = [upload.emptyPromise()];\n      if (files) {\n        files = files.length === undefined ? [files] : files;\n        angular.forEach(files, function (file) {\n          var defer = $q.defer();\n          promises.push(defer.promise);\n          if (type && (file.type == null || file.type.search(type) !== 0)) {\n            defer.resolve();\n            return;\n          }\n          if (name === 'dimensions' && upload.attrGetter('ngfDimensions', attr) != null) {\n            upload.imageDimensions(file).then(function (d) {\n              resolveResult(defer, file,\n                attrGetter('ngfDimensions', {$file: file, $width: d.width, $height: d.height}));\n            }, function () {\n              defer.reject();\n            });\n          } else if (name === 'duration' && upload.attrGetter('ngfDuration', attr) != null) {\n            upload.mediaDuration(file).then(function (d) {\n              resolveResult(defer, file,\n                attrGetter('ngfDuration', {$file: file, $duration: d}));\n            }, function () {\n              defer.reject();\n            });\n          } else {\n            resolveResult(defer, file,\n              upload.getValidationAttr(attr, scope, name, validationName, file));\n          }\n        });\n        return $q.all(promises).then(function () {\n          ngModel.$ngfValidations.push({name: name, valid: true});\n        }, function () {\n          ngModel.$ngfValidations.push({name: name, valid: false});\n        });\n      }\n    }\n\n    var deffer = $q.defer();\n    var promises = [];\n\n    promises.push(upload.happyPromise(validateAsync('maxHeight', 'height.max', /image/,\n      this.imageDimensions, function (d, val) {\n        return d.height <= val;\n      })));\n    promises.push(upload.happyPromise(validateAsync('minHeight', 'height.min', /image/,\n      this.imageDimensions, function (d, val) {\n        return d.height >= val;\n      })));\n    promises.push(upload.happyPromise(validateAsync('maxWidth', 'width.max', /image/,\n      this.imageDimensions, function (d, val) {\n        return d.width <= val;\n      })));\n    promises.push(upload.happyPromise(validateAsync('minWidth', 'width.min', /image/,\n      this.imageDimensions, function (d, val) {\n        return d.width >= val;\n      })));\n    promises.push(upload.happyPromise(validateAsync('dimensions', null, /image/,\n      function (file, val) {\n        return upload.emptyPromise(val);\n      }, function (r) {\n        return r;\n      })));\n    promises.push(upload.happyPromise(validateAsync('ratio', null, /image/,\n      this.imageDimensions, function (d, val) {\n        var split = val.toString().split(','), valid = false;\n        for (var i = 0; i < split.length; i++) {\n          if (Math.abs((d.width / d.height) - upload.ratioToFloat(split[i])) < 0.0001) {\n            valid = true;\n          }\n        }\n        return valid;\n      })));\n    promises.push(upload.happyPromise(validateAsync('maxRatio', 'ratio.max', /image/,\n      this.imageDimensions, function (d, val) {\n        return (d.width / d.height) - upload.ratioToFloat(val) < 0.0001;\n      })));\n    promises.push(upload.happyPromise(validateAsync('minRatio', 'ratio.min', /image/,\n      this.imageDimensions, function (d, val) {\n        return (d.width / d.height) - upload.ratioToFloat(val) > -0.0001;\n      })));\n    promises.push(upload.happyPromise(validateAsync('maxDuration', 'duration.max', /audio|video/,\n      this.mediaDuration, function (d, val) {\n        return d <= upload.translateScalars(val);\n      })));\n    promises.push(upload.happyPromise(validateAsync('minDuration', 'duration.min', /audio|video/,\n      this.mediaDuration, function (d, val) {\n        return d >= upload.translateScalars(val);\n      })));\n    promises.push(upload.happyPromise(validateAsync('duration', null, /audio|video/,\n      function (file, val) {\n        return upload.emptyPromise(val);\n      }, function (r) {\n        return r;\n      })));\n\n    promises.push(upload.happyPromise(validateAsync('validateAsyncFn', null, null,\n      function (file, val) {\n        return val;\n      }, function (r) {\n        return r === true || r === null || r === '';\n      })));\n\n    return $q.all(promises).then(function () {\n      deffer.resolve(ngModel, ngModel.$ngfValidations);\n    });\n  };\n\n  upload.imageDimensions = function (file) {\n    if (file.$ngfWidth && file.$ngfHeight) {\n      var d = $q.defer();\n      $timeout(function () {\n        d.resolve({width: file.$ngfWidth, height: file.$ngfHeight});\n      });\n      return d.promise;\n    }\n    if (file.$ngfDimensionPromise) return file.$ngfDimensionPromise;\n\n    var deferred = $q.defer();\n    $timeout(function () {\n      if (file.type.indexOf('image') !== 0) {\n        deferred.reject('not image');\n        return;\n      }\n      upload.dataUrl(file).then(function (dataUrl) {\n        var img = angular.element('<img>').attr('src', dataUrl).css('visibility', 'hidden').css('position', 'fixed');\n\n        function success() {\n          var width = img[0].clientWidth;\n          var height = img[0].clientHeight;\n          img.remove();\n          file.$ngfWidth = width;\n          file.$ngfHeight = height;\n          deferred.resolve({width: width, height: height});\n        }\n\n        function error() {\n          img.remove();\n          deferred.reject('load error');\n        }\n\n        img.on('load', success);\n        img.on('error', error);\n        var count = 0;\n\n        function checkLoadError() {\n          $timeout(function () {\n            if (img[0].parentNode) {\n              if (img[0].clientWidth) {\n                success();\n              } else if (count > 10) {\n                error();\n              } else {\n                checkLoadError();\n              }\n            }\n          }, 1000);\n        }\n\n        checkLoadError();\n\n        angular.element(document.getElementsByTagName('body')[0]).append(img);\n      }, function () {\n        deferred.reject('load error');\n      });\n    });\n\n    file.$ngfDimensionPromise = deferred.promise;\n    file.$ngfDimensionPromise['finally'](function () {\n      delete file.$ngfDimensionPromise;\n    });\n    return file.$ngfDimensionPromise;\n  };\n\n  upload.mediaDuration = function (file) {\n    if (file.$ngfDuration) {\n      var d = $q.defer();\n      $timeout(function () {\n        d.resolve(file.$ngfDuration);\n      });\n      return d.promise;\n    }\n    if (file.$ngfDurationPromise) return file.$ngfDurationPromise;\n\n    var deferred = $q.defer();\n    $timeout(function () {\n      if (file.type.indexOf('audio') !== 0 && file.type.indexOf('video') !== 0) {\n        deferred.reject('not media');\n        return;\n      }\n      upload.dataUrl(file).then(function (dataUrl) {\n        var el = angular.element(file.type.indexOf('audio') === 0 ? '<audio>' : '<video>')\n          .attr('src', dataUrl).css('visibility', 'none').css('position', 'fixed');\n\n        function success() {\n          var duration = el[0].duration;\n          file.$ngfDuration = duration;\n          el.remove();\n          deferred.resolve(duration);\n        }\n\n        function error() {\n          el.remove();\n          deferred.reject('load error');\n        }\n\n        el.on('loadedmetadata', success);\n        el.on('error', error);\n        var count = 0;\n\n        function checkLoadError() {\n          $timeout(function () {\n            if (el[0].parentNode) {\n              if (el[0].duration) {\n                success();\n              } else if (count > 10) {\n                error();\n              } else {\n                checkLoadError();\n              }\n            }\n          }, 1000);\n        }\n\n        checkLoadError();\n\n        angular.element(document.body).append(el);\n      }, function () {\n        deferred.reject('load error');\n      });\n    });\n\n    file.$ngfDurationPromise = deferred.promise;\n    file.$ngfDurationPromise['finally'](function () {\n      delete file.$ngfDurationPromise;\n    });\n    return file.$ngfDurationPromise;\n  };\n  return upload;\n}\n]);\n\nngFileUpload.service('UploadResize', ['UploadValidate', '$q', function (UploadValidate, $q) {\n  var upload = UploadValidate;\n\n  /**\n   * Conserve aspect ratio of the original region. Useful when shrinking/enlarging\n   * images to fit into a certain area.\n   * Source:  http://stackoverflow.com/a/14731922\n   *\n   * @param {Number} srcWidth Source area width\n   * @param {Number} srcHeight Source area height\n   * @param {Number} maxWidth Nestable area maximum available width\n   * @param {Number} maxHeight Nestable area maximum available height\n   * @return {Object} { width, height }\n   */\n  var calculateAspectRatioFit = function (srcWidth, srcHeight, maxWidth, maxHeight, centerCrop) {\n    var ratio = centerCrop ? Math.max(maxWidth / srcWidth, maxHeight / srcHeight) :\n      Math.min(maxWidth / srcWidth, maxHeight / srcHeight);\n    return {\n      width: srcWidth * ratio, height: srcHeight * ratio,\n      marginX: srcWidth * ratio - maxWidth, marginY: srcHeight * ratio - maxHeight\n    };\n  };\n\n  // Extracted from https://github.com/romelgomez/angular-firebase-image-upload/blob/master/app/scripts/fileUpload.js#L89\n  var resize = function (imagen, width, height, quality, type, ratio, centerCrop, resizeIf) {\n    var deferred = $q.defer();\n    var canvasElement = document.createElement('canvas');\n    var imageElement = document.createElement('img');\n\n    imageElement.onload = function () {\n      if (resizeIf != null && resizeIf(imageElement.width, imageElement.height) === false) {\n        deferred.reject('resizeIf');\n        return;\n      }\n      try {\n        if (ratio) {\n          var ratioFloat = upload.ratioToFloat(ratio);\n          var imgRatio = imageElement.width / imageElement.height;\n          if (imgRatio < ratioFloat) {\n            width = imageElement.width;\n            height = width / ratioFloat;\n          } else {\n            height = imageElement.height;\n            width = height * ratioFloat;\n          }\n        }\n        if (!width) {\n          width = imageElement.width;\n        }\n        if (!height) {\n          height = imageElement.height;\n        }\n        var dimensions = calculateAspectRatioFit(imageElement.width, imageElement.height, width, height, centerCrop);\n        canvasElement.width = Math.min(dimensions.width, width);\n        canvasElement.height = Math.min(dimensions.height, height);\n        var context = canvasElement.getContext('2d');\n        context.drawImage(imageElement,\n          Math.min(0, -dimensions.marginX / 2), Math.min(0, -dimensions.marginY / 2),\n          dimensions.width, dimensions.height);\n        deferred.resolve(canvasElement.toDataURL(type || 'image/WebP', quality || 0.934));\n      } catch (e) {\n        deferred.reject(e);\n      }\n    };\n    imageElement.onerror = function () {\n      deferred.reject();\n    };\n    imageElement.src = imagen;\n    return deferred.promise;\n  };\n\n  upload.dataUrltoBlob = function (dataurl, name) {\n    var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],\n      bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n);\n    }\n    var blob = new window.Blob([u8arr], {type: mime});\n    blob.name = name;\n    return blob;\n  };\n\n  upload.isResizeSupported = function () {\n    var elem = document.createElement('canvas');\n    return window.atob && elem.getContext && elem.getContext('2d') && window.Blob;\n  };\n\n  if (upload.isResizeSupported()) {\n    // add name getter to the blob constructor prototype\n    Object.defineProperty(window.Blob.prototype, 'name', {\n      get: function () {\n        return this.$ngfName;\n      },\n      set: function (v) {\n        this.$ngfName = v;\n      },\n      configurable: true\n    });\n  }\n\n  upload.resize = function (file, width, height, quality, type, ratio, centerCrop, resizeIf, restoreExif) {\n    if (file.type.indexOf('image') !== 0) return upload.emptyPromise(file);\n\n    var deferred = $q.defer();\n    upload.dataUrl(file, true).then(function (url) {\n      resize(url, width, height, quality, type || file.type, ratio, centerCrop, resizeIf)\n        .then(function (dataUrl) {\n          if (file.type === 'image/jpeg' && restoreExif) {\n            try {\n              dataUrl = upload.restoreExif(url, dataUrl);\n            } catch (e) {\n              setTimeout(function () {throw e;}, 1);\n            }\n          }\n          deferred.resolve(upload.dataUrltoBlob(dataUrl, file.name));\n        }, function (r) {\n          if (r === 'resizeIf') {\n            deferred.resolve(file);\n          }\n          deferred.reject();\n        });\n    }, function () {\n      deferred.reject();\n    });\n    return deferred.promise;\n  };\n\n  return upload;\n}]);\n\n(function () {\n  ngFileUpload.directive('ngfDrop', ['$parse', '$timeout', '$location', 'Upload', '$http', '$q',\n    function ($parse, $timeout, $location, Upload, $http, $q) {\n      return {\n        restrict: 'AEC',\n        require: '?ngModel',\n        link: function (scope, elem, attr, ngModel) {\n          linkDrop(scope, elem, attr, ngModel, $parse, $timeout, $location, Upload, $http, $q);\n        }\n      };\n    }]);\n\n  ngFileUpload.directive('ngfNoFileDrop', function () {\n    return function (scope, elem) {\n      if (dropAvailable()) elem.css('display', 'none');\n    };\n  });\n\n  ngFileUpload.directive('ngfDropAvailable', ['$parse', '$timeout', 'Upload', function ($parse, $timeout, Upload) {\n    return function (scope, elem, attr) {\n      if (dropAvailable()) {\n        var model = $parse(Upload.attrGetter('ngfDropAvailable', attr));\n        $timeout(function () {\n          model(scope);\n          if (model.assign) {\n            model.assign(scope, true);\n          }\n        });\n      }\n    };\n  }]);\n\n  function linkDrop(scope, elem, attr, ngModel, $parse, $timeout, $location, upload, $http, $q) {\n    var available = dropAvailable();\n\n    var attrGetter = function (name, scope, params) {\n      return upload.attrGetter(name, attr, scope, params);\n    };\n\n    if (attrGetter('dropAvailable')) {\n      $timeout(function () {\n        if (scope[attrGetter('dropAvailable')]) {\n          scope[attrGetter('dropAvailable')].value = available;\n        } else {\n          scope[attrGetter('dropAvailable')] = available;\n        }\n      });\n    }\n    if (!available) {\n      if (attrGetter('ngfHideOnDropNotAvailable', scope) === true) {\n        elem.css('display', 'none');\n      }\n      return;\n    }\n\n    function isDisabled() {\n      return elem.attr('disabled') || attrGetter('ngfDropDisabled', scope);\n    }\n\n    if (attrGetter('ngfSelect') == null) {\n      upload.registerModelChangeValidator(ngModel, attr, scope);\n    }\n\n    var leaveTimeout = null;\n    var stopPropagation = $parse(attrGetter('ngfStopPropagation'));\n    var dragOverDelay = 1;\n    var actualDragOverClass;\n\n    elem[0].addEventListener('dragover', function (evt) {\n      if (isDisabled() || !upload.shouldUpdateOn('drop', attr, scope)) return;\n      evt.preventDefault();\n      if (stopPropagation(scope)) evt.stopPropagation();\n      // handling dragover events from the Chrome download bar\n      if (navigator.userAgent.indexOf('Chrome') > -1) {\n        var b = evt.dataTransfer.effectAllowed;\n        evt.dataTransfer.dropEffect = ('move' === b || 'linkMove' === b) ? 'move' : 'copy';\n      }\n      $timeout.cancel(leaveTimeout);\n      if (!actualDragOverClass) {\n        actualDragOverClass = 'C';\n        calculateDragOverClass(scope, attr, evt, function (clazz) {\n          actualDragOverClass = clazz;\n          elem.addClass(actualDragOverClass);\n          attrGetter('ngfDrag', scope, {$isDragging: true, $class: actualDragOverClass, $event: evt});\n        });\n      }\n    }, false);\n    elem[0].addEventListener('dragenter', function (evt) {\n      if (isDisabled() || !upload.shouldUpdateOn('drop', attr, scope)) return;\n      evt.preventDefault();\n      if (stopPropagation(scope)) evt.stopPropagation();\n    }, false);\n    elem[0].addEventListener('dragleave', function (evt) {\n      if (isDisabled() || !upload.shouldUpdateOn('drop', attr, scope)) return;\n      evt.preventDefault();\n      if (stopPropagation(scope)) evt.stopPropagation();\n      leaveTimeout = $timeout(function () {\n        if (actualDragOverClass) elem.removeClass(actualDragOverClass);\n        actualDragOverClass = null;\n        attrGetter('ngfDrag', scope, {$isDragging: false, $event: evt});\n      }, dragOverDelay || 100);\n    }, false);\n    elem[0].addEventListener('drop', function (evt) {\n      if (isDisabled() || !upload.shouldUpdateOn('drop', attr, scope)) return;\n      evt.preventDefault();\n      if (stopPropagation(scope)) evt.stopPropagation();\n      if (actualDragOverClass) elem.removeClass(actualDragOverClass);\n      actualDragOverClass = null;\n      extractFiles(evt, attrGetter('ngfAllowDir', scope) !== false,\n        attrGetter('multiple') || attrGetter('ngfMultiple', scope)).then(function (files) {\n        if (files.length) {\n          updateModel(files, evt);\n        } else {\n          extractFilesFromHtml('dropUrl', evt.dataTransfer).then(function (files) {\n            updateModel(files, evt);\n          });\n        }\n      });\n    }, false);\n    elem[0].addEventListener('paste', function (evt) {\n      if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1 &&\n        attrGetter('ngfEnableFirefoxPaste', scope)) {\n        evt.preventDefault();\n      }\n      if (isDisabled() || !upload.shouldUpdateOn('paste', attr, scope)) return;\n      var files = [];\n      var clipboard = evt.clipboardData || evt.originalEvent.clipboardData;\n      if (clipboard && clipboard.items) {\n        for (var k = 0; k < clipboard.items.length; k++) {\n          if (clipboard.items[k].type.indexOf('image') !== -1) {\n            files.push(clipboard.items[k].getAsFile());\n          }\n        }\n      }\n      if (files.length) {\n        updateModel(files, evt);\n      } else {\n        extractFilesFromHtml('pasteUrl', clipboard).then(function (files) {\n          updateModel(files, evt);\n        });\n      }\n    }, false);\n\n    if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1 &&\n      attrGetter('ngfEnableFirefoxPaste', scope)) {\n      elem.attr('contenteditable', true);\n      elem.on('keypress', function (e) {\n        if (!e.metaKey && !e.ctrlKey) {\n          e.preventDefault();\n        }\n      });\n    }\n\n    function updateModel(files, evt) {\n      upload.updateModel(ngModel, attr, scope, attrGetter('ngfChange') || attrGetter('ngfDrop'), files, evt);\n    }\n\n    function extractFilesFromHtml(updateOn, obj) {\n      var html;\n      try {\n        html = (obj && obj.getData && obj.getData('text/html'));\n      } catch (e) {/* Fix IE11 that throw error calling getData */\n      }\n      if (!upload.shouldUpdateOn(updateOn, attr, scope) || !html) return upload.rejectPromise([]);\n      var urls = [];\n      html.replace(/<(img src|img [^>]* src) *=\\\"([^\\\"]*)\\\"/gi, function (m, n, src) {\n        urls.push(src);\n      });\n      var promises = [], files = [];\n      if (urls.length) {\n        angular.forEach(urls, function (url) {\n          promises.push(upload.urlToBlob(url).then(function (blob) {\n            files.push(blob);\n          }));\n        });\n        var defer = $q.defer();\n        $q.all(promises).then(function () {\n          defer.resolve(files);\n        }, function (e) {\n          defer.reject(e);\n        });\n        return defer.promise;\n      }\n    }\n\n    function calculateDragOverClass(scope, attr, evt, callback) {\n      var obj = attrGetter('ngfDragOverClass', scope, {$event: evt}), dClass = 'dragover';\n      if (angular.isString(obj)) {\n        dClass = obj;\n      } else if (obj) {\n        if (obj.delay) dragOverDelay = obj.delay;\n        if (obj.accept || obj.reject) {\n          var items = evt.dataTransfer.items;\n          if (items == null || !items.length) {\n            dClass = obj.accept;\n          } else {\n            var pattern = obj.pattern || attrGetter('ngfPattern', scope, {$event: evt});\n            var len = items.length;\n            while (len--) {\n              if (!upload.validatePattern(items[len], pattern)) {\n                dClass = obj.reject;\n                break;\n              } else {\n                dClass = obj.accept;\n              }\n            }\n          }\n        }\n      }\n      callback(dClass);\n    }\n\n    function extractFiles(evt, allowDir, multiple) {\n      var maxFiles = upload.getValidationAttr(attr, scope, 'maxFiles') || Number.MAX_VALUE;\n      var maxTotalSize = upload.getValidationAttr(attr, scope, 'maxTotalSize') || Number.MAX_VALUE;\n      var includeDir = attrGetter('ngfIncludeDir', scope);\n      var files = [], totalSize = 0;\n      function traverseFileTree(entry, path) {\n        var defer = $q.defer();\n        if (entry != null) {\n          if (entry.isDirectory) {\n            var promises = [upload.emptyPromise()];\n            if (includeDir) {\n              var file = {type : 'directory'};\n              file.name = file.path = (path || '') + entry.name + entry.name;\n              files.push(file);\n            }\n            var dirReader = entry.createReader();\n            var entries = [];\n            var readEntries = function () {\n              dirReader.readEntries(function (results) {\n                try {\n                  if (!results.length) {\n                    angular.forEach(entries.slice(0), function(e) {\n                      if (files.length <= maxFiles && totalSize <= maxTotalSize) {\n                        promises.push(traverseFileTree(e, (path ? path : '') + entry.name + '/'));\n                      }\n                    });\n                    $q.all(promises).then(function () {\n                      defer.resolve();\n                    }, function (e) {\n                      defer.reject(e);\n                    });\n                  } else {\n                    entries = entries.concat(Array.prototype.slice.call(results || [], 0));\n                    readEntries();\n                  }\n                } catch (e) {\n                  defer.reject(e);\n                }\n              }, function (e) {\n                defer.reject(e);\n              });\n            };\n            readEntries();\n          } else {\n            entry.file(function (file) {\n              try {\n                file.path = (path ? path : '') + file.name;\n                if (includeDir) {\n                  file = upload.rename(file, file.path);\n                }\n                files.push(file);\n                totalSize += file.size;\n                defer.resolve();\n              } catch (e) {\n                defer.reject(e);\n              }\n            }, function (e) {\n              defer.reject(e);\n            });\n          }\n        }\n        return defer.promise;\n      }\n\n      var promises = [upload.emptyPromise()];\n\n      var items = evt.dataTransfer.items;\n      if (items && items.length > 0 && $location.protocol() !== 'file') {\n        for (var i = 0; i < items.length; i++) {\n          if (items[i].webkitGetAsEntry && items[i].webkitGetAsEntry() && items[i].webkitGetAsEntry().isDirectory) {\n            var entry = items[i].webkitGetAsEntry();\n            if (entry.isDirectory && !allowDir) {\n              continue;\n            }\n            if (entry != null) {\n              promises.push(traverseFileTree(entry));\n            }\n          } else {\n            var f = items[i].getAsFile();\n            if (f != null) {\n              files.push(f);\n              totalSize += f.size;\n            }\n          }\n          if (files.length > maxFiles || totalSize > maxTotalSize ||\n            (!multiple && files.length > 0)) break;\n        }\n      } else {\n        var fileList = evt.dataTransfer.files;\n        if (fileList != null) {\n          for (var j = 0; j < fileList.length; j++) {\n            var file = fileList.item(j);\n            if (file.type || file.size > 0) {\n              files.push(file);\n              totalSize += file.size;\n            }\n            if (files.length > maxFiles || totalSize > maxTotalSize ||\n              (!multiple && files.length > 0)) break;\n          }\n        }\n      }\n\n      var defer = $q.defer();\n      $q.all(promises).then(function () {\n        if (!multiple) {\n          var i = 0;\n          while (files.length && files[i].type === 'directory') i++;\n          defer.resolve([files[i]]);\n        } else {\n            defer.resolve(files);\n        }\n      }, function (e) {\n        defer.reject(e);\n      });\n\n      return defer.promise;\n    }\n  }\n\n  function dropAvailable() {\n    var div = document.createElement('div');\n    return ('draggable' in div) && ('ondrop' in div) && !/Edge\\/12./i.test(navigator.userAgent);\n  }\n\n})();\n\n// customized version of https://github.com/exif-js/exif-js\nngFileUpload.service('UploadExif', ['UploadResize', '$q', function (UploadResize, $q) {\n  var upload = UploadResize;\n\n  upload.isExifSupported = function () {\n    return window.FileReader && new FileReader().readAsArrayBuffer && upload.isResizeSupported();\n  };\n\n  function applyTransform(ctx, orientation, width, height) {\n    switch (orientation) {\n      case 2:\n        return ctx.transform(-1, 0, 0, 1, width, 0);\n      case 3:\n        return ctx.transform(-1, 0, 0, -1, width, height);\n      case 4:\n        return ctx.transform(1, 0, 0, -1, 0, height);\n      case 5:\n        return ctx.transform(0, 1, 1, 0, 0, 0);\n      case 6:\n        return ctx.transform(0, 1, -1, 0, height, 0);\n      case 7:\n        return ctx.transform(0, -1, -1, 0, height, width);\n      case 8:\n        return ctx.transform(0, -1, 1, 0, 0, width);\n    }\n  }\n\n  upload.readOrientation = function (file) {\n    var defer = $q.defer();\n    var reader = new FileReader();\n    var slicedFile = file.slice(0, 64 * 1024);\n    reader.readAsArrayBuffer(slicedFile);\n    reader.onerror = function (e) {\n      return defer.reject(e);\n    };\n    reader.onload = function (e) {\n      var result = {orientation: 1};\n      var view = new DataView(this.result);\n      if (view.getUint16(0, false) !== 0xFFD8) return defer.resolve(result);\n\n      var length = view.byteLength,\n        offset = 2;\n      while (offset < length) {\n        var marker = view.getUint16(offset, false);\n        offset += 2;\n        if (marker === 0xFFE1) {\n          if (view.getUint32(offset += 2, false) !== 0x45786966) return defer.resolve(result);\n\n          var little = view.getUint16(offset += 6, false) === 0x4949;\n          offset += view.getUint32(offset + 4, little);\n          var tags = view.getUint16(offset, little);\n          offset += 2;\n          for (var i = 0; i < tags; i++)\n            if (view.getUint16(offset + (i * 12), little) === 0x0112) {\n              var orientation = view.getUint16(offset + (i * 12) + 8, little);\n              if (orientation >= 2 && orientation <= 8) {\n                view.setUint16(offset + (i * 12) + 8, 1, little);\n                result.fixedArrayBuffer = e.target.result;\n              }\n              result.orientation = orientation;\n              return defer.resolve(result);\n            }\n        } else if ((marker & 0xFF00) !== 0xFF00) break;\n        else offset += view.getUint16(offset, false);\n      }\n      return defer.resolve(result);\n    };\n    return defer.promise;\n  };\n\n  function arrayBufferToBase64(buffer) {\n    var binary = '';\n    var bytes = new Uint8Array(buffer);\n    var len = bytes.byteLength;\n    for (var i = 0; i < len; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n    return window.btoa(binary);\n  }\n\n  upload.applyExifRotation = function (file) {\n    if (file.type.indexOf('image/jpeg') !== 0) {\n      return upload.emptyPromise(file);\n    }\n\n    var deferred = $q.defer();\n    upload.readOrientation(file).then(function (result) {\n      if (result.orientation < 2 || result.orientation > 8) {\n        return deferred.resolve(file);\n      }\n      upload.dataUrl(file, true).then(function (url) {\n        var canvas = document.createElement('canvas');\n        var img = document.createElement('img');\n\n        img.onload = function () {\n          try {\n            canvas.width = result.orientation > 4 ? img.height : img.width;\n            canvas.height = result.orientation > 4 ? img.width : img.height;\n            var ctx = canvas.getContext('2d');\n            applyTransform(ctx, result.orientation, img.width, img.height);\n            ctx.drawImage(img, 0, 0);\n            var dataUrl = canvas.toDataURL(file.type || 'image/WebP', 0.934);\n            dataUrl = upload.restoreExif(arrayBufferToBase64(result.fixedArrayBuffer), dataUrl);\n            var blob = upload.dataUrltoBlob(dataUrl, file.name);\n            deferred.resolve(blob);\n          } catch (e) {\n            return deferred.reject(e);\n          }\n        };\n        img.onerror = function () {\n          deferred.reject();\n        };\n        img.src = url;\n      }, function (e) {\n        deferred.reject(e);\n      });\n    }, function (e) {\n      deferred.reject(e);\n    });\n    return deferred.promise;\n  };\n\n  upload.restoreExif = function (orig, resized) {\n    var ExifRestorer = {};\n\n    ExifRestorer.KEY_STR = 'ABCDEFGHIJKLMNOP' +\n      'QRSTUVWXYZabcdef' +\n      'ghijklmnopqrstuv' +\n      'wxyz0123456789+/' +\n      '=';\n\n    ExifRestorer.encode64 = function (input) {\n      var output = '',\n        chr1, chr2, chr3 = '',\n        enc1, enc2, enc3, enc4 = '',\n        i = 0;\n\n      do {\n        chr1 = input[i++];\n        chr2 = input[i++];\n        chr3 = input[i++];\n\n        enc1 = chr1 >> 2;\n        enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n        enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n        enc4 = chr3 & 63;\n\n        if (isNaN(chr2)) {\n          enc3 = enc4 = 64;\n        } else if (isNaN(chr3)) {\n          enc4 = 64;\n        }\n\n        output = output +\n          this.KEY_STR.charAt(enc1) +\n          this.KEY_STR.charAt(enc2) +\n          this.KEY_STR.charAt(enc3) +\n          this.KEY_STR.charAt(enc4);\n        chr1 = chr2 = chr3 = '';\n        enc1 = enc2 = enc3 = enc4 = '';\n      } while (i < input.length);\n\n      return output;\n    };\n\n    ExifRestorer.restore = function (origFileBase64, resizedFileBase64) {\n      if (origFileBase64.match('data:image/jpeg;base64,')) {\n        origFileBase64 = origFileBase64.replace('data:image/jpeg;base64,', '');\n      }\n\n      var rawImage = this.decode64(origFileBase64);\n      var segments = this.slice2Segments(rawImage);\n\n      var image = this.exifManipulation(resizedFileBase64, segments);\n\n      return 'data:image/jpeg;base64,' + this.encode64(image);\n    };\n\n\n    ExifRestorer.exifManipulation = function (resizedFileBase64, segments) {\n      var exifArray = this.getExifArray(segments),\n        newImageArray = this.insertExif(resizedFileBase64, exifArray);\n      return new Uint8Array(newImageArray);\n    };\n\n\n    ExifRestorer.getExifArray = function (segments) {\n      var seg;\n      for (var x = 0; x < segments.length; x++) {\n        seg = segments[x];\n        if (seg[0] === 255 & seg[1] === 225) //(ff e1)\n        {\n          return seg;\n        }\n      }\n      return [];\n    };\n\n\n    ExifRestorer.insertExif = function (resizedFileBase64, exifArray) {\n      var imageData = resizedFileBase64.replace('data:image/jpeg;base64,', ''),\n        buf = this.decode64(imageData),\n        separatePoint = buf.indexOf(255, 3),\n        mae = buf.slice(0, separatePoint),\n        ato = buf.slice(separatePoint),\n        array = mae;\n\n      array = array.concat(exifArray);\n      array = array.concat(ato);\n      return array;\n    };\n\n\n    ExifRestorer.slice2Segments = function (rawImageArray) {\n      var head = 0,\n        segments = [];\n\n      while (1) {\n        if (rawImageArray[head] === 255 & rawImageArray[head + 1] === 218) {\n          break;\n        }\n        if (rawImageArray[head] === 255 & rawImageArray[head + 1] === 216) {\n          head += 2;\n        }\n        else {\n          var length = rawImageArray[head + 2] * 256 + rawImageArray[head + 3],\n            endPoint = head + length + 2,\n            seg = rawImageArray.slice(head, endPoint);\n          segments.push(seg);\n          head = endPoint;\n        }\n        if (head > rawImageArray.length) {\n          break;\n        }\n      }\n\n      return segments;\n    };\n\n\n    ExifRestorer.decode64 = function (input) {\n      var chr1, chr2, chr3 = '',\n        enc1, enc2, enc3, enc4 = '',\n        i = 0,\n        buf = [];\n\n      // remove all characters that are not A-Z, a-z, 0-9, +, /, or =\n      var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n      if (base64test.exec(input)) {\n        console.log('There were invalid base64 characters in the input text.\\n' +\n          'Valid base64 characters are A-Z, a-z, 0-9, ' + ', ' / ',and \"=\"\\n' +\n          'Expect errors in decoding.');\n      }\n      input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, '');\n\n      do {\n        enc1 = this.KEY_STR.indexOf(input.charAt(i++));\n        enc2 = this.KEY_STR.indexOf(input.charAt(i++));\n        enc3 = this.KEY_STR.indexOf(input.charAt(i++));\n        enc4 = this.KEY_STR.indexOf(input.charAt(i++));\n\n        chr1 = (enc1 << 2) | (enc2 >> 4);\n        chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n        chr3 = ((enc3 & 3) << 6) | enc4;\n\n        buf.push(chr1);\n\n        if (enc3 !== 64) {\n          buf.push(chr2);\n        }\n        if (enc4 !== 64) {\n          buf.push(chr3);\n        }\n\n        chr1 = chr2 = chr3 = '';\n        enc1 = enc2 = enc3 = enc4 = '';\n\n      } while (i < input.length);\n\n      return buf;\n    };\n\n    return ExifRestorer.restore(orig, resized);  //<= EXIF\n  };\n\n  return upload;\n}]);\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/ng-file-upload/dist/ng-file-upload-all.js\n ** module id = 36\n ** module chunks = 0\n **/","require('./dist/ng-file-upload-all');\nmodule.exports = 'ngFileUpload';\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/ng-file-upload/index.js\n ** module id = 37\n ** module chunks = 0\n **/","(function (root, factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    define(['angular'], factory);\n  } else if (root.hasOwnProperty('angular')) {\n    // Browser globals (root is window), we don't register it.\n    factory(root.angular);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('angular'));\n  }\n}(this , function (angular) {\n    'use strict';\n\n    // In cases where Angular does not get passed or angular is a truthy value\n    // but misses .module we can fall back to using window.\n    angular = (angular && angular.module ) ? angular : window.angular;\n\n    /**\n     * @ngdoc overview\n     * @name ngStorage\n     */\n\n    return angular.module('ngStorage', [])\n\n    /**\n     * @ngdoc object\n     * @name ngStorage.$localStorage\n     * @requires $rootScope\n     * @requires $window\n     */\n\n    .provider('$localStorage', _storageProvider('localStorage'))\n\n    /**\n     * @ngdoc object\n     * @name ngStorage.$sessionStorage\n     * @requires $rootScope\n     * @requires $window\n     */\n\n    .provider('$sessionStorage', _storageProvider('sessionStorage'));\n\n    function _storageProvider(storageType) {\n        return function () {\n          var storageKeyPrefix = 'ngStorage-';\n\n          this.setKeyPrefix = function (prefix) {\n            if (typeof prefix !== 'string') {\n              throw new TypeError('[ngStorage] - ' + storageType + 'Provider.setKeyPrefix() expects a String.');\n            }\n            storageKeyPrefix = prefix;\n          };\n\n          var serializer = angular.toJson;\n          var deserializer = angular.fromJson;\n\n          this.setSerializer = function (s) {\n            if (typeof s !== 'function') {\n              throw new TypeError('[ngStorage] - ' + storageType + 'Provider.setSerializer expects a function.');\n            }\n\n            serializer = s;\n          };\n\n          this.setDeserializer = function (d) {\n            if (typeof d !== 'function') {\n              throw new TypeError('[ngStorage] - ' + storageType + 'Provider.setDeserializer expects a function.');\n            }\n\n            deserializer = d;\n          };\n\n          // Note: This is not very elegant at all.\n          this.get = function (key) {\n            return deserializer(window[storageType].getItem(storageKeyPrefix + key));\n          };\n\n          // Note: This is not very elegant at all.\n          this.set = function (key, value) {\n            return window[storageType].setItem(storageKeyPrefix + key, serializer(value));\n          };\n\n          this.$get = [\n              '$rootScope',\n              '$window',\n              '$log',\n              '$timeout',\n              '$document',\n\n              function(\n                  $rootScope,\n                  $window,\n                  $log,\n                  $timeout,\n                  $document\n              ){\n                function isStorageSupported(storageType) {\n\n                    // Some installations of IE, for an unknown reason, throw \"SCRIPT5: Error: Access is denied\"\n                    // when accessing window.localStorage. This happens before you try to do anything with it. Catch\n                    // that error and allow execution to continue.\n\n                    // fix 'SecurityError: DOM Exception 18' exception in Desktop Safari, Mobile Safari\n                    // when \"Block cookies\": \"Always block\" is turned on\n                    var supported;\n                    try {\n                        supported = $window[storageType];\n                    }\n                    catch (err) {\n                        supported = false;\n                    }\n\n                    // When Safari (OS X or iOS) is in private browsing mode, it appears as though localStorage\n                    // is available, but trying to call .setItem throws an exception below:\n                    // \"QUOTA_EXCEEDED_ERR: DOM Exception 22: An attempt was made to add something to storage that exceeded the quota.\"\n                    if (supported && storageType === 'localStorage') {\n                        var key = '__' + Math.round(Math.random() * 1e7);\n\n                        try {\n                            localStorage.setItem(key, key);\n                            localStorage.removeItem(key);\n                        }\n                        catch (err) {\n                            supported = false;\n                        }\n                    }\n\n                    return supported;\n                }\n\n                // The magic number 10 is used which only works for some keyPrefixes...\n                // See https://github.com/gsklee/ngStorage/issues/137\n                var prefixLength = storageKeyPrefix.length;\n\n                // #9: Assign a placeholder object if Web Storage is unavailable to prevent breaking the entire AngularJS app\n                var webStorage = isStorageSupported(storageType) || ($log.warn('This browser does not support Web Storage!'), {setItem: angular.noop, getItem: angular.noop, removeItem: angular.noop}),\n                    $storage = {\n                        $default: function(items) {\n                            for (var k in items) {\n                                angular.isDefined($storage[k]) || ($storage[k] = angular.copy(items[k]) );\n                            }\n\n                            $storage.$sync();\n                            return $storage;\n                        },\n                        $reset: function(items) {\n                            for (var k in $storage) {\n                                '$' === k[0] || (delete $storage[k] && webStorage.removeItem(storageKeyPrefix + k));\n                            }\n\n                            return $storage.$default(items);\n                        },\n                        $sync: function () {\n                            for (var i = 0, l = webStorage.length, k; i < l; i++) {\n                                // #8, #10: `webStorage.key(i)` may be an empty string (or throw an exception in IE9 if `webStorage` is empty)\n                                (k = webStorage.key(i)) && storageKeyPrefix === k.slice(0, prefixLength) && ($storage[k.slice(prefixLength)] = deserializer(webStorage.getItem(k)));\n                            }\n                        },\n                        $apply: function() {\n                            var temp$storage;\n\n                            _debounce = null;\n\n                            if (!angular.equals($storage, _last$storage)) {\n                                temp$storage = angular.copy(_last$storage);\n                                angular.forEach($storage, function(v, k) {\n                                    if (angular.isDefined(v) && '$' !== k[0]) {\n                                        webStorage.setItem(storageKeyPrefix + k, serializer(v));\n                                        delete temp$storage[k];\n                                    }\n                                });\n\n                                for (var k in temp$storage) {\n                                    webStorage.removeItem(storageKeyPrefix + k);\n                                }\n\n                                _last$storage = angular.copy($storage);\n                            }\n                        }\n                    },\n                    _last$storage,\n                    _debounce;\n\n                $storage.$sync();\n\n                _last$storage = angular.copy($storage);\n\n                $rootScope.$watch(function() {\n                    _debounce || (_debounce = $timeout($storage.$apply, 100, false));\n                });\n\n                // #6: Use `$window.addEventListener` instead of `angular.element` to avoid the jQuery-specific `event.originalEvent`\n                $window.addEventListener && $window.addEventListener('storage', function(event) {\n                    if (!event.key) {\n                      return;\n                    }\n\n                    // Reference doc.\n                    var doc = $document[0];\n\n                    if ( (!doc.hasFocus || !doc.hasFocus()) && storageKeyPrefix === event.key.slice(0, prefixLength) ) {\n                        event.newValue ? $storage[event.key.slice(prefixLength)] = deserializer(event.newValue) : delete $storage[event.key.slice(prefixLength)];\n\n                        _last$storage = angular.copy($storage);\n\n                        $rootScope.$apply();\n                    }\n                });\n\n                $window.addEventListener && $window.addEventListener('beforeunload', function() {\n                    $storage.$apply();\n                });\n\n                return $storage;\n              }\n          ];\n      };\n    }\n\n}));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/ngstorage/ngStorage.js\n ** module id = 38\n ** module chunks = 0\n **/","module.exports = \"<form name=\\\"loginForm\\\" ng-submit=\\\"ctrl.login(ctrl.credentials)\\\" novalidate>\\n  <label for=\\\"username\\\">Username:</label>\\n  <input type=\\\"text\\\" id=\\\"username\\\" ng-model=\\\"ctrl.credentials.username\\\">\\n\\n  <label for=\\\"password\\\">Password:</label>\\n  <input type=\\\"password\\\" id=\\\"password\\\" ng-model=\\\"ctrl.credentials.password\\\">\\n\\n  <md-button type=\\\"submit\\\">Login</md-button>\\n</form>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/login-form/template.html\n ** module id = 39\n ** module chunks = 0\n **/","module.exports = \"<md-button ng-click=\\\"ctrl.logout()\\\">Log out</md-button>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/logout-button/template.html\n ** module id = 40\n ** module chunks = 0\n **/","module.exports = \"<md-dialog aria-label=\\\"Post modify dialog\\\">\\n  <form ng-submit=\\\"dialog.submit()\\\">\\n    <md-dialog-content>\\n      <div class=\\\"md-dialog-content\\\">\\n        <md-input-container md-no-float flex>\\n          <label for=\\\"title\\\">Title</label>\\n          <input type=\\\"text\\\" id=\\\"title\\\" name=\\\"title\\\" ng-model=\\\"dialog.post.title\\\">\\n        </md-input-container>\\n      </div>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n      <md-button ng-click=\\\"dialog.cancel()\\\" class=\\\"md-primary\\\">Cancel</md-button>\\n      <md-button ng-click=\\\"dialog.submit()\\\" class=\\\"md-primary\\\">Submit</md-button>\\n    </md-dialog-actions>\\n  </form>\\n</md-dialog>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/post-create/dialog.html\n ** module id = 41\n ** module chunks = 0\n **/","module.exports = \"<form name=\\\"ctrl.postCreateForm\\\" ng-submit=\\\"ctrl.createPost(ctrl.post)\\\" novalidate layout=\\\"column\\\">\\n\\n  <md-progress-linear ng-if=\\\"ctrl.loading\\\" md-mode=\\\"determinate\\\" value=\\\"{{ ctrl.uploadPercentage }}\\\"></md-progress-linear>\\n\\n  <md-input-container md-no-float flex>\\n    <input ngf-select ng-change=\\\"ctrl.createPost(ctrl.post)\\\" name=\\\"file\\\" type=\\\"file\\\" ng-model=\\\"ctrl.post.file\\\" aria-label=\\\"File\\\" required>\\n  </md-input-container>\\n\\n</form>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/post-create/template.html\n ** module id = 42\n ** module chunks = 0\n **/","module.exports = \"<md-button ng-click=\\\"ctrl.deletePost(ctrl.post)\\\">Delete</md-button>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/post-delete-button/template.html\n ** module id = 43\n ** module chunks = 0\n **/","module.exports = \"<post-create\\n  on-create=\\\"ctrl.onPostCreate(post)\\\"\\n  on-update=\\\"ctrl.onPostUpdate(post)\\\"\\n  on-delete=\\\"ctrl.onPostDelete(post)\\\">\\n</post-create>\\n\\n<md-list>\\n  <md-list-item class=\\\"md-3-line\\\" ng-repeat=\\\"post in ctrl.posts\\\">\\n\\n    <img ng-if=\\\"post.thumbnail_url\\\" ng-src=\\\"{{ post.thumbnail_url }}\\\" class=\\\"md-avatar md-avatar-big md-avatar-square\\\"/>\\n    <md-icon ng-if=\\\"!post.thumbnail_url\\\" class=\\\"md-avatar-icon md-avatar-big md-avatar-square\\\">insert_drive_file</md-icon>\\n\\n    <div class=\\\"md-list-item-text\\\" layout=\\\"column\\\">\\n      <h3>{{ post.title }}</h3>\\n      <h4>On {{ post.created | date }} by {{ post.user.username }}</h4>\\n      <a class=\\\"post-file\\\" href=\\\"#\\\" ng-href=\\\"{{ post.file }}\\\" ng-if=\\\"post.file\\\" target=\\\"_blank\\\"><md-icon>attachment</md-icon> {{ post.file_name }}</a>\\n    </div>\\n\\n    <post-delete-button ng-if=\\\"ctrl.user.current().user_id == post.user.id\\\" post=\\\"post\\\" on-delete=\\\"ctrl.onPostDelete(post)\\\"></post-delete-button>\\n\\n    <md-divider></md-divider>\\n  </md-list-item>\\n</md-list>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/post-list/template.html\n ** module id = 44\n ** module chunks = 0\n **/","module.exports = \"<login-form ng-if=\\\"!ctrl.auth.isAuthenticated()\\\"></login-form>\\n<div class=\\\"\\\" ng-if=\\\"ctrl.auth.isAuthenticated()\\\">\\n  Logged in as {{ ctrl.user.current().username }}\\n  <logout-button></logout-button>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/user-menu/template.html\n ** module id = 45\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/login-form/style.scss\n ** module id = 46\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/logout-button/style.scss\n ** module id = 47\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/post-create/style.scss\n ** module id = 48\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/post-delete-button/style.scss\n ** module id = 49\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/post-list/style.scss\n ** module id = 50\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/user-menu/style.scss\n ** module id = 51\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./index.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./index.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/sass-loader/index.js!./index.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./index.scss\n ** module id = 52\n ** module chunks = 0\n **/","module.exports = \"ngAnimate\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"\\\"ngAnimate\\\"\"\n ** module id = 53\n ** module chunks = 0\n **/","module.exports = \"ngAria\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"\\\"ngAria\\\"\"\n ** module id = 54\n ** module chunks = 0\n **/","module.exports = \"ngCookies\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"\\\"ngCookies\\\"\"\n ** module id = 55\n ** module chunks = 0\n **/","module.exports = \"ngMaterial\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"\\\"ngMaterial\\\"\"\n ** module id = 56\n ** module chunks = 0\n **/","module.exports = \"ngMessages\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"\\\"ngMessages\\\"\"\n ** module id = 57\n ** module chunks = 0\n **/","module.exports = \"ngResource\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"\\\"ngResource\\\"\"\n ** module id = 58\n ** module chunks = 0\n **/","module.exports = \"ngRoute\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"\\\"ngRoute\\\"\"\n ** module id = 59\n ** module chunks = 0\n **/"],"sourceRoot":""}